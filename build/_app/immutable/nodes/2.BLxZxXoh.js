var Pd=Object.defineProperty;var Ad=(X,g,S)=>g in X?Pd(X,g,{enumerable:!0,configurable:!0,writable:!0,value:S}):X[g]=S;var Mn=(X,g,S)=>Ad(X,typeof g!="symbol"?g+"":g,S);import{g as fn,h as La,o as Ld,p as Wl,b as ra,s as Ii,c as oo,d as Rd,E as Es,z as Ra,A as na,f as Dd,B as Id,C as Fd,D as Nd,a as Ud,j as ql,F as Bd,k as Yr,t as Sn,r as xt,l as Pt,n as gt,G as oa,m as is,x as Fi}from"../chunks/disclose-version.DLFa3qtk.js";import{E as Lu,i as Gd,F as Ru,m as Da,G as zd,T as Vd,K as Hd,n as Xl,v as qo,s as Du,B as Ms,U as Wd,V as qd,R as Iu,x as Xd,S as Yd,y as Zd,I as Qd,b as $d,p as _o,o as xo,w as sa,g as $t,W as Kd,X as Jd,e as Yl,O as ia,a as eh,Y as Nn}from"../chunks/runtime.DgzI6-Hr.js";import{p as Po,o as wo,b as Ro,i as aa,a as Ia}from"../chunks/index-client.Buzi_1Eb.js";import{i as Fa}from"../chunks/lifecycle.B5KOVnIt.js";import{h as th}from"../chunks/warnings.C6eb7gPK.js";let Ni=null;function rh(X,g){return g}function nh(X,g,S,t){for(var _=[],b=g.length,s=0;s<b;s++)Wd(g[s].e,_,!0);var l=b>0&&_.length===0&&S!==null;if(l){var n=S.parentNode;Dd(n),n.append(S),t.clear(),Bn(X,g[0].prev,g[b-1].next)}qd(_,()=>{for(var d=0;d<b;d++){var m=g[d];l||(t.delete(m.k),Bn(X,m.prev,m.next)),Iu(m.e,!l)}})}function oh(X,g,S,t,_,b=null){var s=X,l={flags:g,items:new Map,first:null};fn&&La();var n=null;Lu(()=>{var d=S(),m=Gd(d)?d:d==null?[]:Array.from(d),p=m.length,r=l.flags;r&na&&!Xd(m)&&!(Yd in m)&&!(Zd in m)&&(r^=na,r&Fd&&!(r&Es)&&(r^=Es));let o=!1;if(fn){var a=s.data===Ld;a!==(p===0)&&(s=Wl(),ra(s),Ii(!1),o=!0)}if(fn){for(var i=null,h,c=0;c<p;c++){if(oo.nodeType===8&&oo.data===Rd){s=oo,o=!0,Ii(!1);break}var u=m[c],f=t(u,c);h=Fu(oo,l,i,null,u,f,c,_,r),l.items.set(f,h),i=h}p>0&&ra(Wl())}fn||sh(m,l,s,_,r,t),b!==null&&(p===0?n?Ru(n):n=Da(()=>b(s)):n!==null&&zd(n,()=>{n=null})),o&&Ii(!0)}),fn&&(s=oo)}function sh(X,g,S,t,_,b){var P,F,I,B;var s=(_&Id)!==0,l=(_&(Es|Ra))!==0,n=X.length,d=g.items,m=g.first,p=m,r=new Set,o=null,a=new Set,i=[],h=[],c,u,f,y;if(s)for(y=0;y<n;y+=1)c=X[y],u=b(c,y),f=d.get(u),f!==void 0&&((P=f.a)==null||P.measure(),a.add(f));for(y=0;y<n;y+=1){if(c=X[y],u=b(c,y),f=d.get(u),f===void 0){var x=p?p.e.nodes.start:S;o=Fu(x,g,o,o===null?g.first:o.next,c,u,y,t,_),d.set(u,o),i=[],h=[],p=o.next;continue}if(l&&ih(f,c,y,_),f.e.f&Vd&&(Ru(f.e),s&&((F=f.a)==null||F.unfix(),a.delete(f))),f!==p){if(r.has(f)){if(i.length<h.length){var M=h[0],w;o=M.prev;var E=i[0],C=i[i.length-1];for(w=0;w<i.length;w+=1)Zl(i[w],M,S);for(w=0;w<h.length;w+=1)r.delete(h[w]);Bn(g,E.prev,C.next),Bn(g,o,E),Bn(g,C,M),p=M,o=C,y-=1,i=[],h=[]}else r.delete(f),Zl(f,p,S),Bn(g,f.prev,f.next),Bn(g,f,o===null?g.first:o.next),Bn(g,o,f),o=f;continue}for(i=[],h=[];p!==null&&p.k!==u;)r.add(p),h.push(p),p=p.next;if(p===null)continue;f=p}i.push(f),o=f,p=f.next}const L=Array.from(r);for(;p!==null;)L.push(p),p=p.next;var k=L.length;if(k>0){var R=_&Nd&&n===0?S:null;if(s){for(y=0;y<k;y+=1)(I=L[y].a)==null||I.measure();for(y=0;y<k;y+=1)(B=L[y].a)==null||B.fix()}nh(g,L,R,d)}s&&Hd(()=>{var V;for(f of a)(V=f.a)==null||V.apply()}),Xl.first=g.first&&g.first.e,Xl.last=o&&o.e}function ih(X,g,S,t){t&Es&&qo(X.v,g),t&Ra?qo(X.i,S):X.i=S}function Fu(X,g,S,t,_,b,s,l,n){var d=Ni;try{var m=(n&Es)!==0,p=(n&na)===0,r=m?p?Du(_):Ms(_):_,o=n&Ra?Ms(s):s,a={i:o,v:r,k:b,a:null,e:null,prev:S,next:t};return Ni=a,a.e=Da(()=>l(X,r,o),fn),a.e.prev=S&&S.e,a.e.next=t&&t.e,S===null?g.first=a:(S.next=a,S.e.next=a.e),t!==null&&(t.prev=a,t.e.prev=a.e),a}finally{Ni=d}}function Zl(X,g,S){for(var t=X.next?X.next.e.nodes.start:S,_=g?g.e.nodes.start:S,b=X.e.nodes.start;b!==t;){var s=b.nextSibling;_.before(b),b=s}}function Bn(X,g,S){g===null?X.first=S:(g.next=S,g.e.next=S&&S.e),S!==null&&(S.prev=g,S.e.prev=g&&g.e)}function Ql(X,g,S,t){var _=X,b="",s;Lu(()=>{b!==(b=g())&&(s&&(Iu(s),s=null),b!==""&&(s=Da(()=>{if(fn){oo.data;for(var l=La(),n=l;l!==null&&(l.nodeType!==8||l.data!=="");)n=l,l=l.nextSibling;if(l===null)throw th(),Ud;ql(oo,n),_=ra(l);return}var d=b+"",m=Bd(d);ql(m.firstChild,m.lastChild),_.before(m)})))})}function ah(X,g,S,t){fn&&La(),g===void 0||g(X,S)}function lh(X,g,S){Qd(()=>{var t=$d(()=>g(X,S==null?void 0:S())||{});if(t!=null&&t.destroy)return()=>t.destroy()})}function Do(X,g,S){S=S==null?null:S+"";var t=X.__attributes??(X.__attributes={});if(fn){t[g]=X.getAttribute(g);return}t[g]!==(t[g]=S)&&(S===null?X.removeAttribute(g):X.setAttribute(g,S))}function uh(X,g){var S=X.__className,t=g;fn&&X.className===t?X.__className=t:(S!==t||fn&&X.className!==t)&&(X.className=t,X.__className=t)}function Io(X,g,S){S?X.classList.add(g):X.classList.remove(g)}function ch(X){var S;var g=(S=X.$$slots)==null?void 0:S.default;return g===!0?X.children:g}const dh=!1,Rp=Object.freeze(Object.defineProperty({__proto__:null,ssr:dh},Symbol.toStringTag,{value:"Module"})),hh=""+new URL("../assets/bg-video_rc_10s.DczdKUdN.mp4",import.meta.url).href,fh=""+new URL("../assets/bg-video_fallback.Ck2nYTSv.gif",import.meta.url).href,ph=""+new URL("../assets/scl_logo.IdOb5teQ.svg",import.meta.url).href,mh="data:image/svg+xml,%3csvg%20width='38'%20height='24'%20viewBox='0%200%2038%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cmask%20id='mask0_74_419'%20style='mask-type:luminance'%20maskUnits='userSpaceOnUse'%20x='0'%20y='2'%20width='38'%20height='20'%3e%3cpath%20d='M38%202H0V22H38V2Z'%20fill='white'/%3e%3c/mask%3e%3cg%20mask='url(%23mask0_74_419)'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M27.4443%206.21053H37.9999V2H27.4443V6.21053Z'%20fill='white'%20style='mix-blend-mode:difference'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M6.86084%2015.6842H11.083V2H6.86084V15.6842Z'%20fill='white'%20style='mix-blend-mode:difference'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M13.7222%2022H17.9444V2H13.7222V22Z'%20fill='white'%20style='mix-blend-mode:difference'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M0%2022H4.22222V2H0V22Z'%20fill='white'%20style='mix-blend-mode:difference'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M27.4443%2021.9995H31.6665V8.84216H27.4443V21.9995Z'%20fill='white'%20style='mix-blend-mode:difference'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M20.5835%206.21053H24.8057V2H20.5835V6.21053Z'%20fill='white'%20style='mix-blend-mode:difference'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M20.5835%2022H24.8057V8.84216H20.5835V22Z'%20fill='%23BCBCBC'%20style='mix-blend-mode:difference'/%3e%3c/g%3e%3c/svg%3e";function kn(X){if(X===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return X}function Nu(X,g){X.prototype=Object.create(g.prototype),X.prototype.constructor=X,X.__proto__=g}/*!
 * GSAP 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Kr={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Xo={duration:.5,overwrite:!1,delay:0},Na,kr,Xt,nn=1e8,Bt=1/nn,la=Math.PI*2,yh=la/4,gh=0,Uu=Math.sqrt,vh=Math.cos,bh=Math.sin,vr=function(g){return typeof g=="string"},nr=function(g){return typeof g=="function"},Ln=function(g){return typeof g=="number"},Ua=function(g){return typeof g>"u"},jn=function(g){return typeof g=="object"},Br=function(g){return g!==!1},Ba=function(){return typeof window<"u"},Vs=function(g){return nr(g)||vr(g)},Bu=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Cr=Array.isArray,ua=/(?:-?\.?\d|\.)+/gi,Gu=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Fo=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Ui=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,zu=/[+-]=-?[.\d]+/,Vu=/[^,'"\[\]\s]+/gi,_h=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Kt,yn,ca,Ga,Jr={},fi={},Hu,Wu=function(g){return(fi=mo(g,Jr))&&Hr},za=function(g,S){return console.warn("Invalid property",g,"set to",S,"Missing plugin? gsap.registerPlugin()")},ks=function(g,S){return!S&&console.warn(g)},qu=function(g,S){return g&&(Jr[g]=S)&&fi&&(fi[g]=S)||Jr},Cs=function(){return 0},xh={suppressEvents:!0,isStart:!0,kill:!1},oi={suppressEvents:!0,kill:!1},wh={suppressEvents:!0},Va={},qn=[],da={},Xu,Xr={},Bi={},$l=30,si=[],Ha="",Wa=function(g){var S=g[0],t,_;if(jn(S)||nr(S)||(g=[g]),!(t=(S._gsap||{}).harness)){for(_=si.length;_--&&!si[_].targetTest(S););t=si[_]}for(_=g.length;_--;)g[_]&&(g[_]._gsap||(g[_]._gsap=new gc(g[_],t)))||g.splice(_,1);return g},ao=function(g){return g._gsap||Wa(on(g))[0]._gsap},Yu=function(g,S,t){return(t=g[S])&&nr(t)?g[S]():Ua(t)&&g.getAttribute&&g.getAttribute(S)||t},Gr=function(g,S){return(g=g.split(",")).forEach(S)||g},sr=function(g){return Math.round(g*1e5)/1e5||0},gr=function(g){return Math.round(g*1e7)/1e7||0},Bo=function(g,S){var t=S.charAt(0),_=parseFloat(S.substr(2));return g=parseFloat(g),t==="+"?g+_:t==="-"?g-_:t==="*"?g*_:g/_},jh=function(g,S){for(var t=S.length,_=0;g.indexOf(S[_])<0&&++_<t;);return _<t},pi=function(){var g=qn.length,S=qn.slice(0),t,_;for(da={},qn.length=0,t=0;t<g;t++)_=S[t],_&&_._lazy&&(_.render(_._lazy[0],_._lazy[1],!0)._lazy=0)},Zu=function(g,S,t,_){qn.length&&!kr&&pi(),g.render(S,t,kr&&S<0&&(g._initted||g._startAt)),qn.length&&!kr&&pi()},Qu=function(g){var S=parseFloat(g);return(S||S===0)&&(g+"").match(Vu).length<2?S:vr(g)?g.trim():g},$u=function(g){return g},an=function(g,S){for(var t in S)t in g||(g[t]=S[t]);return g},Sh=function(g){return function(S,t){for(var _ in t)_ in S||_==="duration"&&g||_==="ease"||(S[_]=t[_])}},mo=function(g,S){for(var t in S)g[t]=S[t];return g},Kl=function X(g,S){for(var t in S)t!=="__proto__"&&t!=="constructor"&&t!=="prototype"&&(g[t]=jn(S[t])?X(g[t]||(g[t]={}),S[t]):S[t]);return g},mi=function(g,S){var t={},_;for(_ in g)_ in S||(t[_]=g[_]);return t},ps=function(g){var S=g.parent||Kt,t=g.keyframes?Sh(Cr(g.keyframes)):an;if(Br(g.inherit))for(;S;)t(g,S.vars.defaults),S=S.parent||S._dp;return g},Th=function(g,S){for(var t=g.length,_=t===S.length;_&&t--&&g[t]===S[t];);return t<0},Ku=function(g,S,t,_,b){var s=g[_],l;if(b)for(l=S[b];s&&s[b]>l;)s=s._prev;return s?(S._next=s._next,s._next=S):(S._next=g[t],g[t]=S),S._next?S._next._prev=S:g[_]=S,S._prev=s,S.parent=S._dp=g,S},Ti=function(g,S,t,_){t===void 0&&(t="_first"),_===void 0&&(_="_last");var b=S._prev,s=S._next;b?b._next=s:g[t]===S&&(g[t]=s),s?s._prev=b:g[_]===S&&(g[_]=b),S._next=S._prev=S.parent=null},Zn=function(g,S){g.parent&&(!S||g.parent.autoRemoveChildren)&&g.parent.remove&&g.parent.remove(g),g._act=0},lo=function(g,S){if(g&&(!S||S._end>g._dur||S._start<0))for(var t=g;t;)t._dirty=1,t=t.parent;return g},Eh=function(g){for(var S=g.parent;S&&S.parent;)S._dirty=1,S.totalDuration(),S=S.parent;return g},ha=function(g,S,t,_){return g._startAt&&(kr?g._startAt.revert(oi):g.vars.immediateRender&&!g.vars.autoRevert||g._startAt.render(S,!0,_))},Mh=function X(g){return!g||g._ts&&X(g.parent)},Jl=function(g){return g._repeat?Yo(g._tTime,g=g.duration()+g._rDelay)*g:0},Yo=function(g,S){var t=Math.floor(g/=S);return g&&t===g?t-1:t},yi=function(g,S){return(g-S._start)*S._ts+(S._ts>=0?0:S._dirty?S.totalDuration():S._tDur)},Ei=function(g){return g._end=gr(g._start+(g._tDur/Math.abs(g._ts||g._rts||Bt)||0))},Mi=function(g,S){var t=g._dp;return t&&t.smoothChildTiming&&g._ts&&(g._start=gr(t._time-(g._ts>0?S/g._ts:((g._dirty?g.totalDuration():g._tDur)-S)/-g._ts)),Ei(g),t._dirty||lo(t,g)),g},Ju=function(g,S){var t;if((S._time||!S._dur&&S._initted||S._start<g._time&&(S._dur||!S.add))&&(t=yi(g.rawTime(),S),(!S._dur||Fs(0,S.totalDuration(),t)-S._tTime>Bt)&&S.render(t,!0)),lo(g,S)._dp&&g._initted&&g._time>=g._dur&&g._ts){if(g._dur<g.duration())for(t=g;t._dp;)t.rawTime()>=0&&t.totalTime(t._tTime),t=t._dp;g._zTime=-Bt}},vn=function(g,S,t,_){return S.parent&&Zn(S),S._start=gr((Ln(t)?t:t||g!==Kt?en(g,t,S):g._time)+S._delay),S._end=gr(S._start+(S.totalDuration()/Math.abs(S.timeScale())||0)),Ku(g,S,"_first","_last",g._sort?"_start":0),fa(S)||(g._recent=S),_||Ju(g,S),g._ts<0&&Mi(g,g._tTime),g},ec=function(g,S){return(Jr.ScrollTrigger||za("scrollTrigger",S))&&Jr.ScrollTrigger.create(S,g)},tc=function(g,S,t,_,b){if(Xa(g,S,b),!g._initted)return 1;if(!t&&g._pt&&!kr&&(g._dur&&g.vars.lazy!==!1||!g._dur&&g.vars.lazy)&&Xu!==Zr.frame)return qn.push(g),g._lazy=[b,_],1},kh=function X(g){var S=g.parent;return S&&S._ts&&S._initted&&!S._lock&&(S.rawTime()<0||X(S))},fa=function(g){var S=g.data;return S==="isFromStart"||S==="isStart"},Ch=function(g,S,t,_){var b=g.ratio,s=S<0||!S&&(!g._start&&kh(g)&&!(!g._initted&&fa(g))||(g._ts<0||g._dp._ts<0)&&!fa(g))?0:1,l=g._rDelay,n=0,d,m,p;if(l&&g._repeat&&(n=Fs(0,g._tDur,S),m=Yo(n,l),g._yoyo&&m&1&&(s=1-s),m!==Yo(g._tTime,l)&&(b=1-s,g.vars.repeatRefresh&&g._initted&&g.invalidate())),s!==b||kr||_||g._zTime===Bt||!S&&g._zTime){if(!g._initted&&tc(g,S,_,t,n))return;for(p=g._zTime,g._zTime=S||(t?Bt:0),t||(t=S&&!p),g.ratio=s,g._from&&(s=1-s),g._time=0,g._tTime=n,d=g._pt;d;)d.r(s,d.d),d=d._next;S<0&&ha(g,S,t,!0),g._onUpdate&&!t&&$r(g,"onUpdate"),n&&g._repeat&&!t&&g.parent&&$r(g,"onRepeat"),(S>=g._tDur||S<0)&&g.ratio===s&&(s&&Zn(g,1),!t&&!kr&&($r(g,s?"onComplete":"onReverseComplete",!0),g._prom&&g._prom()))}else g._zTime||(g._zTime=S)},Oh=function(g,S,t){var _;if(t>S)for(_=g._first;_&&_._start<=t;){if(_.data==="isPause"&&_._start>S)return _;_=_._next}else for(_=g._last;_&&_._start>=t;){if(_.data==="isPause"&&_._start<S)return _;_=_._prev}},Zo=function(g,S,t,_){var b=g._repeat,s=gr(S)||0,l=g._tTime/g._tDur;return l&&!_&&(g._time*=s/g._dur),g._dur=s,g._tDur=b?b<0?1e10:gr(s*(b+1)+g._rDelay*b):s,l>0&&!_&&Mi(g,g._tTime=g._tDur*l),g.parent&&Ei(g),t||lo(g.parent,g),g},eu=function(g){return g instanceof Ir?lo(g):Zo(g,g._dur)},Ph={_start:0,endTime:Cs,totalDuration:Cs},en=function X(g,S,t){var _=g.labels,b=g._recent||Ph,s=g.duration()>=nn?b.endTime(!1):g._dur,l,n,d;return vr(S)&&(isNaN(S)||S in _)?(n=S.charAt(0),d=S.substr(-1)==="%",l=S.indexOf("="),n==="<"||n===">"?(l>=0&&(S=S.replace(/=/,"")),(n==="<"?b._start:b.endTime(b._repeat>=0))+(parseFloat(S.substr(1))||0)*(d?(l<0?b:t).totalDuration()/100:1)):l<0?(S in _||(_[S]=s),_[S]):(n=parseFloat(S.charAt(l-1)+S.substr(l+1)),d&&t&&(n=n/100*(Cr(t)?t[0]:t).totalDuration()),l>1?X(g,S.substr(0,l-1),t)+n:s+n)):S==null?s:+S},ms=function(g,S,t){var _=Ln(S[1]),b=(_?2:1)+(g<2?0:1),s=S[b],l,n;if(_&&(s.duration=S[1]),s.parent=t,g){for(l=s,n=t;n&&!("immediateRender"in l);)l=n.vars.defaults||{},n=Br(n.vars.inherit)&&n.parent;s.immediateRender=Br(l.immediateRender),g<2?s.runBackwards=1:s.startAt=S[b-1]}return new cr(S[0],s,S[b+1])},Kn=function(g,S){return g||g===0?S(g):S},Fs=function(g,S,t){return t<g?g:t>S?S:t},Mr=function(g,S){return!vr(g)||!(S=_h.exec(g))?"":S[1]},Ah=function(g,S,t){return Kn(t,function(_){return Fs(g,S,_)})},pa=[].slice,rc=function(g,S){return g&&jn(g)&&"length"in g&&(!S&&!g.length||g.length-1 in g&&jn(g[0]))&&!g.nodeType&&g!==yn},Lh=function(g,S,t){return t===void 0&&(t=[]),g.forEach(function(_){var b;return vr(_)&&!S||rc(_,1)?(b=t).push.apply(b,on(_)):t.push(_)})||t},on=function(g,S,t){return Xt&&!S&&Xt.selector?Xt.selector(g):vr(g)&&!t&&(ca||!Qo())?pa.call((S||Ga).querySelectorAll(g),0):Cr(g)?Lh(g,t):rc(g)?pa.call(g,0):g?[g]:[]},ma=function(g){return g=on(g)[0]||ks("Invalid scope")||{},function(S){var t=g.current||g.nativeElement||g;return on(S,t.querySelectorAll?t:t===g?ks("Invalid scope")||Ga.createElement("div"):g)}},nc=function(g){return g.sort(function(){return .5-Math.random()})},oc=function(g){if(nr(g))return g;var S=jn(g)?g:{each:g},t=uo(S.ease),_=S.from||0,b=parseFloat(S.base)||0,s={},l=_>0&&_<1,n=isNaN(_)||l,d=S.axis,m=_,p=_;return vr(_)?m=p={center:.5,edges:.5,end:1}[_]||0:!l&&n&&(m=_[0],p=_[1]),function(r,o,a){var i=(a||S).length,h=s[i],c,u,f,y,x,M,w,E,C;if(!h){if(C=S.grid==="auto"?0:(S.grid||[1,nn])[1],!C){for(w=-nn;w<(w=a[C++].getBoundingClientRect().left)&&C<i;);C<i&&C--}for(h=s[i]=[],c=n?Math.min(C,i)*m-.5:_%C,u=C===nn?0:n?i*p/C-.5:_/C|0,w=0,E=nn,M=0;M<i;M++)f=M%C-c,y=u-(M/C|0),h[M]=x=d?Math.abs(d==="y"?y:f):Uu(f*f+y*y),x>w&&(w=x),x<E&&(E=x);_==="random"&&nc(h),h.max=w-E,h.min=E,h.v=i=(parseFloat(S.amount)||parseFloat(S.each)*(C>i?i-1:d?d==="y"?i/C:C:Math.max(C,i/C))||0)*(_==="edges"?-1:1),h.b=i<0?b-i:b,h.u=Mr(S.amount||S.each)||0,t=t&&i<0?pc(t):t}return i=(h[r]-h.min)/h.max||0,gr(h.b+(t?t(i):i)*h.v)+h.u}},ya=function(g){var S=Math.pow(10,((g+"").split(".")[1]||"").length);return function(t){var _=gr(Math.round(parseFloat(t)/g)*g*S);return(_-_%1)/S+(Ln(t)?0:Mr(t))}},sc=function(g,S){var t=Cr(g),_,b;return!t&&jn(g)&&(_=t=g.radius||nn,g.values?(g=on(g.values),(b=!Ln(g[0]))&&(_*=_)):g=ya(g.increment)),Kn(S,t?nr(g)?function(s){return b=g(s),Math.abs(b-s)<=_?b:s}:function(s){for(var l=parseFloat(b?s.x:s),n=parseFloat(b?s.y:0),d=nn,m=0,p=g.length,r,o;p--;)b?(r=g[p].x-l,o=g[p].y-n,r=r*r+o*o):r=Math.abs(g[p]-l),r<d&&(d=r,m=p);return m=!_||d<=_?g[m]:s,b||m===s||Ln(s)?m:m+Mr(s)}:ya(g))},ic=function(g,S,t,_){return Kn(Cr(g)?!S:t===!0?!!(t=0):!_,function(){return Cr(g)?g[~~(Math.random()*g.length)]:(t=t||1e-5)&&(_=t<1?Math.pow(10,(t+"").length-2):1)&&Math.floor(Math.round((g-t/2+Math.random()*(S-g+t*.99))/t)*t*_)/_})},Rh=function(){for(var g=arguments.length,S=new Array(g),t=0;t<g;t++)S[t]=arguments[t];return function(_){return S.reduce(function(b,s){return s(b)},_)}},Dh=function(g,S){return function(t){return g(parseFloat(t))+(S||Mr(t))}},Ih=function(g,S,t){return lc(g,S,0,1,t)},ac=function(g,S,t){return Kn(t,function(_){return g[~~S(_)]})},Fh=function X(g,S,t){var _=S-g;return Cr(g)?ac(g,X(0,g.length),S):Kn(t,function(b){return(_+(b-g)%_)%_+g})},Nh=function X(g,S,t){var _=S-g,b=_*2;return Cr(g)?ac(g,X(0,g.length-1),S):Kn(t,function(s){return s=(b+(s-g)%b)%b||0,g+(s>_?b-s:s)})},Os=function(g){for(var S=0,t="",_,b,s,l;~(_=g.indexOf("random(",S));)s=g.indexOf(")",_),l=g.charAt(_+7)==="[",b=g.substr(_+7,s-_-7).match(l?Vu:ua),t+=g.substr(S,_-S)+ic(l?b:+b[0],l?0:+b[1],+b[2]||1e-5),S=s+1;return t+g.substr(S,g.length-S)},lc=function(g,S,t,_,b){var s=S-g,l=_-t;return Kn(b,function(n){return t+((n-g)/s*l||0)})},Uh=function X(g,S,t,_){var b=isNaN(g+S)?0:function(o){return(1-o)*g+o*S};if(!b){var s=vr(g),l={},n,d,m,p,r;if(t===!0&&(_=1)&&(t=null),s)g={p:g},S={p:S};else if(Cr(g)&&!Cr(S)){for(m=[],p=g.length,r=p-2,d=1;d<p;d++)m.push(X(g[d-1],g[d]));p--,b=function(a){a*=p;var i=Math.min(r,~~a);return m[i](a-i)},t=S}else _||(g=mo(Cr(g)?[]:{},g));if(!m){for(n in S)qa.call(l,g,n,"get",S[n]);b=function(a){return Qa(a,l)||(s?g.p:g)}}}return Kn(t,b)},tu=function(g,S,t){var _=g.labels,b=nn,s,l,n;for(s in _)l=_[s]-S,l<0==!!t&&l&&b>(l=Math.abs(l))&&(n=s,b=l);return n},$r=function(g,S,t){var _=g.vars,b=_[S],s=Xt,l=g._ctx,n,d,m;if(b)return n=_[S+"Params"],d=_.callbackScope||g,t&&qn.length&&pi(),l&&(Xt=l),m=n?b.apply(d,n):b.call(d),Xt=s,m},as=function(g){return Zn(g),g.scrollTrigger&&g.scrollTrigger.kill(!!kr),g.progress()<1&&$r(g,"onInterrupt"),g},No,uc=[],cc=function(g){if(g)if(g=!g.name&&g.default||g,Ba()||g.headless){var S=g.name,t=nr(g),_=S&&!t&&g.init?function(){this._props=[]}:g,b={init:Cs,render:Qa,add:qa,kill:tf,modifier:ef,rawVars:0},s={targetTest:0,get:0,getSetter:Za,aliases:{},register:0};if(Qo(),g!==_){if(Xr[S])return;an(_,an(mi(g,b),s)),mo(_.prototype,mo(b,mi(g,s))),Xr[_.prop=S]=_,g.targetTest&&(si.push(_),Va[S]=1),S=(S==="css"?"CSS":S.charAt(0).toUpperCase()+S.substr(1))+"Plugin"}qu(S,_),g.register&&g.register(Hr,_,zr)}else uc.push(g)},Nt=255,ls={aqua:[0,Nt,Nt],lime:[0,Nt,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Nt],navy:[0,0,128],white:[Nt,Nt,Nt],olive:[128,128,0],yellow:[Nt,Nt,0],orange:[Nt,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Nt,0,0],pink:[Nt,192,203],cyan:[0,Nt,Nt],transparent:[Nt,Nt,Nt,0]},Gi=function(g,S,t){return g+=g<0?1:g>1?-1:0,(g*6<1?S+(t-S)*g*6:g<.5?t:g*3<2?S+(t-S)*(2/3-g)*6:S)*Nt+.5|0},dc=function(g,S,t){var _=g?Ln(g)?[g>>16,g>>8&Nt,g&Nt]:0:ls.black,b,s,l,n,d,m,p,r,o,a;if(!_){if(g.substr(-1)===","&&(g=g.substr(0,g.length-1)),ls[g])_=ls[g];else if(g.charAt(0)==="#"){if(g.length<6&&(b=g.charAt(1),s=g.charAt(2),l=g.charAt(3),g="#"+b+b+s+s+l+l+(g.length===5?g.charAt(4)+g.charAt(4):"")),g.length===9)return _=parseInt(g.substr(1,6),16),[_>>16,_>>8&Nt,_&Nt,parseInt(g.substr(7),16)/255];g=parseInt(g.substr(1),16),_=[g>>16,g>>8&Nt,g&Nt]}else if(g.substr(0,3)==="hsl"){if(_=a=g.match(ua),!S)n=+_[0]%360/360,d=+_[1]/100,m=+_[2]/100,s=m<=.5?m*(d+1):m+d-m*d,b=m*2-s,_.length>3&&(_[3]*=1),_[0]=Gi(n+1/3,b,s),_[1]=Gi(n,b,s),_[2]=Gi(n-1/3,b,s);else if(~g.indexOf("="))return _=g.match(Gu),t&&_.length<4&&(_[3]=1),_}else _=g.match(ua)||ls.transparent;_=_.map(Number)}return S&&!a&&(b=_[0]/Nt,s=_[1]/Nt,l=_[2]/Nt,p=Math.max(b,s,l),r=Math.min(b,s,l),m=(p+r)/2,p===r?n=d=0:(o=p-r,d=m>.5?o/(2-p-r):o/(p+r),n=p===b?(s-l)/o+(s<l?6:0):p===s?(l-b)/o+2:(b-s)/o+4,n*=60),_[0]=~~(n+.5),_[1]=~~(d*100+.5),_[2]=~~(m*100+.5)),t&&_.length<4&&(_[3]=1),_},hc=function(g){var S=[],t=[],_=-1;return g.split(Xn).forEach(function(b){var s=b.match(Fo)||[];S.push.apply(S,s),t.push(_+=s.length+1)}),S.c=t,S},ru=function(g,S,t){var _="",b=(g+_).match(Xn),s=S?"hsla(":"rgba(",l=0,n,d,m,p;if(!b)return g;if(b=b.map(function(r){return(r=dc(r,S,1))&&s+(S?r[0]+","+r[1]+"%,"+r[2]+"%,"+r[3]:r.join(","))+")"}),t&&(m=hc(g),n=t.c,n.join(_)!==m.c.join(_)))for(d=g.replace(Xn,"1").split(Fo),p=d.length-1;l<p;l++)_+=d[l]+(~n.indexOf(l)?b.shift()||s+"0,0,0,0)":(m.length?m:b.length?b:t).shift());if(!d)for(d=g.split(Xn),p=d.length-1;l<p;l++)_+=d[l]+b[l];return _+d[p]},Xn=function(){var X="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",g;for(g in ls)X+="|"+g+"\\b";return new RegExp(X+")","gi")}(),Bh=/hsl[a]?\(/,fc=function(g){var S=g.join(" "),t;if(Xn.lastIndex=0,Xn.test(S))return t=Bh.test(S),g[1]=ru(g[1],t),g[0]=ru(g[0],t,hc(g[1])),!0},Ps,Zr=function(){var X=Date.now,g=500,S=33,t=X(),_=t,b=1e3/240,s=b,l=[],n,d,m,p,r,o,a=function i(h){var c=X()-_,u=h===!0,f,y,x,M;if((c>g||c<0)&&(t+=c-S),_+=c,x=_-t,f=x-s,(f>0||u)&&(M=++p.frame,r=x-p.time*1e3,p.time=x=x/1e3,s+=f+(f>=b?4:b-f),y=1),u||(n=d(i)),y)for(o=0;o<l.length;o++)l[o](x,r,M,h)};return p={time:0,frame:0,tick:function(){a(!0)},deltaRatio:function(h){return r/(1e3/(h||60))},wake:function(){Hu&&(!ca&&Ba()&&(yn=ca=window,Ga=yn.document||{},Jr.gsap=Hr,(yn.gsapVersions||(yn.gsapVersions=[])).push(Hr.version),Wu(fi||yn.GreenSockGlobals||!yn.gsap&&yn||{}),uc.forEach(cc)),m=typeof requestAnimationFrame<"u"&&requestAnimationFrame,n&&p.sleep(),d=m||function(h){return setTimeout(h,s-p.time*1e3+1|0)},Ps=1,a(2))},sleep:function(){(m?cancelAnimationFrame:clearTimeout)(n),Ps=0,d=Cs},lagSmoothing:function(h,c){g=h||1/0,S=Math.min(c||33,g)},fps:function(h){b=1e3/(h||240),s=p.time*1e3+b},add:function(h,c,u){var f=c?function(y,x,M,w){h(y,x,M,w),p.remove(f)}:h;return p.remove(h),l[u?"unshift":"push"](f),Qo(),f},remove:function(h,c){~(c=l.indexOf(h))&&l.splice(c,1)&&o>=c&&o--},_listeners:l},p}(),Qo=function(){return!Ps&&Zr.wake()},Mt={},Gh=/^[\d.\-M][\d.\-,\s]/,zh=/["']/g,Vh=function(g){for(var S={},t=g.substr(1,g.length-3).split(":"),_=t[0],b=1,s=t.length,l,n,d;b<s;b++)n=t[b],l=b!==s-1?n.lastIndexOf(","):n.length,d=n.substr(0,l),S[_]=isNaN(d)?d.replace(zh,"").trim():+d,_=n.substr(l+1).trim();return S},Hh=function(g){var S=g.indexOf("(")+1,t=g.indexOf(")"),_=g.indexOf("(",S);return g.substring(S,~_&&_<t?g.indexOf(")",t+1):t)},Wh=function(g){var S=(g+"").split("("),t=Mt[S[0]];return t&&S.length>1&&t.config?t.config.apply(null,~g.indexOf("{")?[Vh(S[1])]:Hh(g).split(",").map(Qu)):Mt._CE&&Gh.test(g)?Mt._CE("",g):t},pc=function(g){return function(S){return 1-g(1-S)}},mc=function X(g,S){for(var t=g._first,_;t;)t instanceof Ir?X(t,S):t.vars.yoyoEase&&(!t._yoyo||!t._repeat)&&t._yoyo!==S&&(t.timeline?X(t.timeline,S):(_=t._ease,t._ease=t._yEase,t._yEase=_,t._yoyo=S)),t=t._next},uo=function(g,S){return g&&(nr(g)?g:Mt[g]||Wh(g))||S},jo=function(g,S,t,_){t===void 0&&(t=function(n){return 1-S(1-n)}),_===void 0&&(_=function(n){return n<.5?S(n*2)/2:1-S((1-n)*2)/2});var b={easeIn:S,easeOut:t,easeInOut:_},s;return Gr(g,function(l){Mt[l]=Jr[l]=b,Mt[s=l.toLowerCase()]=t;for(var n in b)Mt[s+(n==="easeIn"?".in":n==="easeOut"?".out":".inOut")]=Mt[l+"."+n]=b[n]}),b},yc=function(g){return function(S){return S<.5?(1-g(1-S*2))/2:.5+g((S-.5)*2)/2}},zi=function X(g,S,t){var _=S>=1?S:1,b=(t||(g?.3:.45))/(S<1?S:1),s=b/la*(Math.asin(1/_)||0),l=function(m){return m===1?1:_*Math.pow(2,-10*m)*bh((m-s)*b)+1},n=g==="out"?l:g==="in"?function(d){return 1-l(1-d)}:yc(l);return b=la/b,n.config=function(d,m){return X(g,d,m)},n},Vi=function X(g,S){S===void 0&&(S=1.70158);var t=function(s){return s?--s*s*((S+1)*s+S)+1:0},_=g==="out"?t:g==="in"?function(b){return 1-t(1-b)}:yc(t);return _.config=function(b){return X(g,b)},_};Gr("Linear,Quad,Cubic,Quart,Quint,Strong",function(X,g){var S=g<5?g+1:g;jo(X+",Power"+(S-1),g?function(t){return Math.pow(t,S)}:function(t){return t},function(t){return 1-Math.pow(1-t,S)},function(t){return t<.5?Math.pow(t*2,S)/2:1-Math.pow((1-t)*2,S)/2})});Mt.Linear.easeNone=Mt.none=Mt.Linear.easeIn;jo("Elastic",zi("in"),zi("out"),zi());(function(X,g){var S=1/g,t=2*S,_=2.5*S,b=function(l){return l<S?X*l*l:l<t?X*Math.pow(l-1.5/g,2)+.75:l<_?X*(l-=2.25/g)*l+.9375:X*Math.pow(l-2.625/g,2)+.984375};jo("Bounce",function(s){return 1-b(1-s)},b)})(7.5625,2.75);jo("Expo",function(X){return X?Math.pow(2,10*(X-1)):0});jo("Circ",function(X){return-(Uu(1-X*X)-1)});jo("Sine",function(X){return X===1?1:-vh(X*yh)+1});jo("Back",Vi("in"),Vi("out"),Vi());Mt.SteppedEase=Mt.steps=Jr.SteppedEase={config:function(g,S){g===void 0&&(g=1);var t=1/g,_=g+(S?0:1),b=S?1:0,s=1-Bt;return function(l){return((_*Fs(0,s,l)|0)+b)*t}}};Xo.ease=Mt["quad.out"];Gr("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(X){return Ha+=X+","+X+"Params,"});var gc=function(g,S){this.id=gh++,g._gsap=this,this.target=g,this.harness=S,this.get=S?S.get:Yu,this.set=S?S.getSetter:Za},As=function(){function X(S){this.vars=S,this._delay=+S.delay||0,(this._repeat=S.repeat===1/0?-2:S.repeat||0)&&(this._rDelay=S.repeatDelay||0,this._yoyo=!!S.yoyo||!!S.yoyoEase),this._ts=1,Zo(this,+S.duration,1,1),this.data=S.data,Xt&&(this._ctx=Xt,Xt.data.push(this)),Ps||Zr.wake()}var g=X.prototype;return g.delay=function(t){return t||t===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+t-this._delay),this._delay=t,this):this._delay},g.duration=function(t){return arguments.length?this.totalDuration(this._repeat>0?t+(t+this._rDelay)*this._repeat:t):this.totalDuration()&&this._dur},g.totalDuration=function(t){return arguments.length?(this._dirty=0,Zo(this,this._repeat<0?t:(t-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},g.totalTime=function(t,_){if(Qo(),!arguments.length)return this._tTime;var b=this._dp;if(b&&b.smoothChildTiming&&this._ts){for(Mi(this,t),!b._dp||b.parent||Ju(b,this);b&&b.parent;)b.parent._time!==b._start+(b._ts>=0?b._tTime/b._ts:(b.totalDuration()-b._tTime)/-b._ts)&&b.totalTime(b._tTime,!0),b=b.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&t<this._tDur||this._ts<0&&t>0||!this._tDur&&!t)&&vn(this._dp,this,this._start-this._delay)}return(this._tTime!==t||!this._dur&&!_||this._initted&&Math.abs(this._zTime)===Bt||!t&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=t),Zu(this,t,_)),this},g.time=function(t,_){return arguments.length?this.totalTime(Math.min(this.totalDuration(),t+Jl(this))%(this._dur+this._rDelay)||(t?this._dur:0),_):this._time},g.totalProgress=function(t,_){return arguments.length?this.totalTime(this.totalDuration()*t,_):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},g.progress=function(t,_){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-t:t)+Jl(this),_):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},g.iteration=function(t,_){var b=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(t-1)*b,_):this._repeat?Yo(this._tTime,b)+1:1},g.timeScale=function(t,_){if(!arguments.length)return this._rts===-Bt?0:this._rts;if(this._rts===t)return this;var b=this.parent&&this._ts?yi(this.parent._time,this):this._tTime;return this._rts=+t||0,this._ts=this._ps||t===-Bt?0:this._rts,this.totalTime(Fs(-Math.abs(this._delay),this._tDur,b),_!==!1),Ei(this),Eh(this)},g.paused=function(t){return arguments.length?(this._ps!==t&&(this._ps=t,t?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Qo(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Bt&&(this._tTime-=Bt)))),this):this._ps},g.startTime=function(t){if(arguments.length){this._start=t;var _=this.parent||this._dp;return _&&(_._sort||!this.parent)&&vn(_,this,t-this._delay),this}return this._start},g.endTime=function(t){return this._start+(Br(t)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},g.rawTime=function(t){var _=this.parent||this._dp;return _?t&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?yi(_.rawTime(t),this):this._tTime:this._tTime},g.revert=function(t){t===void 0&&(t=wh);var _=kr;return kr=t,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(t),this.totalTime(-.01,t.suppressEvents)),this.data!=="nested"&&t.kill!==!1&&this.kill(),kr=_,this},g.globalTime=function(t){for(var _=this,b=arguments.length?t:_.rawTime();_;)b=_._start+b/(Math.abs(_._ts)||1),_=_._dp;return!this.parent&&this._sat?this._sat.globalTime(t):b},g.repeat=function(t){return arguments.length?(this._repeat=t===1/0?-2:t,eu(this)):this._repeat===-2?1/0:this._repeat},g.repeatDelay=function(t){if(arguments.length){var _=this._time;return this._rDelay=t,eu(this),_?this.time(_):this}return this._rDelay},g.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},g.seek=function(t,_){return this.totalTime(en(this,t),Br(_))},g.restart=function(t,_){return this.play().totalTime(t?-this._delay:0,Br(_))},g.play=function(t,_){return t!=null&&this.seek(t,_),this.reversed(!1).paused(!1)},g.reverse=function(t,_){return t!=null&&this.seek(t||this.totalDuration(),_),this.reversed(!0).paused(!1)},g.pause=function(t,_){return t!=null&&this.seek(t,_),this.paused(!0)},g.resume=function(){return this.paused(!1)},g.reversed=function(t){return arguments.length?(!!t!==this.reversed()&&this.timeScale(-this._rts||(t?-Bt:0)),this):this._rts<0},g.invalidate=function(){return this._initted=this._act=0,this._zTime=-Bt,this},g.isActive=function(){var t=this.parent||this._dp,_=this._start,b;return!!(!t||this._ts&&this._initted&&t.isActive()&&(b=t.rawTime(!0))>=_&&b<this.endTime(!0)-Bt)},g.eventCallback=function(t,_,b){var s=this.vars;return arguments.length>1?(_?(s[t]=_,b&&(s[t+"Params"]=b),t==="onUpdate"&&(this._onUpdate=_)):delete s[t],this):s[t]},g.then=function(t){var _=this;return new Promise(function(b){var s=nr(t)?t:$u,l=function(){var d=_.then;_.then=null,nr(s)&&(s=s(_))&&(s.then||s===_)&&(_.then=d),b(s),_.then=d};_._initted&&_.totalProgress()===1&&_._ts>=0||!_._tTime&&_._ts<0?l():_._prom=l})},g.kill=function(){as(this)},X}();an(As.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Bt,_prom:0,_ps:!1,_rts:1});var Ir=function(X){Nu(g,X);function g(t,_){var b;return t===void 0&&(t={}),b=X.call(this,t)||this,b.labels={},b.smoothChildTiming=!!t.smoothChildTiming,b.autoRemoveChildren=!!t.autoRemoveChildren,b._sort=Br(t.sortChildren),Kt&&vn(t.parent||Kt,kn(b),_),t.reversed&&b.reverse(),t.paused&&b.paused(!0),t.scrollTrigger&&ec(kn(b),t.scrollTrigger),b}var S=g.prototype;return S.to=function(_,b,s){return ms(0,arguments,this),this},S.from=function(_,b,s){return ms(1,arguments,this),this},S.fromTo=function(_,b,s,l){return ms(2,arguments,this),this},S.set=function(_,b,s){return b.duration=0,b.parent=this,ps(b).repeatDelay||(b.repeat=0),b.immediateRender=!!b.immediateRender,new cr(_,b,en(this,s),1),this},S.call=function(_,b,s){return vn(this,cr.delayedCall(0,_,b),s)},S.staggerTo=function(_,b,s,l,n,d,m){return s.duration=b,s.stagger=s.stagger||l,s.onComplete=d,s.onCompleteParams=m,s.parent=this,new cr(_,s,en(this,n)),this},S.staggerFrom=function(_,b,s,l,n,d,m){return s.runBackwards=1,ps(s).immediateRender=Br(s.immediateRender),this.staggerTo(_,b,s,l,n,d,m)},S.staggerFromTo=function(_,b,s,l,n,d,m,p){return l.startAt=s,ps(l).immediateRender=Br(l.immediateRender),this.staggerTo(_,b,l,n,d,m,p)},S.render=function(_,b,s){var l=this._time,n=this._dirty?this.totalDuration():this._tDur,d=this._dur,m=_<=0?0:gr(_),p=this._zTime<0!=_<0&&(this._initted||!d),r,o,a,i,h,c,u,f,y,x,M,w;if(this!==Kt&&m>n&&_>=0&&(m=n),m!==this._tTime||s||p){if(l!==this._time&&d&&(m+=this._time-l,_+=this._time-l),r=m,y=this._start,f=this._ts,c=!f,p&&(d||(l=this._zTime),(_||!b)&&(this._zTime=_)),this._repeat){if(M=this._yoyo,h=d+this._rDelay,this._repeat<-1&&_<0)return this.totalTime(h*100+_,b,s);if(r=gr(m%h),m===n?(i=this._repeat,r=d):(i=~~(m/h),i&&i===m/h&&(r=d,i--),r>d&&(r=d)),x=Yo(this._tTime,h),!l&&this._tTime&&x!==i&&this._tTime-x*h-this._dur<=0&&(x=i),M&&i&1&&(r=d-r,w=1),i!==x&&!this._lock){var E=M&&x&1,C=E===(M&&i&1);if(i<x&&(E=!E),l=E?0:m%d?d:m,this._lock=1,this.render(l||(w?0:gr(i*h)),b,!d)._lock=0,this._tTime=m,!b&&this.parent&&$r(this,"onRepeat"),this.vars.repeatRefresh&&!w&&(this.invalidate()._lock=1),l&&l!==this._time||c!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(d=this._dur,n=this._tDur,C&&(this._lock=2,l=E?d:-1e-4,this.render(l,!0),this.vars.repeatRefresh&&!w&&this.invalidate()),this._lock=0,!this._ts&&!c)return this;mc(this,w)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(u=Oh(this,gr(l),gr(r)),u&&(m-=r-(r=u._start))),this._tTime=m,this._time=r,this._act=!f,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=_,l=0),!l&&r&&!b&&!i&&($r(this,"onStart"),this._tTime!==m))return this;if(r>=l&&_>=0)for(o=this._first;o;){if(a=o._next,(o._act||r>=o._start)&&o._ts&&u!==o){if(o.parent!==this)return this.render(_,b,s);if(o.render(o._ts>0?(r-o._start)*o._ts:(o._dirty?o.totalDuration():o._tDur)+(r-o._start)*o._ts,b,s),r!==this._time||!this._ts&&!c){u=0,a&&(m+=this._zTime=-Bt);break}}o=a}else{o=this._last;for(var L=_<0?_:r;o;){if(a=o._prev,(o._act||L<=o._end)&&o._ts&&u!==o){if(o.parent!==this)return this.render(_,b,s);if(o.render(o._ts>0?(L-o._start)*o._ts:(o._dirty?o.totalDuration():o._tDur)+(L-o._start)*o._ts,b,s||kr&&(o._initted||o._startAt)),r!==this._time||!this._ts&&!c){u=0,a&&(m+=this._zTime=L?-Bt:Bt);break}}o=a}}if(u&&!b&&(this.pause(),u.render(r>=l?0:-Bt)._zTime=r>=l?1:-1,this._ts))return this._start=y,Ei(this),this.render(_,b,s);this._onUpdate&&!b&&$r(this,"onUpdate",!0),(m===n&&this._tTime>=this.totalDuration()||!m&&l)&&(y===this._start||Math.abs(f)!==Math.abs(this._ts))&&(this._lock||((_||!d)&&(m===n&&this._ts>0||!m&&this._ts<0)&&Zn(this,1),!b&&!(_<0&&!l)&&(m||l||!n)&&($r(this,m===n&&_>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(m<n&&this.timeScale()>0)&&this._prom())))}return this},S.add=function(_,b){var s=this;if(Ln(b)||(b=en(this,b,_)),!(_ instanceof As)){if(Cr(_))return _.forEach(function(l){return s.add(l,b)}),this;if(vr(_))return this.addLabel(_,b);if(nr(_))_=cr.delayedCall(0,_);else return this}return this!==_?vn(this,_,b):this},S.getChildren=function(_,b,s,l){_===void 0&&(_=!0),b===void 0&&(b=!0),s===void 0&&(s=!0),l===void 0&&(l=-nn);for(var n=[],d=this._first;d;)d._start>=l&&(d instanceof cr?b&&n.push(d):(s&&n.push(d),_&&n.push.apply(n,d.getChildren(!0,b,s)))),d=d._next;return n},S.getById=function(_){for(var b=this.getChildren(1,1,1),s=b.length;s--;)if(b[s].vars.id===_)return b[s]},S.remove=function(_){return vr(_)?this.removeLabel(_):nr(_)?this.killTweensOf(_):(Ti(this,_),_===this._recent&&(this._recent=this._last),lo(this))},S.totalTime=function(_,b){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=gr(Zr.time-(this._ts>0?_/this._ts:(this.totalDuration()-_)/-this._ts))),X.prototype.totalTime.call(this,_,b),this._forcing=0,this):this._tTime},S.addLabel=function(_,b){return this.labels[_]=en(this,b),this},S.removeLabel=function(_){return delete this.labels[_],this},S.addPause=function(_,b,s){var l=cr.delayedCall(0,b||Cs,s);return l.data="isPause",this._hasPause=1,vn(this,l,en(this,_))},S.removePause=function(_){var b=this._first;for(_=en(this,_);b;)b._start===_&&b.data==="isPause"&&Zn(b),b=b._next},S.killTweensOf=function(_,b,s){for(var l=this.getTweensOf(_,s),n=l.length;n--;)Gn!==l[n]&&l[n].kill(_,b);return this},S.getTweensOf=function(_,b){for(var s=[],l=on(_),n=this._first,d=Ln(b),m;n;)n instanceof cr?jh(n._targets,l)&&(d?(!Gn||n._initted&&n._ts)&&n.globalTime(0)<=b&&n.globalTime(n.totalDuration())>b:!b||n.isActive())&&s.push(n):(m=n.getTweensOf(l,b)).length&&s.push.apply(s,m),n=n._next;return s},S.tweenTo=function(_,b){b=b||{};var s=this,l=en(s,_),n=b,d=n.startAt,m=n.onStart,p=n.onStartParams,r=n.immediateRender,o,a=cr.to(s,an({ease:b.ease||"none",lazy:!1,immediateRender:!1,time:l,overwrite:"auto",duration:b.duration||Math.abs((l-(d&&"time"in d?d.time:s._time))/s.timeScale())||Bt,onStart:function(){if(s.pause(),!o){var h=b.duration||Math.abs((l-(d&&"time"in d?d.time:s._time))/s.timeScale());a._dur!==h&&Zo(a,h,0,1).render(a._time,!0,!0),o=1}m&&m.apply(a,p||[])}},b));return r?a.render(0):a},S.tweenFromTo=function(_,b,s){return this.tweenTo(b,an({startAt:{time:en(this,_)}},s))},S.recent=function(){return this._recent},S.nextLabel=function(_){return _===void 0&&(_=this._time),tu(this,en(this,_))},S.previousLabel=function(_){return _===void 0&&(_=this._time),tu(this,en(this,_),1)},S.currentLabel=function(_){return arguments.length?this.seek(_,!0):this.previousLabel(this._time+Bt)},S.shiftChildren=function(_,b,s){s===void 0&&(s=0);for(var l=this._first,n=this.labels,d;l;)l._start>=s&&(l._start+=_,l._end+=_),l=l._next;if(b)for(d in n)n[d]>=s&&(n[d]+=_);return lo(this)},S.invalidate=function(_){var b=this._first;for(this._lock=0;b;)b.invalidate(_),b=b._next;return X.prototype.invalidate.call(this,_)},S.clear=function(_){_===void 0&&(_=!0);for(var b=this._first,s;b;)s=b._next,this.remove(b),b=s;return this._dp&&(this._time=this._tTime=this._pTime=0),_&&(this.labels={}),lo(this)},S.totalDuration=function(_){var b=0,s=this,l=s._last,n=nn,d,m,p;if(arguments.length)return s.timeScale((s._repeat<0?s.duration():s.totalDuration())/(s.reversed()?-_:_));if(s._dirty){for(p=s.parent;l;)d=l._prev,l._dirty&&l.totalDuration(),m=l._start,m>n&&s._sort&&l._ts&&!s._lock?(s._lock=1,vn(s,l,m-l._delay,1)._lock=0):n=m,m<0&&l._ts&&(b-=m,(!p&&!s._dp||p&&p.smoothChildTiming)&&(s._start+=m/s._ts,s._time-=m,s._tTime-=m),s.shiftChildren(-m,!1,-1/0),n=0),l._end>b&&l._ts&&(b=l._end),l=d;Zo(s,s===Kt&&s._time>b?s._time:b,1,1),s._dirty=0}return s._tDur},g.updateRoot=function(_){if(Kt._ts&&(Zu(Kt,yi(_,Kt)),Xu=Zr.frame),Zr.frame>=$l){$l+=Kr.autoSleep||120;var b=Kt._first;if((!b||!b._ts)&&Kr.autoSleep&&Zr._listeners.length<2){for(;b&&!b._ts;)b=b._next;b||Zr.sleep()}}},g}(As);an(Ir.prototype,{_lock:0,_hasPause:0,_forcing:0});var qh=function(g,S,t,_,b,s,l){var n=new zr(this._pt,g,S,0,1,jc,null,b),d=0,m=0,p,r,o,a,i,h,c,u;for(n.b=t,n.e=_,t+="",_+="",(c=~_.indexOf("random("))&&(_=Os(_)),s&&(u=[t,_],s(u,g,S),t=u[0],_=u[1]),r=t.match(Ui)||[];p=Ui.exec(_);)a=p[0],i=_.substring(d,p.index),o?o=(o+1)%5:i.substr(-5)==="rgba("&&(o=1),a!==r[m++]&&(h=parseFloat(r[m-1])||0,n._pt={_next:n._pt,p:i||m===1?i:",",s:h,c:a.charAt(1)==="="?Bo(h,a)-h:parseFloat(a)-h,m:o&&o<4?Math.round:0},d=Ui.lastIndex);return n.c=d<_.length?_.substring(d,_.length):"",n.fp=l,(zu.test(_)||c)&&(n.e=0),this._pt=n,n},qa=function(g,S,t,_,b,s,l,n,d,m){nr(_)&&(_=_(b||0,g,s));var p=g[S],r=t!=="get"?t:nr(p)?d?g[S.indexOf("set")||!nr(g["get"+S.substr(3)])?S:"get"+S.substr(3)](d):g[S]():p,o=nr(p)?d?$h:xc:Ya,a;if(vr(_)&&(~_.indexOf("random(")&&(_=Os(_)),_.charAt(1)==="="&&(a=Bo(r,_)+(Mr(r)||0),(a||a===0)&&(_=a))),!m||r!==_||ga)return!isNaN(r*_)&&_!==""?(a=new zr(this._pt,g,S,+r||0,_-(r||0),typeof p=="boolean"?Jh:wc,0,o),d&&(a.fp=d),l&&a.modifier(l,this,g),this._pt=a):(!p&&!(S in g)&&za(S,_),qh.call(this,g,S,r,_,o,n||Kr.stringFilter,d))},Xh=function(g,S,t,_,b){if(nr(g)&&(g=ys(g,b,S,t,_)),!jn(g)||g.style&&g.nodeType||Cr(g)||Bu(g))return vr(g)?ys(g,b,S,t,_):g;var s={},l;for(l in g)s[l]=ys(g[l],b,S,t,_);return s},vc=function(g,S,t,_,b,s){var l,n,d,m;if(Xr[g]&&(l=new Xr[g]).init(b,l.rawVars?S[g]:Xh(S[g],_,b,s,t),t,_,s)!==!1&&(t._pt=n=new zr(t._pt,b,g,0,1,l.render,l,0,l.priority),t!==No))for(d=t._ptLookup[t._targets.indexOf(b)],m=l._props.length;m--;)d[l._props[m]]=n;return l},Gn,ga,Xa=function X(g,S,t){var _=g.vars,b=_.ease,s=_.startAt,l=_.immediateRender,n=_.lazy,d=_.onUpdate,m=_.runBackwards,p=_.yoyoEase,r=_.keyframes,o=_.autoRevert,a=g._dur,i=g._startAt,h=g._targets,c=g.parent,u=c&&c.data==="nested"?c.vars.targets:h,f=g._overwrite==="auto"&&!Na,y=g.timeline,x,M,w,E,C,L,k,R,P,F,I,B,V;if(y&&(!r||!b)&&(b="none"),g._ease=uo(b,Xo.ease),g._yEase=p?pc(uo(p===!0?b:p,Xo.ease)):0,p&&g._yoyo&&!g._repeat&&(p=g._yEase,g._yEase=g._ease,g._ease=p),g._from=!y&&!!_.runBackwards,!y||r&&!_.stagger){if(R=h[0]?ao(h[0]).harness:0,B=R&&_[R.prop],x=mi(_,Va),i&&(i._zTime<0&&i.progress(1),S<0&&m&&l&&!o?i.render(-1,!0):i.revert(m&&a?oi:xh),i._lazy=0),s){if(Zn(g._startAt=cr.set(h,an({data:"isStart",overwrite:!1,parent:c,immediateRender:!0,lazy:!i&&Br(n),startAt:null,delay:0,onUpdate:d&&function(){return $r(g,"onUpdate")},stagger:0},s))),g._startAt._dp=0,g._startAt._sat=g,S<0&&(kr||!l&&!o)&&g._startAt.revert(oi),l&&a&&S<=0&&t<=0){S&&(g._zTime=S);return}}else if(m&&a&&!i){if(S&&(l=!1),w=an({overwrite:!1,data:"isFromStart",lazy:l&&!i&&Br(n),immediateRender:l,stagger:0,parent:c},x),B&&(w[R.prop]=B),Zn(g._startAt=cr.set(h,w)),g._startAt._dp=0,g._startAt._sat=g,S<0&&(kr?g._startAt.revert(oi):g._startAt.render(-1,!0)),g._zTime=S,!l)X(g._startAt,Bt,Bt);else if(!S)return}for(g._pt=g._ptCache=0,n=a&&Br(n)||n&&!a,M=0;M<h.length;M++){if(C=h[M],k=C._gsap||Wa(h)[M]._gsap,g._ptLookup[M]=F={},da[k.id]&&qn.length&&pi(),I=u===h?M:u.indexOf(C),R&&(P=new R).init(C,B||x,g,I,u)!==!1&&(g._pt=E=new zr(g._pt,C,P.name,0,1,P.render,P,0,P.priority),P._props.forEach(function(H){F[H]=E}),P.priority&&(L=1)),!R||B)for(w in x)Xr[w]&&(P=vc(w,x,g,I,C,u))?P.priority&&(L=1):F[w]=E=qa.call(g,C,w,"get",x[w],I,u,0,_.stringFilter);g._op&&g._op[M]&&g.kill(C,g._op[M]),f&&g._pt&&(Gn=g,Kt.killTweensOf(C,F,g.globalTime(S)),V=!g.parent,Gn=0),g._pt&&n&&(da[k.id]=1)}L&&Sc(g),g._onInit&&g._onInit(g)}g._onUpdate=d,g._initted=(!g._op||g._pt)&&!V,r&&S<=0&&y.render(nn,!0,!0)},Yh=function(g,S,t,_,b,s,l,n){var d=(g._pt&&g._ptCache||(g._ptCache={}))[S],m,p,r,o;if(!d)for(d=g._ptCache[S]=[],r=g._ptLookup,o=g._targets.length;o--;){if(m=r[o][S],m&&m.d&&m.d._pt)for(m=m.d._pt;m&&m.p!==S&&m.fp!==S;)m=m._next;if(!m)return ga=1,g.vars[S]="+=0",Xa(g,l),ga=0,n?ks(S+" not eligible for reset"):1;d.push(m)}for(o=d.length;o--;)p=d[o],m=p._pt||p,m.s=(_||_===0)&&!b?_:m.s+(_||0)+s*m.c,m.c=t-m.s,p.e&&(p.e=sr(t)+Mr(p.e)),p.b&&(p.b=m.s+Mr(p.b))},Zh=function(g,S){var t=g[0]?ao(g[0]).harness:0,_=t&&t.aliases,b,s,l,n;if(!_)return S;b=mo({},S);for(s in _)if(s in b)for(n=_[s].split(","),l=n.length;l--;)b[n[l]]=b[s];return b},Qh=function(g,S,t,_){var b=S.ease||_||"power1.inOut",s,l;if(Cr(S))l=t[g]||(t[g]=[]),S.forEach(function(n,d){return l.push({t:d/(S.length-1)*100,v:n,e:b})});else for(s in S)l=t[s]||(t[s]=[]),s==="ease"||l.push({t:parseFloat(g),v:S[s],e:b})},ys=function(g,S,t,_,b){return nr(g)?g.call(S,t,_,b):vr(g)&&~g.indexOf("random(")?Os(g):g},bc=Ha+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",_c={};Gr(bc+",id,stagger,delay,duration,paused,scrollTrigger",function(X){return _c[X]=1});var cr=function(X){Nu(g,X);function g(t,_,b,s){var l;typeof _=="number"&&(b.duration=_,_=b,b=null),l=X.call(this,s?_:ps(_))||this;var n=l.vars,d=n.duration,m=n.delay,p=n.immediateRender,r=n.stagger,o=n.overwrite,a=n.keyframes,i=n.defaults,h=n.scrollTrigger,c=n.yoyoEase,u=_.parent||Kt,f=(Cr(t)||Bu(t)?Ln(t[0]):"length"in _)?[t]:on(t),y,x,M,w,E,C,L,k;if(l._targets=f.length?Wa(f):ks("GSAP target "+t+" not found. https://gsap.com",!Kr.nullTargetWarn)||[],l._ptLookup=[],l._overwrite=o,a||r||Vs(d)||Vs(m)){if(_=l.vars,y=l.timeline=new Ir({data:"nested",defaults:i||{},targets:u&&u.data==="nested"?u.vars.targets:f}),y.kill(),y.parent=y._dp=kn(l),y._start=0,r||Vs(d)||Vs(m)){if(w=f.length,L=r&&oc(r),jn(r))for(E in r)~bc.indexOf(E)&&(k||(k={}),k[E]=r[E]);for(x=0;x<w;x++)M=mi(_,_c),M.stagger=0,c&&(M.yoyoEase=c),k&&mo(M,k),C=f[x],M.duration=+ys(d,kn(l),x,C,f),M.delay=(+ys(m,kn(l),x,C,f)||0)-l._delay,!r&&w===1&&M.delay&&(l._delay=m=M.delay,l._start+=m,M.delay=0),y.to(C,M,L?L(x,C,f):0),y._ease=Mt.none;y.duration()?d=m=0:l.timeline=0}else if(a){ps(an(y.vars.defaults,{ease:"none"})),y._ease=uo(a.ease||_.ease||"none");var R=0,P,F,I;if(Cr(a))a.forEach(function(B){return y.to(f,B,">")}),y.duration();else{M={};for(E in a)E==="ease"||E==="easeEach"||Qh(E,a[E],M,a.easeEach);for(E in M)for(P=M[E].sort(function(B,V){return B.t-V.t}),R=0,x=0;x<P.length;x++)F=P[x],I={ease:F.e,duration:(F.t-(x?P[x-1].t:0))/100*d},I[E]=F.v,y.to(f,I,R),R+=I.duration;y.duration()<d&&y.to({},{duration:d-y.duration()})}}d||l.duration(d=y.duration())}else l.timeline=0;return o===!0&&!Na&&(Gn=kn(l),Kt.killTweensOf(f),Gn=0),vn(u,kn(l),b),_.reversed&&l.reverse(),_.paused&&l.paused(!0),(p||!d&&!a&&l._start===gr(u._time)&&Br(p)&&Mh(kn(l))&&u.data!=="nested")&&(l._tTime=-Bt,l.render(Math.max(0,-m)||0)),h&&ec(kn(l),h),l}var S=g.prototype;return S.render=function(_,b,s){var l=this._time,n=this._tDur,d=this._dur,m=_<0,p=_>n-Bt&&!m?n:_<Bt?0:_,r,o,a,i,h,c,u,f,y;if(!d)Ch(this,_,b,s);else if(p!==this._tTime||!_||s||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==m){if(r=p,f=this.timeline,this._repeat){if(i=d+this._rDelay,this._repeat<-1&&m)return this.totalTime(i*100+_,b,s);if(r=gr(p%i),p===n?(a=this._repeat,r=d):(a=~~(p/i),a&&a===gr(p/i)&&(r=d,a--),r>d&&(r=d)),c=this._yoyo&&a&1,c&&(y=this._yEase,r=d-r),h=Yo(this._tTime,i),r===l&&!s&&this._initted&&a===h)return this._tTime=p,this;a!==h&&(f&&this._yEase&&mc(f,c),this.vars.repeatRefresh&&!c&&!this._lock&&this._time!==i&&this._initted&&(this._lock=s=1,this.render(gr(i*a),!0).invalidate()._lock=0))}if(!this._initted){if(tc(this,m?_:r,s,b,p))return this._tTime=0,this;if(l!==this._time&&!(s&&this.vars.repeatRefresh&&a!==h))return this;if(d!==this._dur)return this.render(_,b,s)}if(this._tTime=p,this._time=r,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=u=(y||this._ease)(r/d),this._from&&(this.ratio=u=1-u),r&&!l&&!b&&!a&&($r(this,"onStart"),this._tTime!==p))return this;for(o=this._pt;o;)o.r(u,o.d),o=o._next;f&&f.render(_<0?_:f._dur*f._ease(r/this._dur),b,s)||this._startAt&&(this._zTime=_),this._onUpdate&&!b&&(m&&ha(this,_,b,s),$r(this,"onUpdate")),this._repeat&&a!==h&&this.vars.onRepeat&&!b&&this.parent&&$r(this,"onRepeat"),(p===this._tDur||!p)&&this._tTime===p&&(m&&!this._onUpdate&&ha(this,_,!0,!0),(_||!d)&&(p===this._tDur&&this._ts>0||!p&&this._ts<0)&&Zn(this,1),!b&&!(m&&!l)&&(p||l||c)&&($r(this,p===n?"onComplete":"onReverseComplete",!0),this._prom&&!(p<n&&this.timeScale()>0)&&this._prom()))}return this},S.targets=function(){return this._targets},S.invalidate=function(_){return(!_||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(_),X.prototype.invalidate.call(this,_)},S.resetTo=function(_,b,s,l,n){Ps||Zr.wake(),this._ts||this.play();var d=Math.min(this._dur,(this._dp._time-this._start)*this._ts),m;return this._initted||Xa(this,d),m=this._ease(d/this._dur),Yh(this,_,b,s,l,m,d,n)?this.resetTo(_,b,s,l,1):(Mi(this,0),this.parent||Ku(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},S.kill=function(_,b){if(b===void 0&&(b="all"),!_&&(!b||b==="all"))return this._lazy=this._pt=0,this.parent?as(this):this;if(this.timeline){var s=this.timeline.totalDuration();return this.timeline.killTweensOf(_,b,Gn&&Gn.vars.overwrite!==!0)._first||as(this),this.parent&&s!==this.timeline.totalDuration()&&Zo(this,this._dur*this.timeline._tDur/s,0,1),this}var l=this._targets,n=_?on(_):l,d=this._ptLookup,m=this._pt,p,r,o,a,i,h,c;if((!b||b==="all")&&Th(l,n))return b==="all"&&(this._pt=0),as(this);for(p=this._op=this._op||[],b!=="all"&&(vr(b)&&(i={},Gr(b,function(u){return i[u]=1}),b=i),b=Zh(l,b)),c=l.length;c--;)if(~n.indexOf(l[c])){r=d[c],b==="all"?(p[c]=b,a=r,o={}):(o=p[c]=p[c]||{},a=b);for(i in a)h=r&&r[i],h&&((!("kill"in h.d)||h.d.kill(i)===!0)&&Ti(this,h,"_pt"),delete r[i]),o!=="all"&&(o[i]=1)}return this._initted&&!this._pt&&m&&as(this),this},g.to=function(_,b){return new g(_,b,arguments[2])},g.from=function(_,b){return ms(1,arguments)},g.delayedCall=function(_,b,s,l){return new g(b,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:_,onComplete:b,onReverseComplete:b,onCompleteParams:s,onReverseCompleteParams:s,callbackScope:l})},g.fromTo=function(_,b,s){return ms(2,arguments)},g.set=function(_,b){return b.duration=0,b.repeatDelay||(b.repeat=0),new g(_,b)},g.killTweensOf=function(_,b,s){return Kt.killTweensOf(_,b,s)},g}(As);an(cr.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Gr("staggerTo,staggerFrom,staggerFromTo",function(X){cr[X]=function(){var g=new Ir,S=pa.call(arguments,0);return S.splice(X==="staggerFromTo"?5:4,0,0),g[X].apply(g,S)}});var Ya=function(g,S,t){return g[S]=t},xc=function(g,S,t){return g[S](t)},$h=function(g,S,t,_){return g[S](_.fp,t)},Kh=function(g,S,t){return g.setAttribute(S,t)},Za=function(g,S){return nr(g[S])?xc:Ua(g[S])&&g.setAttribute?Kh:Ya},wc=function(g,S){return S.set(S.t,S.p,Math.round((S.s+S.c*g)*1e6)/1e6,S)},Jh=function(g,S){return S.set(S.t,S.p,!!(S.s+S.c*g),S)},jc=function(g,S){var t=S._pt,_="";if(!g&&S.b)_=S.b;else if(g===1&&S.e)_=S.e;else{for(;t;)_=t.p+(t.m?t.m(t.s+t.c*g):Math.round((t.s+t.c*g)*1e4)/1e4)+_,t=t._next;_+=S.c}S.set(S.t,S.p,_,S)},Qa=function(g,S){for(var t=S._pt;t;)t.r(g,t.d),t=t._next},ef=function(g,S,t,_){for(var b=this._pt,s;b;)s=b._next,b.p===_&&b.modifier(g,S,t),b=s},tf=function(g){for(var S=this._pt,t,_;S;)_=S._next,S.p===g&&!S.op||S.op===g?Ti(this,S,"_pt"):S.dep||(t=1),S=_;return!t},rf=function(g,S,t,_){_.mSet(g,S,_.m.call(_.tween,t,_.mt),_)},Sc=function(g){for(var S=g._pt,t,_,b,s;S;){for(t=S._next,_=b;_&&_.pr>S.pr;)_=_._next;(S._prev=_?_._prev:s)?S._prev._next=S:b=S,(S._next=_)?_._prev=S:s=S,S=t}g._pt=b},zr=function(){function X(S,t,_,b,s,l,n,d,m){this.t=t,this.s=b,this.c=s,this.p=_,this.r=l||wc,this.d=n||this,this.set=d||Ya,this.pr=m||0,this._next=S,S&&(S._prev=this)}var g=X.prototype;return g.modifier=function(t,_,b){this.mSet=this.mSet||this.set,this.set=rf,this.m=t,this.mt=b,this.tween=_},X}();Gr(Ha+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(X){return Va[X]=1});Jr.TweenMax=Jr.TweenLite=cr;Jr.TimelineLite=Jr.TimelineMax=Ir;Kt=new Ir({sortChildren:!1,defaults:Xo,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Kr.stringFilter=fc;var co=[],ii={},nf=[],nu=0,of=0,Hi=function(g){return(ii[g]||nf).map(function(S){return S()})},va=function(){var g=Date.now(),S=[];g-nu>2&&(Hi("matchMediaInit"),co.forEach(function(t){var _=t.queries,b=t.conditions,s,l,n,d;for(l in _)s=yn.matchMedia(_[l]).matches,s&&(n=1),s!==b[l]&&(b[l]=s,d=1);d&&(t.revert(),n&&S.push(t))}),Hi("matchMediaRevert"),S.forEach(function(t){return t.onMatch(t,function(_){return t.add(null,_)})}),nu=g,Hi("matchMedia"))},Tc=function(){function X(S,t){this.selector=t&&ma(t),this.data=[],this._r=[],this.isReverted=!1,this.id=of++,S&&this.add(S)}var g=X.prototype;return g.add=function(t,_,b){nr(t)&&(b=_,_=t,t=nr);var s=this,l=function(){var d=Xt,m=s.selector,p;return d&&d!==s&&d.data.push(s),b&&(s.selector=ma(b)),Xt=s,p=_.apply(s,arguments),nr(p)&&s._r.push(p),Xt=d,s.selector=m,s.isReverted=!1,p};return s.last=l,t===nr?l(s,function(n){return s.add(null,n)}):t?s[t]=l:l},g.ignore=function(t){var _=Xt;Xt=null,t(this),Xt=_},g.getTweens=function(){var t=[];return this.data.forEach(function(_){return _ instanceof X?t.push.apply(t,_.getTweens()):_ instanceof cr&&!(_.parent&&_.parent.data==="nested")&&t.push(_)}),t},g.clear=function(){this._r.length=this.data.length=0},g.kill=function(t,_){var b=this;if(t?function(){for(var l=b.getTweens(),n=b.data.length,d;n--;)d=b.data[n],d.data==="isFlip"&&(d.revert(),d.getChildren(!0,!0,!1).forEach(function(m){return l.splice(l.indexOf(m),1)}));for(l.map(function(m){return{g:m._dur||m._delay||m._sat&&!m._sat.vars.immediateRender?m.globalTime(0):-1/0,t:m}}).sort(function(m,p){return p.g-m.g||-1/0}).forEach(function(m){return m.t.revert(t)}),n=b.data.length;n--;)d=b.data[n],d instanceof Ir?d.data!=="nested"&&(d.scrollTrigger&&d.scrollTrigger.revert(),d.kill()):!(d instanceof cr)&&d.revert&&d.revert(t);b._r.forEach(function(m){return m(t,b)}),b.isReverted=!0}():this.data.forEach(function(l){return l.kill&&l.kill()}),this.clear(),_)for(var s=co.length;s--;)co[s].id===this.id&&co.splice(s,1)},g.revert=function(t){this.kill(t||{})},X}(),sf=function(){function X(S){this.contexts=[],this.scope=S,Xt&&Xt.data.push(this)}var g=X.prototype;return g.add=function(t,_,b){jn(t)||(t={matches:t});var s=new Tc(0,b||this.scope),l=s.conditions={},n,d,m;Xt&&!s.selector&&(s.selector=Xt.selector),this.contexts.push(s),_=s.add("onMatch",_),s.queries=t;for(d in t)d==="all"?m=1:(n=yn.matchMedia(t[d]),n&&(co.indexOf(s)<0&&co.push(s),(l[d]=n.matches)&&(m=1),n.addListener?n.addListener(va):n.addEventListener("change",va)));return m&&_(s,function(p){return s.add(null,p)}),this},g.revert=function(t){this.kill(t||{})},g.kill=function(t){this.contexts.forEach(function(_){return _.kill(t,!0)})},X}(),gi={registerPlugin:function(){for(var g=arguments.length,S=new Array(g),t=0;t<g;t++)S[t]=arguments[t];S.forEach(function(_){return cc(_)})},timeline:function(g){return new Ir(g)},getTweensOf:function(g,S){return Kt.getTweensOf(g,S)},getProperty:function(g,S,t,_){vr(g)&&(g=on(g)[0]);var b=ao(g||{}).get,s=t?$u:Qu;return t==="native"&&(t=""),g&&(S?s((Xr[S]&&Xr[S].get||b)(g,S,t,_)):function(l,n,d){return s((Xr[l]&&Xr[l].get||b)(g,l,n,d))})},quickSetter:function(g,S,t){if(g=on(g),g.length>1){var _=g.map(function(m){return Hr.quickSetter(m,S,t)}),b=_.length;return function(m){for(var p=b;p--;)_[p](m)}}g=g[0]||{};var s=Xr[S],l=ao(g),n=l.harness&&(l.harness.aliases||{})[S]||S,d=s?function(m){var p=new s;No._pt=0,p.init(g,t?m+t:m,No,0,[g]),p.render(1,p),No._pt&&Qa(1,No)}:l.set(g,n);return s?d:function(m){return d(g,n,t?m+t:m,l,1)}},quickTo:function(g,S,t){var _,b=Hr.to(g,mo((_={},_[S]="+=0.1",_.paused=!0,_),t||{})),s=function(n,d,m){return b.resetTo(S,n,d,m)};return s.tween=b,s},isTweening:function(g){return Kt.getTweensOf(g,!0).length>0},defaults:function(g){return g&&g.ease&&(g.ease=uo(g.ease,Xo.ease)),Kl(Xo,g||{})},config:function(g){return Kl(Kr,g||{})},registerEffect:function(g){var S=g.name,t=g.effect,_=g.plugins,b=g.defaults,s=g.extendTimeline;(_||"").split(",").forEach(function(l){return l&&!Xr[l]&&!Jr[l]&&ks(S+" effect requires "+l+" plugin.")}),Bi[S]=function(l,n,d){return t(on(l),an(n||{},b),d)},s&&(Ir.prototype[S]=function(l,n,d){return this.add(Bi[S](l,jn(n)?n:(d=n)&&{},this),d)})},registerEase:function(g,S){Mt[g]=uo(S)},parseEase:function(g,S){return arguments.length?uo(g,S):Mt},getById:function(g){return Kt.getById(g)},exportRoot:function(g,S){g===void 0&&(g={});var t=new Ir(g),_,b;for(t.smoothChildTiming=Br(g.smoothChildTiming),Kt.remove(t),t._dp=0,t._time=t._tTime=Kt._time,_=Kt._first;_;)b=_._next,(S||!(!_._dur&&_ instanceof cr&&_.vars.onComplete===_._targets[0]))&&vn(t,_,_._start-_._delay),_=b;return vn(Kt,t,0),t},context:function(g,S){return g?new Tc(g,S):Xt},matchMedia:function(g){return new sf(g)},matchMediaRefresh:function(){return co.forEach(function(g){var S=g.conditions,t,_;for(_ in S)S[_]&&(S[_]=!1,t=1);t&&g.revert()})||va()},addEventListener:function(g,S){var t=ii[g]||(ii[g]=[]);~t.indexOf(S)||t.push(S)},removeEventListener:function(g,S){var t=ii[g],_=t&&t.indexOf(S);_>=0&&t.splice(_,1)},utils:{wrap:Fh,wrapYoyo:Nh,distribute:oc,random:ic,snap:sc,normalize:Ih,getUnit:Mr,clamp:Ah,splitColor:dc,toArray:on,selector:ma,mapRange:lc,pipe:Rh,unitize:Dh,interpolate:Uh,shuffle:nc},install:Wu,effects:Bi,ticker:Zr,updateRoot:Ir.updateRoot,plugins:Xr,globalTimeline:Kt,core:{PropTween:zr,globals:qu,Tween:cr,Timeline:Ir,Animation:As,getCache:ao,_removeLinkedListItem:Ti,reverting:function(){return kr},context:function(g){return g&&Xt&&(Xt.data.push(g),g._ctx=Xt),Xt},suppressOverwrites:function(g){return Na=g}}};Gr("to,from,fromTo,delayedCall,set,killTweensOf",function(X){return gi[X]=cr[X]});Zr.add(Ir.updateRoot);No=gi.to({},{duration:0});var af=function(g,S){for(var t=g._pt;t&&t.p!==S&&t.op!==S&&t.fp!==S;)t=t._next;return t},lf=function(g,S){var t=g._targets,_,b,s;for(_ in S)for(b=t.length;b--;)s=g._ptLookup[b][_],s&&(s=s.d)&&(s._pt&&(s=af(s,_)),s&&s.modifier&&s.modifier(S[_],g,t[b],_))},Wi=function(g,S){return{name:g,rawVars:1,init:function(_,b,s){s._onInit=function(l){var n,d;if(vr(b)&&(n={},Gr(b,function(m){return n[m]=1}),b=n),S){n={};for(d in b)n[d]=S(b[d]);b=n}lf(l,b)}}}},Hr=gi.registerPlugin({name:"attr",init:function(g,S,t,_,b){var s,l,n;this.tween=t;for(s in S)n=g.getAttribute(s)||"",l=this.add(g,"setAttribute",(n||0)+"",S[s],_,b,0,0,s),l.op=s,l.b=n,this._props.push(s)},render:function(g,S){for(var t=S._pt;t;)kr?t.set(t.t,t.p,t.b,t):t.r(g,t.d),t=t._next}},{name:"endArray",init:function(g,S){for(var t=S.length;t--;)this.add(g,t,g[t]||0,S[t],0,0,0,0,0,1)}},Wi("roundProps",ya),Wi("modifiers"),Wi("snap",sc))||gi;cr.version=Ir.version=Hr.version="3.12.5";Hu=1;Ba()&&Qo();Mt.Power0;Mt.Power1;Mt.Power2;Mt.Power3;Mt.Power4;Mt.Linear;Mt.Quad;Mt.Cubic;Mt.Quart;Mt.Quint;Mt.Strong;Mt.Elastic;Mt.Back;Mt.SteppedEase;Mt.Bounce;Mt.Sine;Mt.Expo;Mt.Circ;/*!
 * CSSPlugin 3.12.5
 * https://gsap.com
 *
 * Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var ou,zn,Go,$a,so,su,Ka,uf=function(){return typeof window<"u"},Rn={},to=180/Math.PI,zo=Math.PI/180,ko=Math.atan2,iu=1e8,Ja=/([A-Z])/g,cf=/(left|right|width|margin|padding|x)/i,df=/[\s,\(]\S/,bn={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},ba=function(g,S){return S.set(S.t,S.p,Math.round((S.s+S.c*g)*1e4)/1e4+S.u,S)},hf=function(g,S){return S.set(S.t,S.p,g===1?S.e:Math.round((S.s+S.c*g)*1e4)/1e4+S.u,S)},ff=function(g,S){return S.set(S.t,S.p,g?Math.round((S.s+S.c*g)*1e4)/1e4+S.u:S.b,S)},pf=function(g,S){var t=S.s+S.c*g;S.set(S.t,S.p,~~(t+(t<0?-.5:.5))+S.u,S)},Ec=function(g,S){return S.set(S.t,S.p,g?S.e:S.b,S)},Mc=function(g,S){return S.set(S.t,S.p,g!==1?S.b:S.e,S)},mf=function(g,S,t){return g.style[S]=t},yf=function(g,S,t){return g.style.setProperty(S,t)},gf=function(g,S,t){return g._gsap[S]=t},vf=function(g,S,t){return g._gsap.scaleX=g._gsap.scaleY=t},bf=function(g,S,t,_,b){var s=g._gsap;s.scaleX=s.scaleY=t,s.renderTransform(b,s)},_f=function(g,S,t,_,b){var s=g._gsap;s[S]=t,s.renderTransform(b,s)},Jt="transform",Vr=Jt+"Origin",xf=function X(g,S){var t=this,_=this.target,b=_.style,s=_._gsap;if(g in Rn&&b){if(this.tfm=this.tfm||{},g!=="transform")g=bn[g]||g,~g.indexOf(",")?g.split(",").forEach(function(l){return t.tfm[l]=Cn(_,l)}):this.tfm[g]=s.x?s[g]:Cn(_,g),g===Vr&&(this.tfm.zOrigin=s.zOrigin);else return bn.transform.split(",").forEach(function(l){return X.call(t,l,S)});if(this.props.indexOf(Jt)>=0)return;s.svg&&(this.svgo=_.getAttribute("data-svg-origin"),this.props.push(Vr,S,"")),g=Jt}(b||S)&&this.props.push(g,S,b[g])},kc=function(g){g.translate&&(g.removeProperty("translate"),g.removeProperty("scale"),g.removeProperty("rotate"))},wf=function(){var g=this.props,S=this.target,t=S.style,_=S._gsap,b,s;for(b=0;b<g.length;b+=3)g[b+1]?S[g[b]]=g[b+2]:g[b+2]?t[g[b]]=g[b+2]:t.removeProperty(g[b].substr(0,2)==="--"?g[b]:g[b].replace(Ja,"-$1").toLowerCase());if(this.tfm){for(s in this.tfm)_[s]=this.tfm[s];_.svg&&(_.renderTransform(),S.setAttribute("data-svg-origin",this.svgo||"")),b=Ka(),(!b||!b.isStart)&&!t[Jt]&&(kc(t),_.zOrigin&&t[Vr]&&(t[Vr]+=" "+_.zOrigin+"px",_.zOrigin=0,_.renderTransform()),_.uncache=1)}},Cc=function(g,S){var t={target:g,props:[],revert:wf,save:xf};return g._gsap||Hr.core.getCache(g),S&&S.split(",").forEach(function(_){return t.save(_)}),t},Oc,_a=function(g,S){var t=zn.createElementNS?zn.createElementNS((S||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),g):zn.createElement(g);return t&&t.style?t:zn.createElement(g)},xn=function X(g,S,t){var _=getComputedStyle(g);return _[S]||_.getPropertyValue(S.replace(Ja,"-$1").toLowerCase())||_.getPropertyValue(S)||!t&&X(g,$o(S)||S,1)||""},au="O,Moz,ms,Ms,Webkit".split(","),$o=function(g,S,t){var _=S||so,b=_.style,s=5;if(g in b&&!t)return g;for(g=g.charAt(0).toUpperCase()+g.substr(1);s--&&!(au[s]+g in b););return s<0?null:(s===3?"ms":s>=0?au[s]:"")+g},xa=function(){uf()&&window.document&&(ou=window,zn=ou.document,Go=zn.documentElement,so=_a("div")||{style:{}},_a("div"),Jt=$o(Jt),Vr=Jt+"Origin",so.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Oc=!!$o("perspective"),Ka=Hr.core.reverting,$a=1)},qi=function X(g){var S=_a("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),t=this.parentNode,_=this.nextSibling,b=this.style.cssText,s;if(Go.appendChild(S),S.appendChild(this),this.style.display="block",g)try{s=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=X}catch{}else this._gsapBBox&&(s=this._gsapBBox());return t&&(_?t.insertBefore(this,_):t.appendChild(this)),Go.removeChild(S),this.style.cssText=b,s},lu=function(g,S){for(var t=S.length;t--;)if(g.hasAttribute(S[t]))return g.getAttribute(S[t])},Pc=function(g){var S;try{S=g.getBBox()}catch{S=qi.call(g,!0)}return S&&(S.width||S.height)||g.getBBox===qi||(S=qi.call(g,!0)),S&&!S.width&&!S.x&&!S.y?{x:+lu(g,["x","cx","x1"])||0,y:+lu(g,["y","cy","y1"])||0,width:0,height:0}:S},Ac=function(g){return!!(g.getCTM&&(!g.parentNode||g.ownerSVGElement)&&Pc(g))},yo=function(g,S){if(S){var t=g.style,_;S in Rn&&S!==Vr&&(S=Jt),t.removeProperty?(_=S.substr(0,2),(_==="ms"||S.substr(0,6)==="webkit")&&(S="-"+S),t.removeProperty(_==="--"?S:S.replace(Ja,"-$1").toLowerCase())):t.removeAttribute(S)}},Vn=function(g,S,t,_,b,s){var l=new zr(g._pt,S,t,0,1,s?Mc:Ec);return g._pt=l,l.b=_,l.e=b,g._props.push(t),l},uu={deg:1,rad:1,turn:1},jf={grid:1,flex:1},Qn=function X(g,S,t,_){var b=parseFloat(t)||0,s=(t+"").trim().substr((b+"").length)||"px",l=so.style,n=cf.test(S),d=g.tagName.toLowerCase()==="svg",m=(d?"client":"offset")+(n?"Width":"Height"),p=100,r=_==="px",o=_==="%",a,i,h,c;if(_===s||!b||uu[_]||uu[s])return b;if(s!=="px"&&!r&&(b=X(g,S,t,"px")),c=g.getCTM&&Ac(g),(o||s==="%")&&(Rn[S]||~S.indexOf("adius")))return a=c?g.getBBox()[n?"width":"height"]:g[m],sr(o?b/a*p:b/100*a);if(l[n?"width":"height"]=p+(r?s:_),i=~S.indexOf("adius")||_==="em"&&g.appendChild&&!d?g:g.parentNode,c&&(i=(g.ownerSVGElement||{}).parentNode),(!i||i===zn||!i.appendChild)&&(i=zn.body),h=i._gsap,h&&o&&h.width&&n&&h.time===Zr.time&&!h.uncache)return sr(b/h.width*p);if(o&&(S==="height"||S==="width")){var u=g.style[S];g.style[S]=p+_,a=g[m],u?g.style[S]=u:yo(g,S)}else(o||s==="%")&&!jf[xn(i,"display")]&&(l.position=xn(g,"position")),i===g&&(l.position="static"),i.appendChild(so),a=so[m],i.removeChild(so),l.position="absolute";return n&&o&&(h=ao(i),h.time=Zr.time,h.width=i[m]),sr(r?a*b/p:a&&b?p/a*b:0)},Cn=function(g,S,t,_){var b;return $a||xa(),S in bn&&S!=="transform"&&(S=bn[S],~S.indexOf(",")&&(S=S.split(",")[0])),Rn[S]&&S!=="transform"?(b=Rs(g,_),b=S!=="transformOrigin"?b[S]:b.svg?b.origin:bi(xn(g,Vr))+" "+b.zOrigin+"px"):(b=g.style[S],(!b||b==="auto"||_||~(b+"").indexOf("calc("))&&(b=vi[S]&&vi[S](g,S,t)||xn(g,S)||Yu(g,S)||(S==="opacity"?1:0))),t&&!~(b+"").trim().indexOf(" ")?Qn(g,S,b,t)+t:b},Sf=function(g,S,t,_){if(!t||t==="none"){var b=$o(S,g,1),s=b&&xn(g,b,1);s&&s!==t?(S=b,t=s):S==="borderColor"&&(t=xn(g,"borderTopColor"))}var l=new zr(this._pt,g.style,S,0,1,jc),n=0,d=0,m,p,r,o,a,i,h,c,u,f,y,x;if(l.b=t,l.e=_,t+="",_+="",_==="auto"&&(i=g.style[S],g.style[S]=_,_=xn(g,S)||_,i?g.style[S]=i:yo(g,S)),m=[t,_],fc(m),t=m[0],_=m[1],r=t.match(Fo)||[],x=_.match(Fo)||[],x.length){for(;p=Fo.exec(_);)h=p[0],u=_.substring(n,p.index),a?a=(a+1)%5:(u.substr(-5)==="rgba("||u.substr(-5)==="hsla(")&&(a=1),h!==(i=r[d++]||"")&&(o=parseFloat(i)||0,y=i.substr((o+"").length),h.charAt(1)==="="&&(h=Bo(o,h)+y),c=parseFloat(h),f=h.substr((c+"").length),n=Fo.lastIndex-f.length,f||(f=f||Kr.units[S]||y,n===_.length&&(_+=f,l.e+=f)),y!==f&&(o=Qn(g,S,i,f)||0),l._pt={_next:l._pt,p:u||d===1?u:",",s:o,c:c-o,m:a&&a<4||S==="zIndex"?Math.round:0});l.c=n<_.length?_.substring(n,_.length):""}else l.r=S==="display"&&_==="none"?Mc:Ec;return zu.test(_)&&(l.e=0),this._pt=l,l},cu={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Tf=function(g){var S=g.split(" "),t=S[0],_=S[1]||"50%";return(t==="top"||t==="bottom"||_==="left"||_==="right")&&(g=t,t=_,_=g),S[0]=cu[t]||t,S[1]=cu[_]||_,S.join(" ")},Ef=function(g,S){if(S.tween&&S.tween._time===S.tween._dur){var t=S.t,_=t.style,b=S.u,s=t._gsap,l,n,d;if(b==="all"||b===!0)_.cssText="",n=1;else for(b=b.split(","),d=b.length;--d>-1;)l=b[d],Rn[l]&&(n=1,l=l==="transformOrigin"?Vr:Jt),yo(t,l);n&&(yo(t,Jt),s&&(s.svg&&t.removeAttribute("transform"),Rs(t,1),s.uncache=1,kc(_)))}},vi={clearProps:function(g,S,t,_,b){if(b.data!=="isFromStart"){var s=g._pt=new zr(g._pt,S,t,0,0,Ef);return s.u=_,s.pr=-10,s.tween=b,g._props.push(t),1}}},Ls=[1,0,0,1,0,0],Lc={},Rc=function(g){return g==="matrix(1, 0, 0, 1, 0, 0)"||g==="none"||!g},du=function(g){var S=xn(g,Jt);return Rc(S)?Ls:S.substr(7).match(Gu).map(sr)},el=function(g,S){var t=g._gsap||ao(g),_=g.style,b=du(g),s,l,n,d;return t.svg&&g.getAttribute("transform")?(n=g.transform.baseVal.consolidate().matrix,b=[n.a,n.b,n.c,n.d,n.e,n.f],b.join(",")==="1,0,0,1,0,0"?Ls:b):(b===Ls&&!g.offsetParent&&g!==Go&&!t.svg&&(n=_.display,_.display="block",s=g.parentNode,(!s||!g.offsetParent)&&(d=1,l=g.nextElementSibling,Go.appendChild(g)),b=du(g),n?_.display=n:yo(g,"display"),d&&(l?s.insertBefore(g,l):s?s.appendChild(g):Go.removeChild(g))),S&&b.length>6?[b[0],b[1],b[4],b[5],b[12],b[13]]:b)},wa=function(g,S,t,_,b,s){var l=g._gsap,n=b||el(g,!0),d=l.xOrigin||0,m=l.yOrigin||0,p=l.xOffset||0,r=l.yOffset||0,o=n[0],a=n[1],i=n[2],h=n[3],c=n[4],u=n[5],f=S.split(" "),y=parseFloat(f[0])||0,x=parseFloat(f[1])||0,M,w,E,C;t?n!==Ls&&(w=o*h-a*i)&&(E=y*(h/w)+x*(-i/w)+(i*u-h*c)/w,C=y*(-a/w)+x*(o/w)-(o*u-a*c)/w,y=E,x=C):(M=Pc(g),y=M.x+(~f[0].indexOf("%")?y/100*M.width:y),x=M.y+(~(f[1]||f[0]).indexOf("%")?x/100*M.height:x)),_||_!==!1&&l.smooth?(c=y-d,u=x-m,l.xOffset=p+(c*o+u*i)-c,l.yOffset=r+(c*a+u*h)-u):l.xOffset=l.yOffset=0,l.xOrigin=y,l.yOrigin=x,l.smooth=!!_,l.origin=S,l.originIsAbsolute=!!t,g.style[Vr]="0px 0px",s&&(Vn(s,l,"xOrigin",d,y),Vn(s,l,"yOrigin",m,x),Vn(s,l,"xOffset",p,l.xOffset),Vn(s,l,"yOffset",r,l.yOffset)),g.setAttribute("data-svg-origin",y+" "+x)},Rs=function(g,S){var t=g._gsap||new gc(g);if("x"in t&&!S&&!t.uncache)return t;var _=g.style,b=t.scaleX<0,s="px",l="deg",n=getComputedStyle(g),d=xn(g,Vr)||"0",m,p,r,o,a,i,h,c,u,f,y,x,M,w,E,C,L,k,R,P,F,I,B,V,H,z,G,Q,ie,T,D,U;return m=p=r=i=h=c=u=f=y=0,o=a=1,t.svg=!!(g.getCTM&&Ac(g)),n.translate&&((n.translate!=="none"||n.scale!=="none"||n.rotate!=="none")&&(_[Jt]=(n.translate!=="none"?"translate3d("+(n.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(n.rotate!=="none"?"rotate("+n.rotate+") ":"")+(n.scale!=="none"?"scale("+n.scale.split(" ").join(",")+") ":"")+(n[Jt]!=="none"?n[Jt]:"")),_.scale=_.rotate=_.translate="none"),w=el(g,t.svg),t.svg&&(t.uncache?(H=g.getBBox(),d=t.xOrigin-H.x+"px "+(t.yOrigin-H.y)+"px",V=""):V=!S&&g.getAttribute("data-svg-origin"),wa(g,V||d,!!V||t.originIsAbsolute,t.smooth!==!1,w)),x=t.xOrigin||0,M=t.yOrigin||0,w!==Ls&&(k=w[0],R=w[1],P=w[2],F=w[3],m=I=w[4],p=B=w[5],w.length===6?(o=Math.sqrt(k*k+R*R),a=Math.sqrt(F*F+P*P),i=k||R?ko(R,k)*to:0,u=P||F?ko(P,F)*to+i:0,u&&(a*=Math.abs(Math.cos(u*zo))),t.svg&&(m-=x-(x*k+M*P),p-=M-(x*R+M*F))):(U=w[6],T=w[7],G=w[8],Q=w[9],ie=w[10],D=w[11],m=w[12],p=w[13],r=w[14],E=ko(U,ie),h=E*to,E&&(C=Math.cos(-E),L=Math.sin(-E),V=I*C+G*L,H=B*C+Q*L,z=U*C+ie*L,G=I*-L+G*C,Q=B*-L+Q*C,ie=U*-L+ie*C,D=T*-L+D*C,I=V,B=H,U=z),E=ko(-P,ie),c=E*to,E&&(C=Math.cos(-E),L=Math.sin(-E),V=k*C-G*L,H=R*C-Q*L,z=P*C-ie*L,D=F*L+D*C,k=V,R=H,P=z),E=ko(R,k),i=E*to,E&&(C=Math.cos(E),L=Math.sin(E),V=k*C+R*L,H=I*C+B*L,R=R*C-k*L,B=B*C-I*L,k=V,I=H),h&&Math.abs(h)+Math.abs(i)>359.9&&(h=i=0,c=180-c),o=sr(Math.sqrt(k*k+R*R+P*P)),a=sr(Math.sqrt(B*B+U*U)),E=ko(I,B),u=Math.abs(E)>2e-4?E*to:0,y=D?1/(D<0?-D:D):0),t.svg&&(V=g.getAttribute("transform"),t.forceCSS=g.setAttribute("transform","")||!Rc(xn(g,Jt)),V&&g.setAttribute("transform",V))),Math.abs(u)>90&&Math.abs(u)<270&&(b?(o*=-1,u+=i<=0?180:-180,i+=i<=0?180:-180):(a*=-1,u+=u<=0?180:-180)),S=S||t.uncache,t.x=m-((t.xPercent=m&&(!S&&t.xPercent||(Math.round(g.offsetWidth/2)===Math.round(-m)?-50:0)))?g.offsetWidth*t.xPercent/100:0)+s,t.y=p-((t.yPercent=p&&(!S&&t.yPercent||(Math.round(g.offsetHeight/2)===Math.round(-p)?-50:0)))?g.offsetHeight*t.yPercent/100:0)+s,t.z=r+s,t.scaleX=sr(o),t.scaleY=sr(a),t.rotation=sr(i)+l,t.rotationX=sr(h)+l,t.rotationY=sr(c)+l,t.skewX=u+l,t.skewY=f+l,t.transformPerspective=y+s,(t.zOrigin=parseFloat(d.split(" ")[2])||!S&&t.zOrigin||0)&&(_[Vr]=bi(d)),t.xOffset=t.yOffset=0,t.force3D=Kr.force3D,t.renderTransform=t.svg?kf:Oc?Dc:Mf,t.uncache=0,t},bi=function(g){return(g=g.split(" "))[0]+" "+g[1]},Xi=function(g,S,t){var _=Mr(S);return sr(parseFloat(S)+parseFloat(Qn(g,"x",t+"px",_)))+_},Mf=function(g,S){S.z="0px",S.rotationY=S.rotationX="0deg",S.force3D=0,Dc(g,S)},Jn="0deg",ns="0px",eo=") ",Dc=function(g,S){var t=S||this,_=t.xPercent,b=t.yPercent,s=t.x,l=t.y,n=t.z,d=t.rotation,m=t.rotationY,p=t.rotationX,r=t.skewX,o=t.skewY,a=t.scaleX,i=t.scaleY,h=t.transformPerspective,c=t.force3D,u=t.target,f=t.zOrigin,y="",x=c==="auto"&&g&&g!==1||c===!0;if(f&&(p!==Jn||m!==Jn)){var M=parseFloat(m)*zo,w=Math.sin(M),E=Math.cos(M),C;M=parseFloat(p)*zo,C=Math.cos(M),s=Xi(u,s,w*C*-f),l=Xi(u,l,-Math.sin(M)*-f),n=Xi(u,n,E*C*-f+f)}h!==ns&&(y+="perspective("+h+eo),(_||b)&&(y+="translate("+_+"%, "+b+"%) "),(x||s!==ns||l!==ns||n!==ns)&&(y+=n!==ns||x?"translate3d("+s+", "+l+", "+n+") ":"translate("+s+", "+l+eo),d!==Jn&&(y+="rotate("+d+eo),m!==Jn&&(y+="rotateY("+m+eo),p!==Jn&&(y+="rotateX("+p+eo),(r!==Jn||o!==Jn)&&(y+="skew("+r+", "+o+eo),(a!==1||i!==1)&&(y+="scale("+a+", "+i+eo),u.style[Jt]=y||"translate(0, 0)"},kf=function(g,S){var t=S||this,_=t.xPercent,b=t.yPercent,s=t.x,l=t.y,n=t.rotation,d=t.skewX,m=t.skewY,p=t.scaleX,r=t.scaleY,o=t.target,a=t.xOrigin,i=t.yOrigin,h=t.xOffset,c=t.yOffset,u=t.forceCSS,f=parseFloat(s),y=parseFloat(l),x,M,w,E,C;n=parseFloat(n),d=parseFloat(d),m=parseFloat(m),m&&(m=parseFloat(m),d+=m,n+=m),n||d?(n*=zo,d*=zo,x=Math.cos(n)*p,M=Math.sin(n)*p,w=Math.sin(n-d)*-r,E=Math.cos(n-d)*r,d&&(m*=zo,C=Math.tan(d-m),C=Math.sqrt(1+C*C),w*=C,E*=C,m&&(C=Math.tan(m),C=Math.sqrt(1+C*C),x*=C,M*=C)),x=sr(x),M=sr(M),w=sr(w),E=sr(E)):(x=p,E=r,M=w=0),(f&&!~(s+"").indexOf("px")||y&&!~(l+"").indexOf("px"))&&(f=Qn(o,"x",s,"px"),y=Qn(o,"y",l,"px")),(a||i||h||c)&&(f=sr(f+a-(a*x+i*w)+h),y=sr(y+i-(a*M+i*E)+c)),(_||b)&&(C=o.getBBox(),f=sr(f+_/100*C.width),y=sr(y+b/100*C.height)),C="matrix("+x+","+M+","+w+","+E+","+f+","+y+")",o.setAttribute("transform",C),u&&(o.style[Jt]=C)},Cf=function(g,S,t,_,b){var s=360,l=vr(b),n=parseFloat(b)*(l&&~b.indexOf("rad")?to:1),d=n-_,m=_+d+"deg",p,r;return l&&(p=b.split("_")[1],p==="short"&&(d%=s,d!==d%(s/2)&&(d+=d<0?s:-s)),p==="cw"&&d<0?d=(d+s*iu)%s-~~(d/s)*s:p==="ccw"&&d>0&&(d=(d-s*iu)%s-~~(d/s)*s)),g._pt=r=new zr(g._pt,S,t,_,d,hf),r.e=m,r.u="deg",g._props.push(t),r},hu=function(g,S){for(var t in S)g[t]=S[t];return g},Of=function(g,S,t){var _=hu({},t._gsap),b="perspective,force3D,transformOrigin,svgOrigin",s=t.style,l,n,d,m,p,r,o,a;_.svg?(d=t.getAttribute("transform"),t.setAttribute("transform",""),s[Jt]=S,l=Rs(t,1),yo(t,Jt),t.setAttribute("transform",d)):(d=getComputedStyle(t)[Jt],s[Jt]=S,l=Rs(t,1),s[Jt]=d);for(n in Rn)d=_[n],m=l[n],d!==m&&b.indexOf(n)<0&&(o=Mr(d),a=Mr(m),p=o!==a?Qn(t,n,d,a):parseFloat(d),r=parseFloat(m),g._pt=new zr(g._pt,l,n,p,r-p,ba),g._pt.u=a||0,g._props.push(n));hu(l,_)};Gr("padding,margin,Width,Radius",function(X,g){var S="Top",t="Right",_="Bottom",b="Left",s=(g<3?[S,t,_,b]:[S+b,S+t,_+t,_+b]).map(function(l){return g<2?X+l:"border"+l+X});vi[g>1?"border"+X:X]=function(l,n,d,m,p){var r,o;if(arguments.length<4)return r=s.map(function(a){return Cn(l,a,d)}),o=r.join(" "),o.split(r[0]).length===5?r[0]:o;r=(m+"").split(" "),o={},s.forEach(function(a,i){return o[a]=r[i]=r[i]||r[(i-1)/2|0]}),l.init(n,o,p)}});var Ic={name:"css",register:xa,targetTest:function(g){return g.style&&g.nodeType},init:function(g,S,t,_,b){var s=this._props,l=g.style,n=t.vars.startAt,d,m,p,r,o,a,i,h,c,u,f,y,x,M,w,E;$a||xa(),this.styles=this.styles||Cc(g),E=this.styles.props,this.tween=t;for(i in S)if(i!=="autoRound"&&(m=S[i],!(Xr[i]&&vc(i,S,t,_,g,b)))){if(o=typeof m,a=vi[i],o==="function"&&(m=m.call(t,_,g,b),o=typeof m),o==="string"&&~m.indexOf("random(")&&(m=Os(m)),a)a(this,g,i,m,t)&&(w=1);else if(i.substr(0,2)==="--")d=(getComputedStyle(g).getPropertyValue(i)+"").trim(),m+="",Xn.lastIndex=0,Xn.test(d)||(h=Mr(d),c=Mr(m)),c?h!==c&&(d=Qn(g,i,d,c)+c):h&&(m+=h),this.add(l,"setProperty",d,m,_,b,0,0,i),s.push(i),E.push(i,0,l[i]);else if(o!=="undefined"){if(n&&i in n?(d=typeof n[i]=="function"?n[i].call(t,_,g,b):n[i],vr(d)&&~d.indexOf("random(")&&(d=Os(d)),Mr(d+"")||d==="auto"||(d+=Kr.units[i]||Mr(Cn(g,i))||""),(d+"").charAt(1)==="="&&(d=Cn(g,i))):d=Cn(g,i),r=parseFloat(d),u=o==="string"&&m.charAt(1)==="="&&m.substr(0,2),u&&(m=m.substr(2)),p=parseFloat(m),i in bn&&(i==="autoAlpha"&&(r===1&&Cn(g,"visibility")==="hidden"&&p&&(r=0),E.push("visibility",0,l.visibility),Vn(this,l,"visibility",r?"inherit":"hidden",p?"inherit":"hidden",!p)),i!=="scale"&&i!=="transform"&&(i=bn[i],~i.indexOf(",")&&(i=i.split(",")[0]))),f=i in Rn,f){if(this.styles.save(i),y||(x=g._gsap,x.renderTransform&&!S.parseTransform||Rs(g,S.parseTransform),M=S.smoothOrigin!==!1&&x.smooth,y=this._pt=new zr(this._pt,l,Jt,0,1,x.renderTransform,x,0,-1),y.dep=1),i==="scale")this._pt=new zr(this._pt,x,"scaleY",x.scaleY,(u?Bo(x.scaleY,u+p):p)-x.scaleY||0,ba),this._pt.u=0,s.push("scaleY",i),i+="X";else if(i==="transformOrigin"){E.push(Vr,0,l[Vr]),m=Tf(m),x.svg?wa(g,m,0,M,0,this):(c=parseFloat(m.split(" ")[2])||0,c!==x.zOrigin&&Vn(this,x,"zOrigin",x.zOrigin,c),Vn(this,l,i,bi(d),bi(m)));continue}else if(i==="svgOrigin"){wa(g,m,1,M,0,this);continue}else if(i in Lc){Cf(this,x,i,r,u?Bo(r,u+m):m);continue}else if(i==="smoothOrigin"){Vn(this,x,"smooth",x.smooth,m);continue}else if(i==="force3D"){x[i]=m;continue}else if(i==="transform"){Of(this,m,g);continue}}else i in l||(i=$o(i)||i);if(f||(p||p===0)&&(r||r===0)&&!df.test(m)&&i in l)h=(d+"").substr((r+"").length),p||(p=0),c=Mr(m)||(i in Kr.units?Kr.units[i]:h),h!==c&&(r=Qn(g,i,d,c)),this._pt=new zr(this._pt,f?x:l,i,r,(u?Bo(r,u+p):p)-r,!f&&(c==="px"||i==="zIndex")&&S.autoRound!==!1?pf:ba),this._pt.u=c||0,h!==c&&c!=="%"&&(this._pt.b=d,this._pt.r=ff);else if(i in l)Sf.call(this,g,i,d,u?u+m:m);else if(i in g)this.add(g,i,d||g[i],u?u+m:m,_,b);else if(i!=="parseTransform"){za(i,m);continue}f||(i in l?E.push(i,0,l[i]):E.push(i,1,d||g[i])),s.push(i)}}w&&Sc(this)},render:function(g,S){if(S.tween._time||!Ka())for(var t=S._pt;t;)t.r(g,t.d),t=t._next;else S.styles.revert()},get:Cn,aliases:bn,getSetter:function(g,S,t){var _=bn[S];return _&&_.indexOf(",")<0&&(S=_),S in Rn&&S!==Vr&&(g._gsap.x||Cn(g,"x"))?t&&su===t?S==="scale"?vf:gf:(su=t||{})&&(S==="scale"?bf:_f):g.style&&!Ua(g.style[S])?mf:~S.indexOf("-")?yf:Za(g,S)},core:{_removeProperty:yo,_getMatrix:el}};Hr.utils.checkPrefix=$o;Hr.core.getStyleSaver=Cc;(function(X,g,S,t){var _=Gr(X+","+g+","+S,function(b){Rn[b]=1});Gr(g,function(b){Kr.units[b]="deg",Lc[b]=1}),bn[_[13]]=X+","+g,Gr(t,function(b){var s=b.split(":");bn[s[1]]=_[s[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Gr("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(X){Kr.units[X]="px"});Hr.registerPlugin(Ic);var rr=Hr.registerPlugin(Ic)||Hr;rr.core.Tween;var Pf=Sn('<div><div class="title-wrapper mix-blend-difference svelte-15soqgu"><p id="diff-title" class="title svelte-15soqgu">B<span class="rotate-sign svelte-15soqgu">+</span><span class="rotate-sign svelte-15soqgu">+</span></p> <p id="diff-subtitle" class="subtitle svelte-15soqgu">Insects as proxies of biodiversity</p></div> <div class="title-wrapper svelte-15soqgu"><p id="normal-title" class="title opacity-0 svelte-15soqgu">B<span class="rotate-sign svelte-15soqgu">+</span><span class="rotate-sign svelte-15soqgu">+</span></p> <p id="normal-subtitle" class="subtitle opacity-0 svelte-15soqgu">Insects as proxies of biodiversity</p></div></div>');function Af(X,g){_o(g,!0);let S=Po(g,"loaded",7);wo(()=>{rr.from(["#diff-title","#diff-subtitle"],{duration:1.6,opacity:0,stagger:.4,y:30,ease:"expo.out",delay:1.6,onComplete:()=>{document.body.style.overflow="auto",S(!0),rr.to(["#diff-title","#diff-subtitle"],{duration:1,autoAlpha:0,ease:"power3.inOut",onComplete:()=>{}}),rr.to(["#normal-title","#normal-subtitle"],{duration:1,autoAlpha:1,ease:"power3.inOut",onComplete:()=>{rr.to(["#normal-title","#normal-subtitle"],{autoAlpha:0,ease:"linear",scrollTrigger:{trigger:"#steps",start:"top bottom",end:"top+=500 bottom-=100",scrub:1,toggleActions:"play none none reverse"}})}})}}),rr.to(".rotate-sign",{rotation:"-=90",duration:1,stagger:.2,repeat:-1,repeatDelay:4,repeatRefresh:!0,ease:"elastic.out(1, 0.3)",yoyo:!0,yoyoEase:"elastic.out(1, 0.3)"})});var t=Pf(),_=Pt(t),b=Pt(_);xt(b),xt(_);var s=gt(gt(_,!0)),l=Pt(s);xt(l),xt(s),xt(t),Yr(X,t),xo()}function Lf(X,g){for(var S=0;S<g.length;S++){var t=g[S];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(X,t.key,t)}}function Rf(X,g,S){return g&&Lf(X.prototype,g),X}/*!
 * Observer 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var xr,ai,Qr,Hn,Wn,Vo,Fc,ro,gs,Nc,Pn,dn,Uc,Bc=function(){return xr||typeof window<"u"&&(xr=window.gsap)&&xr.registerPlugin&&xr},Gc=1,Uo=[],Tt=[],wn=[],vs=Date.now,ja=function(g,S){return S},Df=function(){var g=gs.core,S=g.bridge||{},t=g._scrollers,_=g._proxies;t.push.apply(t,Tt),_.push.apply(_,wn),Tt=t,wn=_,ja=function(s,l){return S[s](l)}},Yn=function(g,S){return~wn.indexOf(g)&&wn[wn.indexOf(g)+1][S]},bs=function(g){return!!~Nc.indexOf(g)},Ar=function(g,S,t,_,b){return g.addEventListener(S,t,{passive:_!==!1,capture:!!b})},Pr=function(g,S,t,_){return g.removeEventListener(S,t,!!_)},Hs="scrollLeft",Ws="scrollTop",Sa=function(){return Pn&&Pn.isPressed||Tt.cache++},_i=function(g,S){var t=function _(b){if(b||b===0){Gc&&(Qr.history.scrollRestoration="manual");var s=Pn&&Pn.isPressed;b=_.v=Math.round(b)||(Pn&&Pn.iOS?1:0),g(b),_.cacheID=Tt.cache,s&&ja("ss",b)}else(S||Tt.cache!==_.cacheID||ja("ref"))&&(_.cacheID=Tt.cache,_.v=g());return _.v+_.offset};return t.offset=0,g&&t},Fr={s:Hs,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:_i(function(X){return arguments.length?Qr.scrollTo(X,fr.sc()):Qr.pageXOffset||Hn[Hs]||Wn[Hs]||Vo[Hs]||0})},fr={s:Ws,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:Fr,sc:_i(function(X){return arguments.length?Qr.scrollTo(Fr.sc(),X):Qr.pageYOffset||Hn[Ws]||Wn[Ws]||Vo[Ws]||0})},Ur=function(g,S){return(S&&S._ctx&&S._ctx.selector||xr.utils.toArray)(g)[0]||(typeof g=="string"&&xr.config().nullTargetWarn!==!1?console.warn("Element not found:",g):null)},$n=function(g,S){var t=S.s,_=S.sc;bs(g)&&(g=Hn.scrollingElement||Wn);var b=Tt.indexOf(g),s=_===fr.sc?1:2;!~b&&(b=Tt.push(g)-1),Tt[b+s]||Ar(g,"scroll",Sa);var l=Tt[b+s],n=l||(Tt[b+s]=_i(Yn(g,t),!0)||(bs(g)?_:_i(function(d){return arguments.length?g[t]=d:g[t]})));return n.target=g,l||(n.smooth=xr.getProperty(g,"scrollBehavior")==="smooth"),n},Ta=function(g,S,t){var _=g,b=g,s=vs(),l=s,n=S||50,d=Math.max(500,n*3),m=function(a,i){var h=vs();i||h-s>n?(b=_,_=a,l=s,s=h):t?_+=a:_=b+(a-b)/(h-l)*(s-l)},p=function(){b=_=t?0:_,l=s=0},r=function(a){var i=l,h=b,c=vs();return(a||a===0)&&a!==_&&m(a),s===l||c-l>d?0:(_+(t?h:-h))/((t?c:s)-i)*1e3};return{update:m,reset:p,getVelocity:r}},os=function(g,S){return S&&!g._gsapAllow&&g.preventDefault(),g.changedTouches?g.changedTouches[0]:g},fu=function(g){var S=Math.max.apply(Math,g),t=Math.min.apply(Math,g);return Math.abs(S)>=Math.abs(t)?S:t},zc=function(){gs=xr.core.globals().ScrollTrigger,gs&&gs.core&&Df()},Vc=function(g){return xr=g||Bc(),!ai&&xr&&typeof document<"u"&&document.body&&(Qr=window,Hn=document,Wn=Hn.documentElement,Vo=Hn.body,Nc=[Qr,Hn,Wn,Vo],xr.utils.clamp,Uc=xr.core.context||function(){},ro="onpointerenter"in Vo?"pointer":"mouse",Fc=ir.isTouch=Qr.matchMedia&&Qr.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in Qr||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,dn=ir.eventTypes=("ontouchstart"in Wn?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in Wn?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return Gc=0},500),zc(),ai=1),ai};Fr.op=fr;Tt.cache=0;var ir=function(){function X(S){this.init(S)}var g=X.prototype;return g.init=function(t){ai||Vc(xr)||console.warn("Please gsap.registerPlugin(Observer)"),gs||zc();var _=t.tolerance,b=t.dragMinimum,s=t.type,l=t.target,n=t.lineHeight,d=t.debounce,m=t.preventDefault,p=t.onStop,r=t.onStopDelay,o=t.ignore,a=t.wheelSpeed,i=t.event,h=t.onDragStart,c=t.onDragEnd,u=t.onDrag,f=t.onPress,y=t.onRelease,x=t.onRight,M=t.onLeft,w=t.onUp,E=t.onDown,C=t.onChangeX,L=t.onChangeY,k=t.onChange,R=t.onToggleX,P=t.onToggleY,F=t.onHover,I=t.onHoverEnd,B=t.onMove,V=t.ignoreCheck,H=t.isNormalizer,z=t.onGestureStart,G=t.onGestureEnd,Q=t.onWheel,ie=t.onEnable,T=t.onDisable,D=t.onClick,U=t.scrollSpeed,W=t.capture,$=t.allowClicks,ee=t.lockAxis,ne=t.onLockAxis;this.target=l=Ur(l)||Wn,this.vars=t,o&&(o=xr.utils.toArray(o)),_=_||1e-9,b=b||0,a=a||1,U=U||1,s=s||"wheel,touch,pointer",d=d!==!1,n||(n=parseFloat(Qr.getComputedStyle(Vo).lineHeight)||22);var fe,se,he,ae,J,le,ye,ue=this,ge=0,be=0,Se=t.passive||!m,Ie=$n(l,Fr),Me=$n(l,fr),$e=Ie(),qe=Me(),Ge=~s.indexOf("touch")&&!~s.indexOf("pointer")&&dn[0]==="pointerdown",Ze=bs(l),ze=l.ownerDocument||Hn,xe=[0,0,0],Le=[0,0,0],Te=0,K=function(){return Te=vs()},te=function(et,it){return(ue.event=et)&&o&&~o.indexOf(et.target)||it&&Ge&&et.pointerType!=="touch"||V&&V(et,it)},Z=function(){ue._vx.reset(),ue._vy.reset(),se.pause(),p&&p(ue)},oe=function(){var et=ue.deltaX=fu(xe),it=ue.deltaY=fu(Le),Ve=Math.abs(et)>=_,Ke=Math.abs(it)>=_;k&&(Ve||Ke)&&k(ue,et,it,xe,Le),Ve&&(x&&ue.deltaX>0&&x(ue),M&&ue.deltaX<0&&M(ue),C&&C(ue),R&&ue.deltaX<0!=ge<0&&R(ue),ge=ue.deltaX,xe[0]=xe[1]=xe[2]=0),Ke&&(E&&ue.deltaY>0&&E(ue),w&&ue.deltaY<0&&w(ue),L&&L(ue),P&&ue.deltaY<0!=be<0&&P(ue),be=ue.deltaY,Le[0]=Le[1]=Le[2]=0),(ae||he)&&(B&&B(ue),he&&(u(ue),he=!1),ae=!1),le&&!(le=!1)&&ne&&ne(ue),J&&(Q(ue),J=!1),fe=0},ve=function(et,it,Ve){xe[Ve]+=et,Le[Ve]+=it,ue._vx.update(et),ue._vy.update(it),d?fe||(fe=requestAnimationFrame(oe)):oe()},we=function(et,it){ee&&!ye&&(ue.axis=ye=Math.abs(et)>Math.abs(it)?"x":"y",le=!0),ye!=="y"&&(xe[2]+=et,ue._vx.update(et,!0)),ye!=="x"&&(Le[2]+=it,ue._vy.update(it,!0)),d?fe||(fe=requestAnimationFrame(oe)):oe()},Oe=function(et){if(!te(et,1)){et=os(et,m);var it=et.clientX,Ve=et.clientY,Ke=it-ue.x,tt=Ve-ue.y,at=ue.isDragging;ue.x=it,ue.y=Ve,(at||Math.abs(ue.startX-it)>=b||Math.abs(ue.startY-Ve)>=b)&&(u&&(he=!0),at||(ue.isDragging=!0),we(Ke,tt),at||h&&h(ue))}},Be=ue.onPress=function(dt){te(dt,1)||dt&&dt.button||(ue.axis=ye=null,se.pause(),ue.isPressed=!0,dt=os(dt),ge=be=0,ue.startX=ue.x=dt.clientX,ue.startY=ue.y=dt.clientY,ue._vx.reset(),ue._vy.reset(),Ar(H?l:ze,dn[1],Oe,Se,!0),ue.deltaX=ue.deltaY=0,f&&f(ue))},De=ue.onRelease=function(dt){if(!te(dt,1)){Pr(H?l:ze,dn[1],Oe,!0);var et=!isNaN(ue.y-ue.startY),it=ue.isDragging,Ve=it&&(Math.abs(ue.x-ue.startX)>3||Math.abs(ue.y-ue.startY)>3),Ke=os(dt);!Ve&&et&&(ue._vx.reset(),ue._vy.reset(),m&&$&&xr.delayedCall(.08,function(){if(vs()-Te>300&&!dt.defaultPrevented){if(dt.target.click)dt.target.click();else if(ze.createEvent){var tt=ze.createEvent("MouseEvents");tt.initMouseEvent("click",!0,!0,Qr,1,Ke.screenX,Ke.screenY,Ke.clientX,Ke.clientY,!1,!1,!1,!1,0,null),dt.target.dispatchEvent(tt)}}})),ue.isDragging=ue.isGesturing=ue.isPressed=!1,p&&it&&!H&&se.restart(!0),c&&it&&c(ue),y&&y(ue,Ve)}},He=function(et){return et.touches&&et.touches.length>1&&(ue.isGesturing=!0)&&z(et,ue.isDragging)},Xe=function(){return(ue.isGesturing=!1)||G(ue)},ct=function(et){if(!te(et)){var it=Ie(),Ve=Me();ve((it-$e)*U,(Ve-qe)*U,1),$e=it,qe=Ve,p&&se.restart(!0)}},rt=function(et){if(!te(et)){et=os(et,m),Q&&(J=!0);var it=(et.deltaMode===1?n:et.deltaMode===2?Qr.innerHeight:1)*a;ve(et.deltaX*it,et.deltaY*it,0),p&&!H&&se.restart(!0)}},Je=function(et){if(!te(et)){var it=et.clientX,Ve=et.clientY,Ke=it-ue.x,tt=Ve-ue.y;ue.x=it,ue.y=Ve,ae=!0,p&&se.restart(!0),(Ke||tt)&&we(Ke,tt)}},ft=function(et){ue.event=et,F(ue)},ot=function(et){ue.event=et,I(ue)},Ct=function(et){return te(et)||os(et,m)&&D(ue)};se=ue._dc=xr.delayedCall(r||.25,Z).pause(),ue.deltaX=ue.deltaY=0,ue._vx=Ta(0,50,!0),ue._vy=Ta(0,50,!0),ue.scrollX=Ie,ue.scrollY=Me,ue.isDragging=ue.isGesturing=ue.isPressed=!1,Uc(this),ue.enable=function(dt){return ue.isEnabled||(Ar(Ze?ze:l,"scroll",Sa),s.indexOf("scroll")>=0&&Ar(Ze?ze:l,"scroll",ct,Se,W),s.indexOf("wheel")>=0&&Ar(l,"wheel",rt,Se,W),(s.indexOf("touch")>=0&&Fc||s.indexOf("pointer")>=0)&&(Ar(l,dn[0],Be,Se,W),Ar(ze,dn[2],De),Ar(ze,dn[3],De),$&&Ar(l,"click",K,!0,!0),D&&Ar(l,"click",Ct),z&&Ar(ze,"gesturestart",He),G&&Ar(ze,"gestureend",Xe),F&&Ar(l,ro+"enter",ft),I&&Ar(l,ro+"leave",ot),B&&Ar(l,ro+"move",Je)),ue.isEnabled=!0,dt&&dt.type&&Be(dt),ie&&ie(ue)),ue},ue.disable=function(){ue.isEnabled&&(Uo.filter(function(dt){return dt!==ue&&bs(dt.target)}).length||Pr(Ze?ze:l,"scroll",Sa),ue.isPressed&&(ue._vx.reset(),ue._vy.reset(),Pr(H?l:ze,dn[1],Oe,!0)),Pr(Ze?ze:l,"scroll",ct,W),Pr(l,"wheel",rt,W),Pr(l,dn[0],Be,W),Pr(ze,dn[2],De),Pr(ze,dn[3],De),Pr(l,"click",K,!0),Pr(l,"click",Ct),Pr(ze,"gesturestart",He),Pr(ze,"gestureend",Xe),Pr(l,ro+"enter",ft),Pr(l,ro+"leave",ot),Pr(l,ro+"move",Je),ue.isEnabled=ue.isPressed=ue.isDragging=!1,T&&T(ue))},ue.kill=ue.revert=function(){ue.disable();var dt=Uo.indexOf(ue);dt>=0&&Uo.splice(dt,1),Pn===ue&&(Pn=0)},Uo.push(ue),H&&bs(l)&&(Pn=ue),ue.enable(i)},Rf(X,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),X}();ir.version="3.12.5";ir.create=function(X){return new ir(X)};ir.register=Vc;ir.getAll=function(){return Uo.slice()};ir.getById=function(X){return Uo.filter(function(g){return g.vars.id===X})[0]};Bc()&&xr.registerPlugin(ir);/*!
 * ScrollTrigger 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var nt,Ao,Et,Qt,hn,Ht,Hc,xi,Ds,_s,us,qs,Tr,ki,Ea,Rr,pu,mu,Lo,Wc,Yi,qc,Lr,Ma,Xc,Yc,Un,ka,tl,Ho,rl,wi,Ca,Zi,Xs=1,Er=Date.now,Qi=Er(),sn=0,cs=0,yu=function(g,S,t){var _=qr(g)&&(g.substr(0,6)==="clamp("||g.indexOf("max")>-1);return t["_"+S+"Clamp"]=_,_?g.substr(6,g.length-7):g},gu=function(g,S){return S&&(!qr(g)||g.substr(0,6)!=="clamp(")?"clamp("+g+")":g},If=function X(){return cs&&requestAnimationFrame(X)},vu=function(){return ki=1},bu=function(){return ki=0},gn=function(g){return g},ds=function(g){return Math.round(g*1e5)/1e5||0},Zc=function(){return typeof window<"u"},Qc=function(){return nt||Zc()&&(nt=window.gsap)&&nt.registerPlugin&&nt},go=function(g){return!!~Hc.indexOf(g)},$c=function(g){return(g==="Height"?rl:Et["inner"+g])||hn["client"+g]||Ht["client"+g]},Kc=function(g){return Yn(g,"getBoundingClientRect")||(go(g)?function(){return hi.width=Et.innerWidth,hi.height=rl,hi}:function(){return On(g)})},Ff=function(g,S,t){var _=t.d,b=t.d2,s=t.a;return(s=Yn(g,"getBoundingClientRect"))?function(){return s()[_]}:function(){return(S?$c(b):g["client"+b])||0}},Nf=function(g,S){return!S||~wn.indexOf(g)?Kc(g):function(){return hi}},_n=function(g,S){var t=S.s,_=S.d2,b=S.d,s=S.a;return Math.max(0,(t="scroll"+_)&&(s=Yn(g,t))?s()-Kc(g)()[b]:go(g)?(hn[t]||Ht[t])-$c(_):g[t]-g["offset"+_])},Ys=function(g,S){for(var t=0;t<Lo.length;t+=3)(!S||~S.indexOf(Lo[t+1]))&&g(Lo[t],Lo[t+1],Lo[t+2])},qr=function(g){return typeof g=="string"},Nr=function(g){return typeof g=="function"},hs=function(g){return typeof g=="number"},no=function(g){return typeof g=="object"},ss=function(g,S,t){return g&&g.progress(S?0:1)&&t&&g.pause()},$i=function(g,S){if(g.enabled){var t=g._ctx?g._ctx.add(function(){return S(g)}):S(g);t&&t.totalTime&&(g.callbackAnimation=t)}},Co=Math.abs,Jc="left",ed="top",nl="right",ol="bottom",ho="width",fo="height",xs="Right",ws="Left",js="Top",Ss="Bottom",ur="padding",tn="margin",Ko="Width",sl="Height",hr="px",rn=function(g){return Et.getComputedStyle(g)},Uf=function(g){var S=rn(g).position;g.style.position=S==="absolute"||S==="fixed"?S:"relative"},_u=function(g,S){for(var t in S)t in g||(g[t]=S[t]);return g},On=function(g,S){var t=S&&rn(g)[Ea]!=="matrix(1, 0, 0, 1, 0, 0)"&&nt.to(g,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),_=g.getBoundingClientRect();return t&&t.progress(0).kill(),_},ji=function(g,S){var t=S.d2;return g["offset"+t]||g["client"+t]||0},td=function(g){var S=[],t=g.labels,_=g.duration(),b;for(b in t)S.push(t[b]/_);return S},Bf=function(g){return function(S){return nt.utils.snap(td(g),S)}},il=function(g){var S=nt.utils.snap(g),t=Array.isArray(g)&&g.slice(0).sort(function(_,b){return _-b});return t?function(_,b,s){s===void 0&&(s=.001);var l;if(!b)return S(_);if(b>0){for(_-=s,l=0;l<t.length;l++)if(t[l]>=_)return t[l];return t[l-1]}else for(l=t.length,_+=s;l--;)if(t[l]<=_)return t[l];return t[0]}:function(_,b,s){s===void 0&&(s=.001);var l=S(_);return!b||Math.abs(l-_)<s||l-_<0==b<0?l:S(b<0?_-g:_+g)}},Gf=function(g){return function(S,t){return il(td(g))(S,t.direction)}},Zs=function(g,S,t,_){return t.split(",").forEach(function(b){return g(S,b,_)})},yr=function(g,S,t,_,b){return g.addEventListener(S,t,{passive:!_,capture:!!b})},mr=function(g,S,t,_){return g.removeEventListener(S,t,!!_)},Qs=function(g,S,t){t=t&&t.wheelHandler,t&&(g(S,"wheel",t),g(S,"touchmove",t))},xu={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},$s={toggleActions:"play",anticipatePin:0},Si={top:0,left:0,center:.5,bottom:1,right:1},li=function(g,S){if(qr(g)){var t=g.indexOf("="),_=~t?+(g.charAt(t-1)+1)*parseFloat(g.substr(t+1)):0;~t&&(g.indexOf("%")>t&&(_*=S/100),g=g.substr(0,t-1)),g=_+(g in Si?Si[g]*S:~g.indexOf("%")?parseFloat(g)*S/100:parseFloat(g)||0)}return g},Ks=function(g,S,t,_,b,s,l,n){var d=b.startColor,m=b.endColor,p=b.fontSize,r=b.indent,o=b.fontWeight,a=Qt.createElement("div"),i=go(t)||Yn(t,"pinType")==="fixed",h=g.indexOf("scroller")!==-1,c=i?Ht:t,u=g.indexOf("start")!==-1,f=u?d:m,y="border-color:"+f+";font-size:"+p+";color:"+f+";font-weight:"+o+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return y+="position:"+((h||n)&&i?"fixed;":"absolute;"),(h||n||!i)&&(y+=(_===fr?nl:ol)+":"+(s+parseFloat(r))+"px;"),l&&(y+="box-sizing:border-box;text-align:left;width:"+l.offsetWidth+"px;"),a._isStart=u,a.setAttribute("class","gsap-marker-"+g+(S?" marker-"+S:"")),a.style.cssText=y,a.innerText=S||S===0?g+"-"+S:g,c.children[0]?c.insertBefore(a,c.children[0]):c.appendChild(a),a._offset=a["offset"+_.op.d2],ui(a,0,_,u),a},ui=function(g,S,t,_){var b={display:"block"},s=t[_?"os2":"p2"],l=t[_?"p2":"os2"];g._isFlipped=_,b[t.a+"Percent"]=_?-100:0,b[t.a]=_?"1px":0,b["border"+s+Ko]=1,b["border"+l+Ko]=0,b[t.p]=S+"px",nt.set(g,b)},St=[],Oa={},Is,wu=function(){return Er()-sn>34&&(Is||(Is=requestAnimationFrame(An)))},Oo=function(){(!Lr||!Lr.isPressed||Lr.startX>Ht.clientWidth)&&(Tt.cache++,Lr?Is||(Is=requestAnimationFrame(An)):An(),sn||bo("scrollStart"),sn=Er())},Ki=function(){Yc=Et.innerWidth,Xc=Et.innerHeight},fs=function(){Tt.cache++,!Tr&&!qc&&!Qt.fullscreenElement&&!Qt.webkitFullscreenElement&&(!Ma||Yc!==Et.innerWidth||Math.abs(Et.innerHeight-Xc)>Et.innerHeight*.25)&&xi.restart(!0)},vo={},zf=[],rd=function X(){return mr(wt,"scrollEnd",X)||io(!0)},bo=function(g){return vo[g]&&vo[g].map(function(S){return S()})||zf},Wr=[],nd=function(g){for(var S=0;S<Wr.length;S+=5)(!g||Wr[S+4]&&Wr[S+4].query===g)&&(Wr[S].style.cssText=Wr[S+1],Wr[S].getBBox&&Wr[S].setAttribute("transform",Wr[S+2]||""),Wr[S+3].uncache=1)},al=function(g,S){var t;for(Rr=0;Rr<St.length;Rr++)t=St[Rr],t&&(!S||t._ctx===S)&&(g?t.kill(1):t.revert(!0,!0));wi=!0,S&&nd(S),S||bo("revert")},od=function(g,S){Tt.cache++,(S||!Dr)&&Tt.forEach(function(t){return Nr(t)&&t.cacheID++&&(t.rec=0)}),qr(g)&&(Et.history.scrollRestoration=tl=g)},Dr,po=0,ju,Vf=function(){if(ju!==po){var g=ju=po;requestAnimationFrame(function(){return g===po&&io(!0)})}},sd=function(){Ht.appendChild(Ho),rl=!Lr&&Ho.offsetHeight||Et.innerHeight,Ht.removeChild(Ho)},Su=function(g){return Ds(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(S){return S.style.display=g?"none":"block"})},io=function(g,S){if(sn&&!g&&!wi){yr(wt,"scrollEnd",rd);return}sd(),Dr=wt.isRefreshing=!0,Tt.forEach(function(_){return Nr(_)&&++_.cacheID&&(_.rec=_())});var t=bo("refreshInit");Wc&&wt.sort(),S||al(),Tt.forEach(function(_){Nr(_)&&(_.smooth&&(_.target.style.scrollBehavior="auto"),_(0))}),St.slice(0).forEach(function(_){return _.refresh()}),wi=!1,St.forEach(function(_){if(_._subPinOffset&&_.pin){var b=_.vars.horizontal?"offsetWidth":"offsetHeight",s=_.pin[b];_.revert(!0,1),_.adjustPinSpacing(_.pin[b]-s),_.refresh()}}),Ca=1,Su(!0),St.forEach(function(_){var b=_n(_.scroller,_._dir),s=_.vars.end==="max"||_._endClamp&&_.end>b,l=_._startClamp&&_.start>=b;(s||l)&&_.setPositions(l?b-1:_.start,s?Math.max(l?b:_.start+1,b):_.end,!0)}),Su(!1),Ca=0,t.forEach(function(_){return _&&_.render&&_.render(-1)}),Tt.forEach(function(_){Nr(_)&&(_.smooth&&requestAnimationFrame(function(){return _.target.style.scrollBehavior="smooth"}),_.rec&&_(_.rec))}),od(tl,1),xi.pause(),po++,Dr=2,An(2),St.forEach(function(_){return Nr(_.vars.onRefresh)&&_.vars.onRefresh(_)}),Dr=wt.isRefreshing=!1,bo("refresh")},Pa=0,ci=1,Ts,An=function(g){if(g===2||!Dr&&!wi){wt.isUpdating=!0,Ts&&Ts.update(0);var S=St.length,t=Er(),_=t-Qi>=50,b=S&&St[0].scroll();if(ci=Pa>b?-1:1,Dr||(Pa=b),_&&(sn&&!ki&&t-sn>200&&(sn=0,bo("scrollEnd")),us=Qi,Qi=t),ci<0){for(Rr=S;Rr-- >0;)St[Rr]&&St[Rr].update(0,_);ci=1}else for(Rr=0;Rr<S;Rr++)St[Rr]&&St[Rr].update(0,_);wt.isUpdating=!1}Is=0},Aa=[Jc,ed,ol,nl,tn+Ss,tn+xs,tn+js,tn+ws,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],di=Aa.concat([ho,fo,"boxSizing","max"+Ko,"max"+sl,"position",tn,ur,ur+js,ur+xs,ur+Ss,ur+ws]),Hf=function(g,S,t){Wo(t);var _=g._gsap;if(_.spacerIsNative)Wo(_.spacerState);else if(g._gsap.swappedIn){var b=S.parentNode;b&&(b.insertBefore(g,S),b.removeChild(S))}g._gsap.swappedIn=!1},Ji=function(g,S,t,_){if(!g._gsap.swappedIn){for(var b=Aa.length,s=S.style,l=g.style,n;b--;)n=Aa[b],s[n]=t[n];s.position=t.position==="absolute"?"absolute":"relative",t.display==="inline"&&(s.display="inline-block"),l[ol]=l[nl]="auto",s.flexBasis=t.flexBasis||"auto",s.overflow="visible",s.boxSizing="border-box",s[ho]=ji(g,Fr)+hr,s[fo]=ji(g,fr)+hr,s[ur]=l[tn]=l[ed]=l[Jc]="0",Wo(_),l[ho]=l["max"+Ko]=t[ho],l[fo]=l["max"+sl]=t[fo],l[ur]=t[ur],g.parentNode!==S&&(g.parentNode.insertBefore(S,g),S.appendChild(g)),g._gsap.swappedIn=!0}},Wf=/([A-Z])/g,Wo=function(g){if(g){var S=g.t.style,t=g.length,_=0,b,s;for((g.t._gsap||nt.core.getCache(g.t)).uncache=1;_<t;_+=2)s=g[_+1],b=g[_],s?S[b]=s:S[b]&&S.removeProperty(b.replace(Wf,"-$1").toLowerCase())}},Js=function(g){for(var S=di.length,t=g.style,_=[],b=0;b<S;b++)_.push(di[b],t[di[b]]);return _.t=g,_},qf=function(g,S,t){for(var _=[],b=g.length,s=t?8:0,l;s<b;s+=2)l=g[s],_.push(l,l in S?S[l]:g[s+1]);return _.t=g.t,_},hi={left:0,top:0},Tu=function(g,S,t,_,b,s,l,n,d,m,p,r,o,a){Nr(g)&&(g=g(n)),qr(g)&&g.substr(0,3)==="max"&&(g=r+(g.charAt(4)==="="?li("0"+g.substr(3),t):0));var i=o?o.time():0,h,c,u;if(o&&o.seek(0),isNaN(g)||(g=+g),hs(g))o&&(g=nt.utils.mapRange(o.scrollTrigger.start,o.scrollTrigger.end,0,r,g)),l&&ui(l,t,_,!0);else{Nr(S)&&(S=S(n));var f=(g||"0").split(" "),y,x,M,w;u=Ur(S,n)||Ht,y=On(u)||{},(!y||!y.left&&!y.top)&&rn(u).display==="none"&&(w=u.style.display,u.style.display="block",y=On(u),w?u.style.display=w:u.style.removeProperty("display")),x=li(f[0],y[_.d]),M=li(f[1]||"0",t),g=y[_.p]-d[_.p]-m+x+b-M,l&&ui(l,M,_,t-M<20||l._isStart&&M>20),t-=t-M}if(a&&(n[a]=g||-.001,g<0&&(g=0)),s){var E=g+t,C=s._isStart;h="scroll"+_.d2,ui(s,E,_,C&&E>20||!C&&(p?Math.max(Ht[h],hn[h]):s.parentNode[h])<=E+1),p&&(d=On(l),p&&(s.style[_.op.p]=d[_.op.p]-_.op.m-s._offset+hr))}return o&&u&&(h=On(u),o.seek(r),c=On(u),o._caScrollDist=h[_.p]-c[_.p],g=g/o._caScrollDist*r),o&&o.seek(i),o?g:Math.round(g)},Xf=/(webkit|moz|length|cssText|inset)/i,Eu=function(g,S,t,_){if(g.parentNode!==S){var b=g.style,s,l;if(S===Ht){g._stOrig=b.cssText,l=rn(g);for(s in l)!+s&&!Xf.test(s)&&l[s]&&typeof b[s]=="string"&&s!=="0"&&(b[s]=l[s]);b.top=t,b.left=_}else b.cssText=g._stOrig;nt.core.getCache(g).uncache=1,S.appendChild(g)}},id=function(g,S,t){var _=S,b=_;return function(s){var l=Math.round(g());return l!==_&&l!==b&&Math.abs(l-_)>3&&Math.abs(l-b)>3&&(s=l,t&&t()),b=_,_=s,s}},ei=function(g,S,t){var _={};_[S.p]="+="+t,nt.set(g,_)},Mu=function(g,S){var t=$n(g,S),_="_scroll"+S.p2,b=function s(l,n,d,m,p){var r=s.tween,o=n.onComplete,a={};d=d||t();var i=id(t,d,function(){r.kill(),s.tween=0});return p=m&&p||0,m=m||l-d,r&&r.kill(),n[_]=l,n.inherit=!1,n.modifiers=a,a[_]=function(){return i(d+m*r.ratio+p*r.ratio*r.ratio)},n.onUpdate=function(){Tt.cache++,s.tween&&An()},n.onComplete=function(){s.tween=0,o&&o.call(r)},r=s.tween=nt.to(g,n),r};return g[_]=t,t.wheelHandler=function(){return b.tween&&b.tween.kill()&&(b.tween=0)},yr(g,"wheel",t.wheelHandler),wt.isTouch&&yr(g,"touchmove",t.wheelHandler),b},wt=function(){function X(S,t){Ao||X.register(nt)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),ka(this),this.init(S,t)}var g=X.prototype;return g.init=function(t,_){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!cs){this.update=this.refresh=this.kill=gn;return}t=_u(qr(t)||hs(t)||t.nodeType?{trigger:t}:t,$s);var b=t,s=b.onUpdate,l=b.toggleClass,n=b.id,d=b.onToggle,m=b.onRefresh,p=b.scrub,r=b.trigger,o=b.pin,a=b.pinSpacing,i=b.invalidateOnRefresh,h=b.anticipatePin,c=b.onScrubComplete,u=b.onSnapComplete,f=b.once,y=b.snap,x=b.pinReparent,M=b.pinSpacer,w=b.containerAnimation,E=b.fastScrollEnd,C=b.preventOverlaps,L=t.horizontal||t.containerAnimation&&t.horizontal!==!1?Fr:fr,k=!p&&p!==0,R=Ur(t.scroller||Et),P=nt.core.getCache(R),F=go(R),I=("pinType"in t?t.pinType:Yn(R,"pinType")||F&&"fixed")==="fixed",B=[t.onEnter,t.onLeave,t.onEnterBack,t.onLeaveBack],V=k&&t.toggleActions.split(" "),H="markers"in t?t.markers:$s.markers,z=F?0:parseFloat(rn(R)["border"+L.p2+Ko])||0,G=this,Q=t.onRefreshInit&&function(){return t.onRefreshInit(G)},ie=Ff(R,F,L),T=Nf(R,F),D=0,U=0,W=0,$=$n(R,L),ee,ne,fe,se,he,ae,J,le,ye,ue,ge,be,Se,Ie,Me,$e,qe,Ge,Ze,ze,xe,Le,Te,K,te,Z,oe,ve,we,Oe,Be,De,He,Xe,ct,rt,Je,ft,ot;if(G._startClamp=G._endClamp=!1,G._dir=L,h*=45,G.scroller=R,G.scroll=w?w.time.bind(w):$,se=$(),G.vars=t,_=_||t.animation,"refreshPriority"in t&&(Wc=1,t.refreshPriority===-9999&&(Ts=G)),P.tweenScroll=P.tweenScroll||{top:Mu(R,fr),left:Mu(R,Fr)},G.tweenTo=ee=P.tweenScroll[L.p],G.scrubDuration=function(Ve){He=hs(Ve)&&Ve,He?De?De.duration(Ve):De=nt.to(_,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:He,paused:!0,onComplete:function(){return c&&c(G)}}):(De&&De.progress(1).kill(),De=0)},_&&(_.vars.lazy=!1,_._initted&&!G.isReverted||_.vars.immediateRender!==!1&&t.immediateRender!==!1&&_.duration()&&_.render(0,!0,!0),G.animation=_.pause(),_.scrollTrigger=G,G.scrubDuration(p),Oe=0,n||(n=_.vars.id)),y&&((!no(y)||y.push)&&(y={snapTo:y}),"scrollBehavior"in Ht.style&&nt.set(F?[Ht,hn]:R,{scrollBehavior:"auto"}),Tt.forEach(function(Ve){return Nr(Ve)&&Ve.target===(F?Qt.scrollingElement||hn:R)&&(Ve.smooth=!1)}),fe=Nr(y.snapTo)?y.snapTo:y.snapTo==="labels"?Bf(_):y.snapTo==="labelsDirectional"?Gf(_):y.directional!==!1?function(Ve,Ke){return il(y.snapTo)(Ve,Er()-U<500?0:Ke.direction)}:nt.utils.snap(y.snapTo),Xe=y.duration||{min:.1,max:2},Xe=no(Xe)?_s(Xe.min,Xe.max):_s(Xe,Xe),ct=nt.delayedCall(y.delay||He/2||.1,function(){var Ve=$(),Ke=Er()-U<500,tt=ee.tween;if((Ke||Math.abs(G.getVelocity())<10)&&!tt&&!ki&&D!==Ve){var at=(Ve-ae)/Ie,vt=_&&!k?_.totalProgress():at,mt=Ke?0:(vt-Be)/(Er()-us)*1e3||0,Dt=nt.utils.clamp(-at,1-at,Co(mt/2)*mt/.185),er=at+(y.inertia===!1?0:Dt),Rt,At,kt=y,br=kt.onStart,pe=kt.onInterrupt,Ue=kt.onComplete;if(Rt=fe(er,G),hs(Rt)||(Rt=er),At=Math.round(ae+Rt*Ie),Ve<=J&&Ve>=ae&&At!==Ve){if(tt&&!tt._initted&&tt.data<=Co(At-Ve))return;y.inertia===!1&&(Dt=Rt-at),ee(At,{duration:Xe(Co(Math.max(Co(er-vt),Co(Rt-vt))*.185/mt/.05||0)),ease:y.ease||"power3",data:Co(At-Ve),onInterrupt:function(){return ct.restart(!0)&&pe&&pe(G)},onComplete:function(){G.update(),D=$(),_&&(De?De.resetTo("totalProgress",Rt,_._tTime/_._tDur):_.progress(Rt)),Oe=Be=_&&!k?_.totalProgress():G.progress,u&&u(G),Ue&&Ue(G)}},Ve,Dt*Ie,At-Ve-Dt*Ie),br&&br(G,ee.tween)}}else G.isActive&&D!==Ve&&ct.restart(!0)}).pause()),n&&(Oa[n]=G),r=G.trigger=Ur(r||o!==!0&&o),ot=r&&r._gsap&&r._gsap.stRevert,ot&&(ot=ot(G)),o=o===!0?r:Ur(o),qr(l)&&(l={targets:r,className:l}),o&&(a===!1||a===tn||(a=!a&&o.parentNode&&o.parentNode.style&&rn(o.parentNode).display==="flex"?!1:ur),G.pin=o,ne=nt.core.getCache(o),ne.spacer?Me=ne.pinState:(M&&(M=Ur(M),M&&!M.nodeType&&(M=M.current||M.nativeElement),ne.spacerIsNative=!!M,M&&(ne.spacerState=Js(M))),ne.spacer=Ge=M||Qt.createElement("div"),Ge.classList.add("pin-spacer"),n&&Ge.classList.add("pin-spacer-"+n),ne.pinState=Me=Js(o)),t.force3D!==!1&&nt.set(o,{force3D:!0}),G.spacer=Ge=ne.spacer,we=rn(o),K=we[a+L.os2],ze=nt.getProperty(o),xe=nt.quickSetter(o,L.a,hr),Ji(o,Ge,we),qe=Js(o)),H){be=no(H)?_u(H,xu):xu,ue=Ks("scroller-start",n,R,L,be,0),ge=Ks("scroller-end",n,R,L,be,0,ue),Ze=ue["offset"+L.op.d2];var Ct=Ur(Yn(R,"content")||R);le=this.markerStart=Ks("start",n,Ct,L,be,Ze,0,w),ye=this.markerEnd=Ks("end",n,Ct,L,be,Ze,0,w),w&&(ft=nt.quickSetter([le,ye],L.a,hr)),!I&&!(wn.length&&Yn(R,"fixedMarkers")===!0)&&(Uf(F?Ht:R),nt.set([ue,ge],{force3D:!0}),Z=nt.quickSetter(ue,L.a,hr),ve=nt.quickSetter(ge,L.a,hr))}if(w){var dt=w.vars.onUpdate,et=w.vars.onUpdateParams;w.eventCallback("onUpdate",function(){G.update(0,0,1),dt&&dt.apply(w,et||[])})}if(G.previous=function(){return St[St.indexOf(G)-1]},G.next=function(){return St[St.indexOf(G)+1]},G.revert=function(Ve,Ke){if(!Ke)return G.kill(!0);var tt=Ve!==!1||!G.enabled,at=Tr;tt!==G.isReverted&&(tt&&(rt=Math.max($(),G.scroll.rec||0),W=G.progress,Je=_&&_.progress()),le&&[le,ye,ue,ge].forEach(function(vt){return vt.style.display=tt?"none":"block"}),tt&&(Tr=G,G.update(tt)),o&&(!x||!G.isActive)&&(tt?Hf(o,Ge,Me):Ji(o,Ge,rn(o),te)),tt||G.update(tt),Tr=at,G.isReverted=tt)},G.refresh=function(Ve,Ke,tt,at){if(!((Tr||!G.enabled)&&!Ke)){if(o&&Ve&&sn){yr(X,"scrollEnd",rd);return}!Dr&&Q&&Q(G),Tr=G,ee.tween&&!tt&&(ee.tween.kill(),ee.tween=0),De&&De.pause(),i&&_&&_.revert({kill:!1}).invalidate(),G.isReverted||G.revert(!0,!0),G._subPinOffset=!1;var vt=ie(),mt=T(),Dt=w?w.duration():_n(R,L),er=Ie<=.01,Rt=0,At=at||0,kt=no(tt)?tt.end:t.end,br=t.endTrigger||r,pe=no(tt)?tt.start:t.start||(t.start===0||!r?0:o?"0 0":"0 100%"),Ue=G.pinnedContainer=t.pinnedContainer&&Ur(t.pinnedContainer,G),Ye=r&&Math.max(0,St.indexOf(G))||0,Fe=Ye,pt,Re,_t,Qe,yt,We,Ot,Yt,Gt,Wt,or,dr,Or;for(H&&no(tt)&&(dr=nt.getProperty(ue,L.p),Or=nt.getProperty(ge,L.p));Fe--;)We=St[Fe],We.end||We.refresh(0,1)||(Tr=G),Ot=We.pin,Ot&&(Ot===r||Ot===o||Ot===Ue)&&!We.isReverted&&(Wt||(Wt=[]),Wt.unshift(We),We.revert(!0,!0)),We!==St[Fe]&&(Ye--,Fe--);for(Nr(pe)&&(pe=pe(G)),pe=yu(pe,"start",G),ae=Tu(pe,r,vt,L,$(),le,ue,G,mt,z,I,Dt,w,G._startClamp&&"_startClamp")||(o?-.001:0),Nr(kt)&&(kt=kt(G)),qr(kt)&&!kt.indexOf("+=")&&(~kt.indexOf(" ")?kt=(qr(pe)?pe.split(" ")[0]:"")+kt:(Rt=li(kt.substr(2),vt),kt=qr(pe)?pe:(w?nt.utils.mapRange(0,w.duration(),w.scrollTrigger.start,w.scrollTrigger.end,ae):ae)+Rt,br=r)),kt=yu(kt,"end",G),J=Math.max(ae,Tu(kt||(br?"100% 0":Dt),br,vt,L,$()+Rt,ye,ge,G,mt,z,I,Dt,w,G._endClamp&&"_endClamp"))||-.001,Rt=0,Fe=Ye;Fe--;)We=St[Fe],Ot=We.pin,Ot&&We.start-We._pinPush<=ae&&!w&&We.end>0&&(pt=We.end-(G._startClamp?Math.max(0,We.start):We.start),(Ot===r&&We.start-We._pinPush<ae||Ot===Ue)&&isNaN(pe)&&(Rt+=pt*(1-We.progress)),Ot===o&&(At+=pt));if(ae+=Rt,J+=Rt,G._startClamp&&(G._startClamp+=Rt),G._endClamp&&!Dr&&(G._endClamp=J||-.001,J=Math.min(J,_n(R,L))),Ie=J-ae||(ae-=.01)&&.001,er&&(W=nt.utils.clamp(0,1,nt.utils.normalize(ae,J,rt))),G._pinPush=At,le&&Rt&&(pt={},pt[L.a]="+="+Rt,Ue&&(pt[L.p]="-="+$()),nt.set([le,ye],pt)),o&&!(Ca&&G.end>=_n(R,L)))pt=rn(o),Qe=L===fr,_t=$(),Le=parseFloat(ze(L.a))+At,!Dt&&J>1&&(or=(F?Qt.scrollingElement||hn:R).style,or={style:or,value:or["overflow"+L.a.toUpperCase()]},F&&rn(Ht)["overflow"+L.a.toUpperCase()]!=="scroll"&&(or.style["overflow"+L.a.toUpperCase()]="scroll")),Ji(o,Ge,pt),qe=Js(o),Re=On(o,!0),Yt=I&&$n(R,Qe?Fr:fr)(),a?(te=[a+L.os2,Ie+At+hr],te.t=Ge,Fe=a===ur?ji(o,L)+Ie+At:0,Fe&&(te.push(L.d,Fe+hr),Ge.style.flexBasis!=="auto"&&(Ge.style.flexBasis=Fe+hr)),Wo(te),Ue&&St.forEach(function(qt){qt.pin===Ue&&qt.vars.pinSpacing!==!1&&(qt._subPinOffset=!0)}),I&&$(rt)):(Fe=ji(o,L),Fe&&Ge.style.flexBasis!=="auto"&&(Ge.style.flexBasis=Fe+hr)),I&&(yt={top:Re.top+(Qe?_t-ae:Yt)+hr,left:Re.left+(Qe?Yt:_t-ae)+hr,boxSizing:"border-box",position:"fixed"},yt[ho]=yt["max"+Ko]=Math.ceil(Re.width)+hr,yt[fo]=yt["max"+sl]=Math.ceil(Re.height)+hr,yt[tn]=yt[tn+js]=yt[tn+xs]=yt[tn+Ss]=yt[tn+ws]="0",yt[ur]=pt[ur],yt[ur+js]=pt[ur+js],yt[ur+xs]=pt[ur+xs],yt[ur+Ss]=pt[ur+Ss],yt[ur+ws]=pt[ur+ws],$e=qf(Me,yt,x),Dr&&$(0)),_?(Gt=_._initted,Yi(1),_.render(_.duration(),!0,!0),Te=ze(L.a)-Le+Ie+At,oe=Math.abs(Ie-Te)>1,I&&oe&&$e.splice($e.length-2,2),_.render(0,!0,!0),Gt||_.invalidate(!0),_.parent||_.totalTime(_.totalTime()),Yi(0)):Te=Ie,or&&(or.value?or.style["overflow"+L.a.toUpperCase()]=or.value:or.style.removeProperty("overflow-"+L.a));else if(r&&$()&&!w)for(Re=r.parentNode;Re&&Re!==Ht;)Re._pinOffset&&(ae-=Re._pinOffset,J-=Re._pinOffset),Re=Re.parentNode;Wt&&Wt.forEach(function(qt){return qt.revert(!1,!0)}),G.start=ae,G.end=J,se=he=Dr?rt:$(),!w&&!Dr&&(se<rt&&$(rt),G.scroll.rec=0),G.revert(!1,!0),U=Er(),ct&&(D=-1,ct.restart(!0)),Tr=0,_&&k&&(_._initted||Je)&&_.progress()!==Je&&_.progress(Je||0,!0).render(_.time(),!0,!0),(er||W!==G.progress||w||i)&&(_&&!k&&_.totalProgress(w&&ae<-.001&&!W?nt.utils.normalize(ae,J,0):W,!0),G.progress=er||(se-ae)/Ie===W?0:W),o&&a&&(Ge._pinOffset=Math.round(G.progress*Te)),De&&De.invalidate(),isNaN(dr)||(dr-=nt.getProperty(ue,L.p),Or-=nt.getProperty(ge,L.p),ei(ue,L,dr),ei(le,L,dr-(at||0)),ei(ge,L,Or),ei(ye,L,Or-(at||0))),er&&!Dr&&G.update(),m&&!Dr&&!Se&&(Se=!0,m(G),Se=!1)}},G.getVelocity=function(){return($()-he)/(Er()-us)*1e3||0},G.endAnimation=function(){ss(G.callbackAnimation),_&&(De?De.progress(1):_.paused()?k||ss(_,G.direction<0,1):ss(_,_.reversed()))},G.labelToScroll=function(Ve){return _&&_.labels&&(ae||G.refresh()||ae)+_.labels[Ve]/_.duration()*Ie||0},G.getTrailing=function(Ve){var Ke=St.indexOf(G),tt=G.direction>0?St.slice(0,Ke).reverse():St.slice(Ke+1);return(qr(Ve)?tt.filter(function(at){return at.vars.preventOverlaps===Ve}):tt).filter(function(at){return G.direction>0?at.end<=ae:at.start>=J})},G.update=function(Ve,Ke,tt){if(!(w&&!tt&&!Ve)){var at=Dr===!0?rt:G.scroll(),vt=Ve?0:(at-ae)/Ie,mt=vt<0?0:vt>1?1:vt||0,Dt=G.progress,er,Rt,At,kt,br,pe,Ue,Ye;if(Ke&&(he=se,se=w?$():at,y&&(Be=Oe,Oe=_&&!k?_.totalProgress():mt)),h&&o&&!Tr&&!Xs&&sn&&(!mt&&ae<at+(at-he)/(Er()-us)*h?mt=1e-4:mt===1&&J>at+(at-he)/(Er()-us)*h&&(mt=.9999)),mt!==Dt&&G.enabled){if(er=G.isActive=!!mt&&mt<1,Rt=!!Dt&&Dt<1,pe=er!==Rt,br=pe||!!mt!=!!Dt,G.direction=mt>Dt?1:-1,G.progress=mt,br&&!Tr&&(At=mt&&!Dt?0:mt===1?1:Dt===1?2:3,k&&(kt=!pe&&V[At+1]!=="none"&&V[At+1]||V[At],Ye=_&&(kt==="complete"||kt==="reset"||kt in _))),C&&(pe||Ye)&&(Ye||p||!_)&&(Nr(C)?C(G):G.getTrailing(C).forEach(function(_t){return _t.endAnimation()})),k||(De&&!Tr&&!Xs?(De._dp._time-De._start!==De._time&&De.render(De._dp._time-De._start),De.resetTo?De.resetTo("totalProgress",mt,_._tTime/_._tDur):(De.vars.totalProgress=mt,De.invalidate().restart())):_&&_.totalProgress(mt,!!(Tr&&(U||Ve)))),o){if(Ve&&a&&(Ge.style[a+L.os2]=K),!I)xe(ds(Le+Te*mt));else if(br){if(Ue=!Ve&&mt>Dt&&J+1>at&&at+1>=_n(R,L),x)if(!Ve&&(er||Ue)){var Fe=On(o,!0),pt=at-ae;Eu(o,Ht,Fe.top+(L===fr?pt:0)+hr,Fe.left+(L===fr?0:pt)+hr)}else Eu(o,Ge);Wo(er||Ue?$e:qe),oe&&mt<1&&er||xe(Le+(mt===1&&!Ue?Te:0))}}y&&!ee.tween&&!Tr&&!Xs&&ct.restart(!0),l&&(pe||f&&mt&&(mt<1||!Zi))&&Ds(l.targets).forEach(function(_t){return _t.classList[er||f?"add":"remove"](l.className)}),s&&!k&&!Ve&&s(G),br&&!Tr?(k&&(Ye&&(kt==="complete"?_.pause().totalProgress(1):kt==="reset"?_.restart(!0).pause():kt==="restart"?_.restart(!0):_[kt]()),s&&s(G)),(pe||!Zi)&&(d&&pe&&$i(G,d),B[At]&&$i(G,B[At]),f&&(mt===1?G.kill(!1,1):B[At]=0),pe||(At=mt===1?1:3,B[At]&&$i(G,B[At]))),E&&!er&&Math.abs(G.getVelocity())>(hs(E)?E:2500)&&(ss(G.callbackAnimation),De?De.progress(1):ss(_,kt==="reverse"?1:!mt,1))):k&&s&&!Tr&&s(G)}if(ve){var Re=w?at/w.duration()*(w._caScrollDist||0):at;Z(Re+(ue._isFlipped?1:0)),ve(Re)}ft&&ft(-at/w.duration()*(w._caScrollDist||0))}},G.enable=function(Ve,Ke){G.enabled||(G.enabled=!0,yr(R,"resize",fs),F||yr(R,"scroll",Oo),Q&&yr(X,"refreshInit",Q),Ve!==!1&&(G.progress=W=0,se=he=D=$()),Ke!==!1&&G.refresh())},G.getTween=function(Ve){return Ve&&ee?ee.tween:De},G.setPositions=function(Ve,Ke,tt,at){if(w){var vt=w.scrollTrigger,mt=w.duration(),Dt=vt.end-vt.start;Ve=vt.start+Dt*Ve/mt,Ke=vt.start+Dt*Ke/mt}G.refresh(!1,!1,{start:gu(Ve,tt&&!!G._startClamp),end:gu(Ke,tt&&!!G._endClamp)},at),G.update()},G.adjustPinSpacing=function(Ve){if(te&&Ve){var Ke=te.indexOf(L.d)+1;te[Ke]=parseFloat(te[Ke])+Ve+hr,te[1]=parseFloat(te[1])+Ve+hr,Wo(te)}},G.disable=function(Ve,Ke){if(G.enabled&&(Ve!==!1&&G.revert(!0,!0),G.enabled=G.isActive=!1,Ke||De&&De.pause(),rt=0,ne&&(ne.uncache=1),Q&&mr(X,"refreshInit",Q),ct&&(ct.pause(),ee.tween&&ee.tween.kill()&&(ee.tween=0)),!F)){for(var tt=St.length;tt--;)if(St[tt].scroller===R&&St[tt]!==G)return;mr(R,"resize",fs),F||mr(R,"scroll",Oo)}},G.kill=function(Ve,Ke){G.disable(Ve,Ke),De&&!Ke&&De.kill(),n&&delete Oa[n];var tt=St.indexOf(G);tt>=0&&St.splice(tt,1),tt===Rr&&ci>0&&Rr--,tt=0,St.forEach(function(at){return at.scroller===G.scroller&&(tt=1)}),tt||Dr||(G.scroll.rec=0),_&&(_.scrollTrigger=null,Ve&&_.revert({kill:!1}),Ke||_.kill()),le&&[le,ye,ue,ge].forEach(function(at){return at.parentNode&&at.parentNode.removeChild(at)}),Ts===G&&(Ts=0),o&&(ne&&(ne.uncache=1),tt=0,St.forEach(function(at){return at.pin===o&&tt++}),tt||(ne.spacer=0)),t.onKill&&t.onKill(G)},St.push(G),G.enable(!1,!1),ot&&ot(G),_&&_.add&&!Ie){var it=G.update;G.update=function(){G.update=it,ae||J||G.refresh()},nt.delayedCall(.01,G.update),Ie=.01,ae=J=0}else G.refresh();o&&Vf()},X.register=function(t){return Ao||(nt=t||Qc(),Zc()&&window.document&&X.enable(),Ao=cs),Ao},X.defaults=function(t){if(t)for(var _ in t)$s[_]=t[_];return $s},X.disable=function(t,_){cs=0,St.forEach(function(s){return s[_?"kill":"disable"](t)}),mr(Et,"wheel",Oo),mr(Qt,"scroll",Oo),clearInterval(qs),mr(Qt,"touchcancel",gn),mr(Ht,"touchstart",gn),Zs(mr,Qt,"pointerdown,touchstart,mousedown",vu),Zs(mr,Qt,"pointerup,touchend,mouseup",bu),xi.kill(),Ys(mr);for(var b=0;b<Tt.length;b+=3)Qs(mr,Tt[b],Tt[b+1]),Qs(mr,Tt[b],Tt[b+2])},X.enable=function(){if(Et=window,Qt=document,hn=Qt.documentElement,Ht=Qt.body,nt&&(Ds=nt.utils.toArray,_s=nt.utils.clamp,ka=nt.core.context||gn,Yi=nt.core.suppressOverwrites||gn,tl=Et.history.scrollRestoration||"auto",Pa=Et.pageYOffset,nt.core.globals("ScrollTrigger",X),Ht)){cs=1,Ho=document.createElement("div"),Ho.style.height="100vh",Ho.style.position="absolute",sd(),If(),ir.register(nt),X.isTouch=ir.isTouch,Un=ir.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),Ma=ir.isTouch===1,yr(Et,"wheel",Oo),Hc=[Et,Qt,hn,Ht],nt.matchMedia?(X.matchMedia=function(n){var d=nt.matchMedia(),m;for(m in n)d.add(m,n[m]);return d},nt.addEventListener("matchMediaInit",function(){return al()}),nt.addEventListener("matchMediaRevert",function(){return nd()}),nt.addEventListener("matchMedia",function(){io(0,1),bo("matchMedia")}),nt.matchMedia("(orientation: portrait)",function(){return Ki(),Ki})):console.warn("Requires GSAP 3.11.0 or later"),Ki(),yr(Qt,"scroll",Oo);var t=Ht.style,_=t.borderTopStyle,b=nt.core.Animation.prototype,s,l;for(b.revert||Object.defineProperty(b,"revert",{value:function(){return this.time(-.01,!0)}}),t.borderTopStyle="solid",s=On(Ht),fr.m=Math.round(s.top+fr.sc())||0,Fr.m=Math.round(s.left+Fr.sc())||0,_?t.borderTopStyle=_:t.removeProperty("border-top-style"),qs=setInterval(wu,250),nt.delayedCall(.5,function(){return Xs=0}),yr(Qt,"touchcancel",gn),yr(Ht,"touchstart",gn),Zs(yr,Qt,"pointerdown,touchstart,mousedown",vu),Zs(yr,Qt,"pointerup,touchend,mouseup",bu),Ea=nt.utils.checkPrefix("transform"),di.push(Ea),Ao=Er(),xi=nt.delayedCall(.2,io).pause(),Lo=[Qt,"visibilitychange",function(){var n=Et.innerWidth,d=Et.innerHeight;Qt.hidden?(pu=n,mu=d):(pu!==n||mu!==d)&&fs()},Qt,"DOMContentLoaded",io,Et,"load",io,Et,"resize",fs],Ys(yr),St.forEach(function(n){return n.enable(0,1)}),l=0;l<Tt.length;l+=3)Qs(mr,Tt[l],Tt[l+1]),Qs(mr,Tt[l],Tt[l+2])}},X.config=function(t){"limitCallbacks"in t&&(Zi=!!t.limitCallbacks);var _=t.syncInterval;_&&clearInterval(qs)||(qs=_)&&setInterval(wu,_),"ignoreMobileResize"in t&&(Ma=X.isTouch===1&&t.ignoreMobileResize),"autoRefreshEvents"in t&&(Ys(mr)||Ys(yr,t.autoRefreshEvents||"none"),qc=(t.autoRefreshEvents+"").indexOf("resize")===-1)},X.scrollerProxy=function(t,_){var b=Ur(t),s=Tt.indexOf(b),l=go(b);~s&&Tt.splice(s,l?6:2),_&&(l?wn.unshift(Et,_,Ht,_,hn,_):wn.unshift(b,_))},X.clearMatchMedia=function(t){St.forEach(function(_){return _._ctx&&_._ctx.query===t&&_._ctx.kill(!0,!0)})},X.isInViewport=function(t,_,b){var s=(qr(t)?Ur(t):t).getBoundingClientRect(),l=s[b?ho:fo]*_||0;return b?s.right-l>0&&s.left+l<Et.innerWidth:s.bottom-l>0&&s.top+l<Et.innerHeight},X.positionInViewport=function(t,_,b){qr(t)&&(t=Ur(t));var s=t.getBoundingClientRect(),l=s[b?ho:fo],n=_==null?l/2:_ in Si?Si[_]*l:~_.indexOf("%")?parseFloat(_)*l/100:parseFloat(_)||0;return b?(s.left+n)/Et.innerWidth:(s.top+n)/Et.innerHeight},X.killAll=function(t){if(St.slice(0).forEach(function(b){return b.vars.id!=="ScrollSmoother"&&b.kill()}),t!==!0){var _=vo.killAll||[];vo={},_.forEach(function(b){return b()})}},X}();wt.version="3.12.5";wt.saveStyles=function(X){return X?Ds(X).forEach(function(g){if(g&&g.style){var S=Wr.indexOf(g);S>=0&&Wr.splice(S,5),Wr.push(g,g.style.cssText,g.getBBox&&g.getAttribute("transform"),nt.core.getCache(g),ka())}}):Wr};wt.revert=function(X,g){return al(!X,g)};wt.create=function(X,g){return new wt(X,g)};wt.refresh=function(X){return X?fs():(Ao||wt.register())&&io(!0)};wt.update=function(X){return++Tt.cache&&An(X===!0?2:0)};wt.clearScrollMemory=od;wt.maxScroll=function(X,g){return _n(X,g?Fr:fr)};wt.getScrollFunc=function(X,g){return $n(Ur(X),g?Fr:fr)};wt.getById=function(X){return Oa[X]};wt.getAll=function(){return St.filter(function(X){return X.vars.id!=="ScrollSmoother"})};wt.isScrolling=function(){return!!sn};wt.snapDirectional=il;wt.addEventListener=function(X,g){var S=vo[X]||(vo[X]=[]);~S.indexOf(g)||S.push(g)};wt.removeEventListener=function(X,g){var S=vo[X],t=S&&S.indexOf(g);t>=0&&S.splice(t,1)};wt.batch=function(X,g){var S=[],t={},_=g.interval||.016,b=g.batchMax||1e9,s=function(d,m){var p=[],r=[],o=nt.delayedCall(_,function(){m(p,r),p=[],r=[]}).pause();return function(a){p.length||o.restart(!0),p.push(a.trigger),r.push(a),b<=p.length&&o.progress(1)}},l;for(l in g)t[l]=l.substr(0,2)==="on"&&Nr(g[l])&&l!=="onRefreshInit"?s(l,g[l]):g[l];return Nr(b)&&(b=b(),yr(wt,"refresh",function(){return b=g.batchMax()})),Ds(X).forEach(function(n){var d={};for(l in t)d[l]=t[l];d.trigger=n,S.push(wt.create(d))}),S};var ku=function(g,S,t,_){return S>_?g(_):S<0&&g(0),t>_?(_-S)/(t-S):t<0?S/(S-t):1},ea=function X(g,S){S===!0?g.style.removeProperty("touch-action"):g.style.touchAction=S===!0?"auto":S?"pan-"+S+(ir.isTouch?" pinch-zoom":""):"none",g===hn&&X(Ht,S)},ti={auto:1,scroll:1},Yf=function(g){var S=g.event,t=g.target,_=g.axis,b=(S.changedTouches?S.changedTouches[0]:S).target,s=b._gsap||nt.core.getCache(b),l=Er(),n;if(!s._isScrollT||l-s._isScrollT>2e3){for(;b&&b!==Ht&&(b.scrollHeight<=b.clientHeight&&b.scrollWidth<=b.clientWidth||!(ti[(n=rn(b)).overflowY]||ti[n.overflowX]));)b=b.parentNode;s._isScroll=b&&b!==t&&!go(b)&&(ti[(n=rn(b)).overflowY]||ti[n.overflowX]),s._isScrollT=l}(s._isScroll||_==="x")&&(S.stopPropagation(),S._gsapAllow=!0)},ad=function(g,S,t,_){return ir.create({target:g,capture:!0,debounce:!1,lockAxis:!0,type:S,onWheel:_=_&&Yf,onPress:_,onDrag:_,onScroll:_,onEnable:function(){return t&&yr(Qt,ir.eventTypes[0],Ou,!1,!0)},onDisable:function(){return mr(Qt,ir.eventTypes[0],Ou,!0)}})},Zf=/(input|label|select|textarea)/i,Cu,Ou=function(g){var S=Zf.test(g.target.tagName);(S||Cu)&&(g._gsapAllow=!0,Cu=S)},Qf=function(g){no(g)||(g={}),g.preventDefault=g.isNormalizer=g.allowClicks=!0,g.type||(g.type="wheel,touch"),g.debounce=!!g.debounce,g.id=g.id||"normalizer";var S=g,t=S.normalizeScrollX,_=S.momentum,b=S.allowNestedScroll,s=S.onRelease,l,n,d=Ur(g.target)||hn,m=nt.core.globals().ScrollSmoother,p=m&&m.get(),r=Un&&(g.content&&Ur(g.content)||p&&g.content!==!1&&!p.smooth()&&p.content()),o=$n(d,fr),a=$n(d,Fr),i=1,h=(ir.isTouch&&Et.visualViewport?Et.visualViewport.scale*Et.visualViewport.width:Et.outerWidth)/Et.innerWidth,c=0,u=Nr(_)?function(){return _(l)}:function(){return _||2.8},f,y,x=ad(d,g.type,!0,b),M=function(){return y=!1},w=gn,E=gn,C=function(){n=_n(d,fr),E=_s(Un?1:0,n),t&&(w=_s(0,_n(d,Fr))),f=po},L=function(){r._gsap.y=ds(parseFloat(r._gsap.y)+o.offset)+"px",r.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(r._gsap.y)+", 0, 1)",o.offset=o.cacheID=0},k=function(){if(y){requestAnimationFrame(M);var H=ds(l.deltaY/2),z=E(o.v-H);if(r&&z!==o.v+o.offset){o.offset=z-o.v;var G=ds((parseFloat(r&&r._gsap.y)||0)-o.offset);r.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+G+", 0, 1)",r._gsap.y=G+"px",o.cacheID=Tt.cache,An()}return!0}o.offset&&L(),y=!0},R,P,F,I,B=function(){C(),R.isActive()&&R.vars.scrollY>n&&(o()>n?R.progress(1)&&o(n):R.resetTo("scrollY",n))};return r&&nt.set(r,{y:"+=0"}),g.ignoreCheck=function(V){return Un&&V.type==="touchmove"&&k()||i>1.05&&V.type!=="touchstart"||l.isGesturing||V.touches&&V.touches.length>1},g.onPress=function(){y=!1;var V=i;i=ds((Et.visualViewport&&Et.visualViewport.scale||1)/h),R.pause(),V!==i&&ea(d,i>1.01?!0:t?!1:"x"),P=a(),F=o(),C(),f=po},g.onRelease=g.onGestureStart=function(V,H){if(o.offset&&L(),!H)I.restart(!0);else{Tt.cache++;var z=u(),G,Q;t&&(G=a(),Q=G+z*.05*-V.velocityX/.227,z*=ku(a,G,Q,_n(d,Fr)),R.vars.scrollX=w(Q)),G=o(),Q=G+z*.05*-V.velocityY/.227,z*=ku(o,G,Q,_n(d,fr)),R.vars.scrollY=E(Q),R.invalidate().duration(z).play(.01),(Un&&R.vars.scrollY>=n||G>=n-1)&&nt.to({},{onUpdate:B,duration:z})}s&&s(V)},g.onWheel=function(){R._ts&&R.pause(),Er()-c>1e3&&(f=0,c=Er())},g.onChange=function(V,H,z,G,Q){if(po!==f&&C(),H&&t&&a(w(G[2]===H?P+(V.startX-V.x):a()+H-G[1])),z){o.offset&&L();var ie=Q[2]===z,T=ie?F+V.startY-V.y:o()+z-Q[1],D=E(T);ie&&T!==D&&(F+=D-T),o(D)}(z||H)&&An()},g.onEnable=function(){ea(d,t?!1:"x"),wt.addEventListener("refresh",B),yr(Et,"resize",B),o.smooth&&(o.target.style.scrollBehavior="auto",o.smooth=a.smooth=!1),x.enable()},g.onDisable=function(){ea(d,!0),mr(Et,"resize",B),wt.removeEventListener("refresh",B),x.kill()},g.lockAxis=g.lockAxis!==!1,l=new ir(g),l.iOS=Un,Un&&!o()&&o(1),Un&&nt.ticker.add(gn),I=l._dc,R=nt.to(l,{ease:"power4",paused:!0,inherit:!1,scrollX:t?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:id(o,o(),function(){return R.pause()})},onUpdate:An,onComplete:I.vars.onComplete}),l};wt.sort=function(X){return St.sort(X||function(g,S){return(g.vars.refreshPriority||0)*-1e6+g.start-(S.start+(S.vars.refreshPriority||0)*-1e6)})};wt.observe=function(X){return new ir(X)};wt.normalizeScroll=function(X){if(typeof X>"u")return Lr;if(X===!0&&Lr)return Lr.enable();if(X===!1){Lr&&Lr.kill(),Lr=X;return}var g=X instanceof ir?X:Qf(X);return Lr&&Lr.target===g.target&&Lr.kill(),go(g.target)&&(Lr=g),g};wt.core={_getVelocityProp:Ta,_inputObserver:ad,_scrollers:Tt,_proxies:wn,bridge:{ss:function(){sn||bo("scrollStart"),sn=Er()},ref:function(){return Tr}}};Qc()&&nt.registerPlugin(wt);var $f=Sn('/** **/ // https://codepen.io/web_designer_sanchit/pen/dqZLQx <div id="scroll-down-sign" class="scroll-down fixed bottom-[8%] left-[50%] svelte-kq92vc"><span class="svelte-kq92vc"></span></div>',1);function Kf(X,g){_o(g,!1),wo(()=>{rr.registerPlugin(wt),rr.to("#scroll-down-sign",{autoAlpha:0,scrollTrigger:{trigger:"#steps",start:"top bottom",end:"top+=500 bottom-=100"}})}),Fa(),oa();var S=$f(),t=gt(is(S,!0));xt(t),Yr(X,S),xo()}var Jf=Sn('<section class="relative min-h-screen w-screen"><video autoplay muted playsinline="" loop preload="auto" class="bg-media svelte-15eh2vh"><source type="video/mp4"></video> <img alt="Background_video" class="bg-media svelte-15eh2vh"> <div class="landing-logo left-[2rem] svelte-15eh2vh"><img alt="scl_logo"></div> <div class="landing-logo right-[2rem] svelte-15eh2vh"><img alt="mit_logo"></div> <!> <!></section>');function ep(X,g){_o(g,!0);let S,t,_,b,s=Ms(!1),l=Ms(!1);function n(){S&&S.play().catch(y=>{console.error("Error attempting to play video: ",y),qo(l,!0)})}function d(y,x,M){rr.from(y,{duration:1.2,autoAlpha:0,x,ease:"power3.inOut",delay:1,onComplete:()=>{rr.to(y,{x:M,autoAlpha:0,ease:"linear",overwrite:"auto",scrollTrigger:{trigger:_,start:"top top",end:"+=400",scrub:1}})}})}wo(()=>{rr.registerPlugin(wt),n(),document.body.style.overflow="hidden",d(_,-36,-150),d(b,36,150),rr.from($t(l)?t:S,{scale:1.4,duration:1.6,ease:"power4.inOut",transformOrigin:"center center",onComplete:()=>{rr.to($t(l)?t:S,{autoAlpha:0,ease:"linear",scrollTrigger:{trigger:"#steps",start:"top bottom",end:"top+=500 bottom-=100",scrub:1,toggleActions:"restart none none reverse"}})}})});var m=Jf(),p=Pt(m);Ro(p,y=>S=y,()=>S);var r=Pt(p);Do(r,"src",hh),xt(p);var o=gt(gt(p,!0));Ro(o,y=>t=y,()=>t),Do(o,"src",fh);var a=gt(gt(o,!0));Ro(a,y=>_=y,()=>_);var i=Pt(a);Do(i,"src",ph),xt(a);var h=gt(gt(a,!0));Ro(h,y=>b=y,()=>b);var c=Pt(h);Do(c,"src",mh),xt(h);var u=gt(gt(h,!0));Af(u,{get loaded(){return $t(s)},set loaded(y){qo(s,Ia(y))}});var f=gt(gt(u,!0));aa(f,()=>$t(s),y=>{Kf(y,{})}),xt(m),sa(()=>{Io(p,"hidden",$t(l)),Io(o,"hidden",!$t(l))}),Yr(X,m),xo()}var tp=Sn("<div><!></div>");function rp(X,g){_o(g,!1);let S=Po(g,"root",0,null),t=Po(g,"top",0,0),_=Po(g,"bottom",0,0),b=Po(g,"increments",0,100),s=Po(g,"value",4,void 0);const l=[],n=[];let d=[],m=[],p=Du();const r=()=>{d.length&&d.forEach(a)},o=()=>{let c=0,u=0;for(let f=0;f<l.length;f++)l[f]>c&&(c=l[f],u=f);c>0?s(u):s(void 0)},a=(c,u)=>{const f=C=>{C[0].isIntersecting;const L=C[0].intersectionRatio;l[u]=L,o()},y=t()?t()*-1:0,x=_()?_()*-1:0,M=`${y}px 0px ${x}px 0px`,w={root:S(),rootMargin:M,threshold:n};m[u]&&m[u].disconnect();const E=new IntersectionObserver(f,w);E.observe(c),m[u]=E};wo(()=>{for(let c=0;c<b()+1;c++)n.push(c/b());d=$t(p).querySelectorAll(":scope > *"),r()}),Kd(()=>(Yl(t()),Yl(_())),()=>{t(),_(),r()}),Jd(),Fa();var i=tp();Ro(i,c=>qo(p,c),()=>$t(p));var h=Pt(i);ah(h,ch(g),{}),xt(i),Yr(X,i),xo()}var ri=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function np(X){return X&&X.__esModule&&Object.prototype.hasOwnProperty.call(X,"default")?X.default:X}function ni(X){throw new Error('Could not dynamically require "'+X+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ld={exports:{}};/*! p5.js v1.10.0 July 31, 2024 */(function(X,g){(function(S){X.exports=S()})(function(){var S;return function t(_,b,s){function l(m,p){if(!b[m]){if(!_[m]){var r=typeof ni=="function"&&ni;if(!p&&r)return r(m,!0);if(n)return n(m,!0);throw(p=new Error("Cannot find module '"+m+"'")).code="MODULE_NOT_FOUND",p}r=b[m]={exports:{}},_[m][0].call(r.exports,function(o){return l(_[m][1][o]||o)},r,r.exports,t,_,b,s)}return b[m].exports}for(var n=typeof ni=="function"&&ni,d=0;d<s.length;d++)l(s[d]);return l}({1:[function(t,_,b){b.byteLength=function(i){var i=r(i),a=i[0],i=i[1];return 3*(a+i)/4-i},b.toByteArray=function(o){var a,i,c=r(o),h=c[0],c=c[1],u=new n(function(x,M){return 3*(x+M)/4-M}(h,c)),f=0,y=0<c?h-4:h;for(i=0;i<y;i+=4)a=l[o.charCodeAt(i)]<<18|l[o.charCodeAt(i+1)]<<12|l[o.charCodeAt(i+2)]<<6|l[o.charCodeAt(i+3)],u[f++]=a>>16&255,u[f++]=a>>8&255,u[f++]=255&a;return c===2&&(a=l[o.charCodeAt(i)]<<2|l[o.charCodeAt(i+1)]>>4,u[f++]=255&a),c===1&&(a=l[o.charCodeAt(i)]<<10|l[o.charCodeAt(i+1)]<<4|l[o.charCodeAt(i+2)]>>2,u[f++]=a>>8&255,u[f++]=255&a),u},b.fromByteArray=function(o){for(var a,i=o.length,h=i%3,c=[],u=0,f=i-h;u<f;u+=16383)c.push(function(y,x,M){for(var w,E=[],C=x;C<M;C+=3)w=(y[C]<<16&16711680)+(y[C+1]<<8&65280)+(255&y[C+2]),E.push(function(L){return s[L>>18&63]+s[L>>12&63]+s[L>>6&63]+s[63&L]}(w));return E.join("")}(o,u,f<u+16383?f:u+16383));return h==1?(a=o[i-1],c.push(s[a>>2]+s[a<<4&63]+"==")):h==2&&(a=(o[i-2]<<8)+o[i-1],c.push(s[a>>10]+s[a>>4&63]+s[a<<2&63]+"=")),c.join("")};for(var s=[],l=[],n=typeof Uint8Array<"u"?Uint8Array:Array,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",m=0,p=d.length;m<p;++m)s[m]=d[m],l[d.charCodeAt(m)]=m;function r(o){var a=o.length;if(0<a%4)throw new Error("Invalid string. Length must be a multiple of 4");return o=o.indexOf("="),a=(o=o===-1?a:o)===a?0:4-o%4,[o,a]}l[45]=62,l[95]=63},{}],2:[function(t,_,b){},{}],3:[function(t,_,b){},{}],4:[function(t,_,b){(function(r){var l=t("base64-js"),n=t("ieee754"),d=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,m=(b.Buffer=r,b.SlowBuffer=function(T){return+T!=T&&(T=0),r.alloc(+T)},b.INSPECT_MAX_BYTES=50,2147483647);function p(T){if(m<T)throw new RangeError('The value "'+T+'" is invalid for option "size"');return T=new Uint8Array(T),Object.setPrototypeOf(T,r.prototype),T}function r(T,D,U){if(typeof T!="number")return o(T,D,U);if(typeof D=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return i(T)}function o(T,D,U){if(typeof T=="string"){var W=T,$=D;if(r.isEncoding($=typeof $=="string"&&$!==""?$:"utf8"))return ee=0|u(W,$),ne=p(ee),ne=(W=ne.write(W,$))!==ee?ne.slice(0,W):ne;throw new TypeError("Unknown encoding: "+$)}if(ArrayBuffer.isView(T))return h(T);if(T!=null){if(G(T,ArrayBuffer)||T&&G(T.buffer,ArrayBuffer)){var ee=T,W=D,ne=U;if(W<0||ee.byteLength<W)throw new RangeError('"offset" is outside of buffer bounds');if(ee.byteLength<W+(ne||0))throw new RangeError('"length" is outside of buffer bounds');return ee=W===void 0&&ne===void 0?new Uint8Array(ee):ne===void 0?new Uint8Array(ee,W):new Uint8Array(ee,W,ne),Object.setPrototypeOf(ee,r.prototype),ee}if(typeof T=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');if($=T.valueOf&&T.valueOf(),$!=null&&$!==T)return r.from($,D,U);var fe=function(se){{var he,ae;if(r.isBuffer(se))return he=0|c(se.length),(ae=p(he)).length!==0&&se.copy(ae,0,0,he),ae}if(se.length!==void 0)return typeof se.length!="number"||Q(se.length)?p(0):h(se);if(se.type==="Buffer"&&Array.isArray(se.data))return h(se.data)}(T);if(fe)return fe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof T[Symbol.toPrimitive]=="function")return r.from(T[Symbol.toPrimitive]("string"),D,U)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof T)}function a(T){if(typeof T!="number")throw new TypeError('"size" argument must be of type number');if(T<0)throw new RangeError('The value "'+T+'" is invalid for option "size"')}function i(T){return a(T),p(T<0?0:0|c(T))}function h(T){for(var D=T.length<0?0:0|c(T.length),U=p(D),W=0;W<D;W+=1)U[W]=255&T[W];return U}function c(T){if(m<=T)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+m.toString(16)+" bytes");return 0|T}function u(T,D){if(r.isBuffer(T))return T.length;if(ArrayBuffer.isView(T)||G(T,ArrayBuffer))return T.byteLength;if(typeof T!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof T);var U=T.length,W=2<arguments.length&&arguments[2]===!0;if(!W&&U===0)return 0;for(var $=!1;;)switch(D){case"ascii":case"latin1":case"binary":return U;case"utf8":case"utf-8":return V(T).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*U;case"hex":return U>>>1;case"base64":return H(T).length;default:if($)return W?-1:V(T).length;D=(""+D).toLowerCase(),$=!0}}function f(T,D,U){var W,$=!1;if((D=D===void 0||D<0?0:D)>this.length||(U=U===void 0||U>this.length?this.length:U)<=0||(U>>>=0)<=(D>>>=0))return"";for(T=T||"utf8";;)switch(T){case"hex":var ee=this,ge=D,ne=U,ae=ee.length;(!ne||ne<0||ae<ne)&&(ne=ae);for(var fe="",se=ge=!ge||ge<0?0:ge;se<ne;++se)fe+=ie[ee[se]];return fe;case"utf8":case"utf-8":return C(this,D,U);case"ascii":var he=this,ae=D,J=U,le="";J=Math.min(he.length,J);for(var ye=ae;ye<J;++ye)le+=String.fromCharCode(127&he[ye]);return le;case"latin1":case"binary":var ue=this,ge=D,be=U,Se="";be=Math.min(ue.length,be);for(var Ie=ge;Ie<be;++Ie)Se+=String.fromCharCode(ue[Ie]);return Se;case"base64":return Me=this,W=U,($e=D)===0&&W===Me.length?l.fromByteArray(Me):l.fromByteArray(Me.slice($e,W));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var Me=D,$e=U,qe=this.slice(Me,$e),Ge="",Ze=0;Ze<qe.length;Ze+=2)Ge+=String.fromCharCode(qe[Ze]+256*qe[Ze+1]);return Ge;default:if($)throw new TypeError("Unknown encoding: "+T);T=(T+"").toLowerCase(),$=!0}}function y(T,D,U){var W=T[D];T[D]=T[U],T[U]=W}function x(T,D,U,W,$){if(T.length===0)return-1;if(typeof U=="string"?(W=U,U=0):2147483647<U?U=2147483647:U<-2147483648&&(U=-2147483648),(U=(U=Q(U=+U)?$?0:T.length-1:U)<0?T.length+U:U)>=T.length){if($)return-1;U=T.length-1}else if(U<0){if(!$)return-1;U=0}if(typeof D=="string"&&(D=r.from(D,W)),r.isBuffer(D))return D.length===0?-1:M(T,D,U,W,$);if(typeof D=="number")return D&=255,typeof Uint8Array.prototype.indexOf=="function"?($?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(T,D,U):M(T,[D],U,W,$);throw new TypeError("val must be string, number or Buffer")}function M(T,D,U,W,$){var ee=1,ne=T.length,fe=D.length;if(W!==void 0&&((W=String(W).toLowerCase())==="ucs2"||W==="ucs-2"||W==="utf16le"||W==="utf-16le")){if(T.length<2||D.length<2)return-1;ne/=ee=2,fe/=2,U/=2}function se(ye,ue){return ee===1?ye[ue]:ye.readUInt16BE(ue*ee)}if($)for(var he=-1,ae=U;ae<ne;ae++)if(se(T,ae)===se(D,he===-1?0:ae-he)){if(ae-(he=he===-1?ae:he)+1===fe)return he*ee}else he!==-1&&(ae-=ae-he),he=-1;else for(ae=U=ne<U+fe?ne-fe:U;0<=ae;ae--){for(var J=!0,le=0;le<fe;le++)if(se(T,ae+le)!==se(D,le)){J=!1;break}if(J)return ae}return-1}function w(T,D,U,W){return z(function($){for(var ee=[],ne=0;ne<$.length;++ne)ee.push(255&$.charCodeAt(ne));return ee}(D),T,U,W)}function E(T,D,U,W){return z(function($,ee){for(var ne,fe,se=[],he=0;he<$.length&&!((ee-=2)<0);++he)fe=$.charCodeAt(he),ne=fe>>8,fe=fe%256,se.push(fe),se.push(ne);return se}(D,T.length-U),T,U,W)}function C(T,D,U){U=Math.min(T.length,U);for(var W=[],$=D;$<U;){var ee,ne,fe,se,he=T[$],ae=null,J=239<he?4:223<he?3:191<he?2:1;if($+J<=U)switch(J){case 1:he<128&&(ae=he);break;case 2:(192&(ee=T[$+1]))==128&&127<(se=(31&he)<<6|63&ee)&&(ae=se);break;case 3:ee=T[$+1],ne=T[$+2],(192&ee)==128&&(192&ne)==128&&2047<(se=(15&he)<<12|(63&ee)<<6|63&ne)&&(se<55296||57343<se)&&(ae=se);break;case 4:ee=T[$+1],ne=T[$+2],fe=T[$+3],(192&ee)==128&&(192&ne)==128&&(192&fe)==128&&65535<(se=(15&he)<<18|(63&ee)<<12|(63&ne)<<6|63&fe)&&se<1114112&&(ae=se)}ae===null?(ae=65533,J=1):65535<ae&&(ae-=65536,W.push(ae>>>10&1023|55296),ae=56320|1023&ae),W.push(ae),$+=J}var le=W,ye=le.length;if(ye<=L)return String.fromCharCode.apply(String,le);for(var ue="",ge=0;ge<ye;)ue+=String.fromCharCode.apply(String,le.slice(ge,ge+=L));return ue}b.kMaxLength=m,(r.TYPED_ARRAY_SUPPORT=function(){try{var T=new Uint8Array(1),D={foo:function(){return 42}};return Object.setPrototypeOf(D,Uint8Array.prototype),Object.setPrototypeOf(T,D),T.foo()===42}catch{return!1}}())||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(r.prototype,"parent",{enumerable:!0,get:function(){if(r.isBuffer(this))return this.buffer}}),Object.defineProperty(r.prototype,"offset",{enumerable:!0,get:function(){if(r.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&r[Symbol.species]===r&&Object.defineProperty(r,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),r.poolSize=8192,r.from=o,Object.setPrototypeOf(r.prototype,Uint8Array.prototype),Object.setPrototypeOf(r,Uint8Array),r.alloc=function(T,D,U){return D=D,U=U,a(T=T),!(T<=0)&&D!==void 0?typeof U=="string"?p(T).fill(D,U):p(T).fill(D):p(T)},r.allocUnsafe=i,r.allocUnsafeSlow=i,r.isBuffer=function(T){return T!=null&&T._isBuffer===!0&&T!==r.prototype},r.compare=function(T,D){if(G(T,Uint8Array)&&(T=r.from(T,T.offset,T.byteLength)),G(D,Uint8Array)&&(D=r.from(D,D.offset,D.byteLength)),!r.isBuffer(T)||!r.isBuffer(D))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(T===D)return 0;for(var U=T.length,W=D.length,$=0,ee=Math.min(U,W);$<ee;++$)if(T[$]!==D[$]){U=T[$],W=D[$];break}return U<W?-1:W<U?1:0},r.isEncoding=function(T){switch(String(T).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(T,D){if(!Array.isArray(T))throw new TypeError('"list" argument must be an Array of Buffers');if(T.length===0)return r.alloc(0);if(D===void 0)for($=D=0;$<T.length;++$)D+=T[$].length;for(var U=r.allocUnsafe(D),W=0,$=0;$<T.length;++$){var ee=T[$];if(G(ee,Uint8Array)&&(ee=r.from(ee)),!r.isBuffer(ee))throw new TypeError('"list" argument must be an Array of Buffers');ee.copy(U,W),W+=ee.length}return U},r.byteLength=u,r.prototype._isBuffer=!0,r.prototype.swap16=function(){var T=this.length;if(T%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var D=0;D<T;D+=2)y(this,D,D+1);return this},r.prototype.swap32=function(){var T=this.length;if(T%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var D=0;D<T;D+=4)y(this,D,D+3),y(this,D+1,D+2);return this},r.prototype.swap64=function(){var T=this.length;if(T%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var D=0;D<T;D+=8)y(this,D,D+7),y(this,D+1,D+6),y(this,D+2,D+5),y(this,D+3,D+4);return this},r.prototype.toLocaleString=r.prototype.toString=function(){var T=this.length;return T===0?"":arguments.length===0?C(this,0,T):f.apply(this,arguments)},r.prototype.equals=function(T){if(r.isBuffer(T))return this===T||r.compare(this,T)===0;throw new TypeError("Argument must be a Buffer")},r.prototype.inspect=function(){var D="",T=b.INSPECT_MAX_BYTES,D=this.toString("hex",0,T).replace(/(.{2})/g,"$1 ").trim();return this.length>T&&(D+=" ... "),"<Buffer "+D+">"},d&&(r.prototype[d]=r.prototype.inspect),r.prototype.compare=function(T,D,U,W,$){if(G(T,Uint8Array)&&(T=r.from(T,T.offset,T.byteLength)),!r.isBuffer(T))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof T);if(U===void 0&&(U=T?T.length:0),W===void 0&&(W=0),$===void 0&&($=this.length),(D=D===void 0?0:D)<0||U>T.length||W<0||$>this.length)throw new RangeError("out of range index");if($<=W&&U<=D)return 0;if($<=W)return-1;if(U<=D)return 1;if(this===T)return 0;for(var ee=($>>>=0)-(W>>>=0),ne=(U>>>=0)-(D>>>=0),fe=Math.min(ee,ne),se=this.slice(W,$),he=T.slice(D,U),ae=0;ae<fe;++ae)if(se[ae]!==he[ae]){ee=se[ae],ne=he[ae];break}return ee<ne?-1:ne<ee?1:0},r.prototype.includes=function(T,D,U){return this.indexOf(T,D,U)!==-1},r.prototype.indexOf=function(T,D,U){return x(this,T,D,U,!0)},r.prototype.lastIndexOf=function(T,D,U){return x(this,T,D,U,!1)},r.prototype.write=function(T,D,U,W){if(D===void 0)W="utf8",U=this.length,D=0;else if(U===void 0&&typeof D=="string")W=D,U=this.length,D=0;else{if(!isFinite(D))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");D>>>=0,isFinite(U)?(U>>>=0,W===void 0&&(W="utf8")):(W=U,U=void 0)}var $=this.length-D;if((U===void 0||$<U)&&(U=$),0<T.length&&(U<0||D<0)||D>this.length)throw new RangeError("Attempt to write outside buffer bounds");W=W||"utf8";for(var ee,ne,fe,se=!1;;)switch(W){case"hex":var he=this,ae=T,J=D,le=U,ye=(J=Number(J)||0,he.length-J);(!le||ye<(le=Number(le)))&&(le=ye),(ye=ae.length)/2<le&&(le=ye/2);for(var ue=0;ue<le;++ue){var ge=parseInt(ae.substr(2*ue,2),16);if(Q(ge))return ue;he[J+ue]=ge}return ue;case"utf8":case"utf-8":return ye=D,fe=U,z(V(T,(ne=this).length-ye),ne,ye,fe);case"ascii":return w(this,T,D,U);case"latin1":case"binary":return w(this,T,D,U);case"base64":return ne=this,fe=D,ee=U,z(H(T),ne,fe,ee);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,T,D,U);default:if(se)throw new TypeError("Unknown encoding: "+W);W=(""+W).toLowerCase(),se=!0}},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var L=4096;function k(T,D,U){if(T%1!=0||T<0)throw new RangeError("offset is not uint");if(U<T+D)throw new RangeError("Trying to access beyond buffer length")}function R(T,D,U,W,$,ee){if(!r.isBuffer(T))throw new TypeError('"buffer" argument must be a Buffer instance');if($<D||D<ee)throw new RangeError('"value" argument is out of bounds');if(U+W>T.length)throw new RangeError("Index out of range")}function P(T,D,U,W){if(U+W>T.length)throw new RangeError("Index out of range");if(U<0)throw new RangeError("Index out of range")}function F(T,D,U,W,$){return D=+D,U>>>=0,$||P(T,0,U,4),n.write(T,D,U,W,23,4),U+4}function I(T,D,U,W,$){return D=+D,U>>>=0,$||P(T,0,U,8),n.write(T,D,U,W,52,8),U+8}r.prototype.slice=function(T,D){var U=this.length,U=((T=~~T)<0?(T+=U)<0&&(T=0):U<T&&(T=U),(D=D===void 0?U:~~D)<0?(D+=U)<0&&(D=0):U<D&&(D=U),D<T&&(D=T),this.subarray(T,D));return Object.setPrototypeOf(U,r.prototype),U},r.prototype.readUIntLE=function(T,D,U){T>>>=0,D>>>=0,U||k(T,D,this.length);for(var W=this[T],$=1,ee=0;++ee<D&&($*=256);)W+=this[T+ee]*$;return W},r.prototype.readUIntBE=function(T,D,U){T>>>=0,D>>>=0,U||k(T,D,this.length);for(var W=this[T+--D],$=1;0<D&&($*=256);)W+=this[T+--D]*$;return W},r.prototype.readUInt8=function(T,D){return T>>>=0,D||k(T,1,this.length),this[T]},r.prototype.readUInt16LE=function(T,D){return T>>>=0,D||k(T,2,this.length),this[T]|this[T+1]<<8},r.prototype.readUInt16BE=function(T,D){return T>>>=0,D||k(T,2,this.length),this[T]<<8|this[T+1]},r.prototype.readUInt32LE=function(T,D){return T>>>=0,D||k(T,4,this.length),(this[T]|this[T+1]<<8|this[T+2]<<16)+16777216*this[T+3]},r.prototype.readUInt32BE=function(T,D){return T>>>=0,D||k(T,4,this.length),16777216*this[T]+(this[T+1]<<16|this[T+2]<<8|this[T+3])},r.prototype.readIntLE=function(T,D,U){T>>>=0,D>>>=0,U||k(T,D,this.length);for(var W=this[T],$=1,ee=0;++ee<D&&($*=256);)W+=this[T+ee]*$;return($*=128)<=W&&(W-=Math.pow(2,8*D)),W},r.prototype.readIntBE=function(T,D,U){T>>>=0,D>>>=0,U||k(T,D,this.length);for(var W=D,$=1,ee=this[T+--W];0<W&&($*=256);)ee+=this[T+--W]*$;return($*=128)<=ee&&(ee-=Math.pow(2,8*D)),ee},r.prototype.readInt8=function(T,D){return T>>>=0,D||k(T,1,this.length),128&this[T]?-1*(255-this[T]+1):this[T]},r.prototype.readInt16LE=function(T,D){return T>>>=0,D||k(T,2,this.length),D=this[T]|this[T+1]<<8,32768&D?4294901760|D:D},r.prototype.readInt16BE=function(T,D){return T>>>=0,D||k(T,2,this.length),D=this[T+1]|this[T]<<8,32768&D?4294901760|D:D},r.prototype.readInt32LE=function(T,D){return T>>>=0,D||k(T,4,this.length),this[T]|this[T+1]<<8|this[T+2]<<16|this[T+3]<<24},r.prototype.readInt32BE=function(T,D){return T>>>=0,D||k(T,4,this.length),this[T]<<24|this[T+1]<<16|this[T+2]<<8|this[T+3]},r.prototype.readFloatLE=function(T,D){return T>>>=0,D||k(T,4,this.length),n.read(this,T,!0,23,4)},r.prototype.readFloatBE=function(T,D){return T>>>=0,D||k(T,4,this.length),n.read(this,T,!1,23,4)},r.prototype.readDoubleLE=function(T,D){return T>>>=0,D||k(T,8,this.length),n.read(this,T,!0,52,8)},r.prototype.readDoubleBE=function(T,D){return T>>>=0,D||k(T,8,this.length),n.read(this,T,!1,52,8)},r.prototype.writeUIntLE=function(T,D,U,W){T=+T,D>>>=0,U>>>=0,W||R(this,T,D,U,Math.pow(2,8*U)-1,0);var $=1,ee=0;for(this[D]=255&T;++ee<U&&($*=256);)this[D+ee]=T/$&255;return D+U},r.prototype.writeUIntBE=function(T,D,U,W){T=+T,D>>>=0,U>>>=0,W||R(this,T,D,U,Math.pow(2,8*U)-1,0);var $=U-1,ee=1;for(this[D+$]=255&T;0<=--$&&(ee*=256);)this[D+$]=T/ee&255;return D+U},r.prototype.writeUInt8=function(T,D,U){return T=+T,D>>>=0,U||R(this,T,D,1,255,0),this[D]=255&T,D+1},r.prototype.writeUInt16LE=function(T,D,U){return T=+T,D>>>=0,U||R(this,T,D,2,65535,0),this[D]=255&T,this[D+1]=T>>>8,D+2},r.prototype.writeUInt16BE=function(T,D,U){return T=+T,D>>>=0,U||R(this,T,D,2,65535,0),this[D]=T>>>8,this[D+1]=255&T,D+2},r.prototype.writeUInt32LE=function(T,D,U){return T=+T,D>>>=0,U||R(this,T,D,4,4294967295,0),this[D+3]=T>>>24,this[D+2]=T>>>16,this[D+1]=T>>>8,this[D]=255&T,D+4},r.prototype.writeUInt32BE=function(T,D,U){return T=+T,D>>>=0,U||R(this,T,D,4,4294967295,0),this[D]=T>>>24,this[D+1]=T>>>16,this[D+2]=T>>>8,this[D+3]=255&T,D+4},r.prototype.writeIntLE=function(T,D,U,W){T=+T,D>>>=0,W||R(this,T,D,U,(W=Math.pow(2,8*U-1))-1,-W);var $=0,ee=1,ne=0;for(this[D]=255&T;++$<U&&(ee*=256);)T<0&&ne===0&&this[D+$-1]!==0&&(ne=1),this[D+$]=(T/ee>>0)-ne&255;return D+U},r.prototype.writeIntBE=function(T,D,U,W){T=+T,D>>>=0,W||R(this,T,D,U,(W=Math.pow(2,8*U-1))-1,-W);var $=U-1,ee=1,ne=0;for(this[D+$]=255&T;0<=--$&&(ee*=256);)T<0&&ne===0&&this[D+$+1]!==0&&(ne=1),this[D+$]=(T/ee>>0)-ne&255;return D+U},r.prototype.writeInt8=function(T,D,U){return T=+T,D>>>=0,U||R(this,T,D,1,127,-128),this[D]=255&(T=T<0?255+T+1:T),D+1},r.prototype.writeInt16LE=function(T,D,U){return T=+T,D>>>=0,U||R(this,T,D,2,32767,-32768),this[D]=255&T,this[D+1]=T>>>8,D+2},r.prototype.writeInt16BE=function(T,D,U){return T=+T,D>>>=0,U||R(this,T,D,2,32767,-32768),this[D]=T>>>8,this[D+1]=255&T,D+2},r.prototype.writeInt32LE=function(T,D,U){return T=+T,D>>>=0,U||R(this,T,D,4,2147483647,-2147483648),this[D]=255&T,this[D+1]=T>>>8,this[D+2]=T>>>16,this[D+3]=T>>>24,D+4},r.prototype.writeInt32BE=function(T,D,U){return T=+T,D>>>=0,U||R(this,T,D,4,2147483647,-2147483648),this[D]=(T=T<0?4294967295+T+1:T)>>>24,this[D+1]=T>>>16,this[D+2]=T>>>8,this[D+3]=255&T,D+4},r.prototype.writeFloatLE=function(T,D,U){return F(this,T,D,!0,U)},r.prototype.writeFloatBE=function(T,D,U){return F(this,T,D,!1,U)},r.prototype.writeDoubleLE=function(T,D,U){return I(this,T,D,!0,U)},r.prototype.writeDoubleBE=function(T,D,U){return I(this,T,D,!1,U)},r.prototype.copy=function(T,D,U,W){if(!r.isBuffer(T))throw new TypeError("argument should be a Buffer");if(U=U||0,W||W===0||(W=this.length),D>=T.length&&(D=T.length),(W=0<W&&W<U?U:W)===U||T.length===0||this.length===0)return 0;if((D=D||0)<0)throw new RangeError("targetStart out of bounds");if(U<0||U>=this.length)throw new RangeError("Index out of range");if(W<0)throw new RangeError("sourceEnd out of bounds");W>this.length&&(W=this.length);var $=(W=T.length-D<W-U?T.length-D+U:W)-U;if(this===T&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(D,U,W);else if(this===T&&U<D&&D<W)for(var ee=$-1;0<=ee;--ee)T[ee+D]=this[ee+U];else Uint8Array.prototype.set.call(T,this.subarray(U,W),D);return $},r.prototype.fill=function(T,D,U,W){if(typeof T=="string"){if(typeof D=="string"?(W=D,D=0,U=this.length):typeof U=="string"&&(W=U,U=this.length),W!==void 0&&typeof W!="string")throw new TypeError("encoding must be a string");if(typeof W=="string"&&!r.isEncoding(W))throw new TypeError("Unknown encoding: "+W);var $;T.length===1&&($=T.charCodeAt(0),(W==="utf8"&&$<128||W==="latin1")&&(T=$))}else typeof T=="number"?T&=255:typeof T=="boolean"&&(T=Number(T));if(D<0||this.length<D||this.length<U)throw new RangeError("Out of range index");var ee;if(!(U<=D))if(D>>>=0,U=U===void 0?this.length:U>>>0,typeof(T=T||0)=="number")for(ee=D;ee<U;++ee)this[ee]=T;else{var ne=r.isBuffer(T)?T:r.from(T,W),fe=ne.length;if(fe===0)throw new TypeError('The value "'+T+'" is invalid for argument "value"');for(ee=0;ee<U-D;++ee)this[ee+D]=ne[ee%fe]}return this};var B=/[^+/0-9A-Za-z-_]/g;function V(T,D){D=D||1/0;for(var U,W=T.length,$=null,ee=[],ne=0;ne<W;++ne){if(55295<(U=T.charCodeAt(ne))&&U<57344){if(!$){if(56319<U){-1<(D-=3)&&ee.push(239,191,189);continue}if(ne+1===W){-1<(D-=3)&&ee.push(239,191,189);continue}$=U;continue}if(U<56320){-1<(D-=3)&&ee.push(239,191,189),$=U;continue}U=65536+($-55296<<10|U-56320)}else $&&-1<(D-=3)&&ee.push(239,191,189);if($=null,U<128){if(--D<0)break;ee.push(U)}else if(U<2048){if((D-=2)<0)break;ee.push(U>>6|192,63&U|128)}else if(U<65536){if((D-=3)<0)break;ee.push(U>>12|224,U>>6&63|128,63&U|128)}else{if(!(U<1114112))throw new Error("Invalid code point");if((D-=4)<0)break;ee.push(U>>18|240,U>>12&63|128,U>>6&63|128,63&U|128)}}return ee}function H(T){return l.toByteArray(function(D){if((D=(D=D.split("=")[0]).trim().replace(B,"")).length<2)return"";for(;D.length%4!=0;)D+="=";return D}(T))}function z(T,D,U,W){for(var $=0;$<W&&!($+U>=D.length||$>=T.length);++$)D[$+U]=T[$];return $}function G(T,D){return T instanceof D||T!=null&&T.constructor!=null&&T.constructor.name!=null&&T.constructor.name===D.name}function Q(T){return T!=T}var ie=function(){for(var T="0123456789abcdef",D=new Array(256),U=0;U<16;++U)for(var W=16*U,$=0;$<16;++$)D[W+$]=T[U]+T[$];return D}()}).call(this,t("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:254}],5:[function(t,_,b){_.exports=function(s){if(typeof s!="function")throw TypeError(String(s)+" is not a function");return s}},{}],6:[function(t,_,b){var s=t("../internals/is-object");_.exports=function(l){if(s(l)||l===null)return l;throw TypeError("Can't set "+String(l)+" as a prototype")}},{"../internals/is-object":75}],7:[function(n,_,b){var s=n("../internals/well-known-symbol"),l=n("../internals/object-create"),n=n("../internals/object-define-property"),d=s("unscopables"),m=Array.prototype;m[d]==null&&n.f(m,d,{configurable:!0,value:l(null)}),_.exports=function(p){m[d][p]=!0}},{"../internals/object-create":91,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],8:[function(t,_,b){var s=t("../internals/string-multibyte").charAt;_.exports=function(l,n,d){return n+(d?s(l,n).length:1)}},{"../internals/string-multibyte":125}],9:[function(t,_,b){_.exports=function(s,l,n){if(s instanceof l)return s;throw TypeError("Incorrect "+(n?n+" ":"")+"invocation")}},{}],10:[function(t,_,b){var s=t("../internals/is-object");_.exports=function(l){if(s(l))return l;throw TypeError(String(l)+" is not an object")}},{"../internals/is-object":75}],11:[function(t,_,b){_.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},{}],12:[function(P,_,b){function s(I){return p(I)&&r(F,o(I))}var l,n=P("../internals/array-buffer-native"),d=P("../internals/descriptors"),m=P("../internals/global"),p=P("../internals/is-object"),r=P("../internals/has"),o=P("../internals/classof"),a=P("../internals/create-non-enumerable-property"),i=P("../internals/redefine"),h=P("../internals/object-define-property").f,c=P("../internals/object-get-prototype-of"),u=P("../internals/object-set-prototype-of"),L=P("../internals/well-known-symbol"),P=P("../internals/uid"),f=m.Int8Array,y=f&&f.prototype,x=m.Uint8ClampedArray,x=x&&x.prototype,M=f&&c(f),w=y&&c(y),E=Object.prototype,C=E.isPrototypeOf,L=L("toStringTag"),k=P("TYPED_ARRAY_TAG"),R=n&&!!u&&o(m.opera)!=="Opera",P=!1,F={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(l in F)m[l]||(R=!1);if((!R||typeof M!="function"||M===Function.prototype)&&(M=function(){throw TypeError("Incorrect invocation")},R))for(l in F)m[l]&&u(m[l],M);if((!R||!w||w===E)&&(w=M.prototype,R))for(l in F)m[l]&&u(m[l].prototype,w);if(R&&c(x)!==w&&u(x,w),d&&!r(w,L))for(l in P=!0,h(w,L,{get:function(){return p(this)?this[k]:void 0}}),F)m[l]&&a(m[l],k,l);_.exports={NATIVE_ARRAY_BUFFER_VIEWS:R,TYPED_ARRAY_TAG:P&&k,aTypedArray:function(I){if(s(I))return I;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(I){if(u){if(C.call(M,I))return I}else for(var B in F)if(r(F,l)&&(B=m[B],B&&(I===B||C.call(B,I))))return I;throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(I,B,V){if(d){if(V)for(var H in F)H=m[H],H&&r(H.prototype,I)&&delete H.prototype[I];w[I]&&!V||i(w,I,!V&&R&&y[I]||B)}},exportTypedArrayStaticMethod:function(I,B,V){var H,z;if(d){if(u){if(V)for(H in F)(z=m[H])&&r(z,I)&&delete z[I];if(M[I]&&!V)return;try{return i(M,I,!V&&R&&f[I]||B)}catch{}}for(H in F)!(z=m[H])||z[I]&&!V||i(z,I,B)}},isView:function(I){return I=o(I),I==="DataView"||r(F,I)},isTypedArray:s,TypedArray:M,TypedArrayPrototype:w}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":110,"../internals/uid":147,"../internals/well-known-symbol":150}],13:[function(U,_,b){function s(J){return[255&J]}function l(J){return[255&J,J>>8&255]}function n(J){return[255&J,J>>8&255,J>>16&255,J>>24&255]}function d(J){return J[3]<<24|J[2]<<16|J[1]<<8|J[0]}function m(J){return ee(J,23,4)}function p(J){return ee(J,52,8)}function r(J,le){P(J[G],le,{get:function(){return B(this)[le]}})}function o(Se,le,be,ue){if(be=E(be),Se=B(Se),be+le>Se.byteLength)throw $(Q);var ge=B(Se.buffer).bytes,be=be+Se.byteOffset,Se=ge.slice(be,be+le);return ue?Se:Se.reverse()}function a(J,le,ye,ue,ge,be){if(ye=E(ye),J=B(J),ye+le>J.byteLength)throw $(Q);for(var Se=B(J.buffer).bytes,Ie=ye+J.byteOffset,Me=ue(+ge),$e=0;$e<le;$e++)Se[Ie+$e]=Me[be?$e:le-$e-1]}var i=U("../internals/global"),h=U("../internals/descriptors"),c=U("../internals/array-buffer-native"),u=U("../internals/create-non-enumerable-property"),f=U("../internals/redefine-all"),y=U("../internals/fails"),x=U("../internals/an-instance"),M=U("../internals/to-integer"),w=U("../internals/to-length"),E=U("../internals/to-index"),C=U("../internals/ieee754"),L=U("../internals/object-get-prototype-of"),k=U("../internals/object-set-prototype-of"),R=U("../internals/object-get-own-property-names").f,P=U("../internals/object-define-property").f,F=U("../internals/array-fill"),I=U("../internals/set-to-string-tag"),U=U("../internals/internal-state"),B=U.get,V=U.set,H="ArrayBuffer",z="DataView",G="prototype",Q="Wrong index",ie=i[H],T=ie,D=i[z],U=D&&D[G],W=Object.prototype,$=i.RangeError,ee=C.pack,ne=C.unpack;if(c){if(!y(function(){ie(1)})||!y(function(){new ie(-1)})||y(function(){return new ie,new ie(1.5),new ie(NaN),ie.name!=H})){for(var fe,i=(T=function(ye){return x(this,T),new ie(E(ye))})[G]=ie[G],se=R(ie),he=0;se.length>he;)(fe=se[he++])in T||u(T,fe,ie[fe]);i.constructor=T}k&&L(U)!==W&&k(U,W);var C=new D(new T(2)),ae=U.setInt8;C.setInt8(0,2147483648),C.setInt8(1,2147483649),!C.getInt8(0)&&C.getInt8(1)||f(U,{setInt8:function(le,ye){ae.call(this,le,ye<<24>>24)},setUint8:function(le,ye){ae.call(this,le,ye<<24>>24)}},{unsafe:!0})}else T=function(J){x(this,T,H),J=E(J),V(this,{bytes:F.call(new Array(J),0),byteLength:J}),h||(this.byteLength=J)},D=function(J,ge,ye){x(this,D,z),x(J,T,z);var ue=B(J).byteLength,ge=M(ge);if(ge<0||ue<ge)throw $("Wrong offset");if(ue<ge+(ye=ye===void 0?ue-ge:w(ye)))throw $("Wrong length");V(this,{buffer:J,byteLength:ye,byteOffset:ge}),h||(this.buffer=J,this.byteLength=ye,this.byteOffset=ge)},h&&(r(T,"byteLength"),r(D,"buffer"),r(D,"byteLength"),r(D,"byteOffset")),f(D[G],{getInt8:function(J){return o(this,1,J)[0]<<24>>24},getUint8:function(J){return o(this,1,J)[0]},getInt16:function(J){return J=o(this,2,J,1<arguments.length?arguments[1]:void 0),(J[1]<<8|J[0])<<16>>16},getUint16:function(J){return J=o(this,2,J,1<arguments.length?arguments[1]:void 0),J[1]<<8|J[0]},getInt32:function(J){return d(o(this,4,J,1<arguments.length?arguments[1]:void 0))},getUint32:function(J){return d(o(this,4,J,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(J){return ne(o(this,4,J,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(J){return ne(o(this,8,J,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(J,le){a(this,1,J,s,le)},setUint8:function(J,le){a(this,1,J,s,le)},setInt16:function(J,le){a(this,2,J,l,le,2<arguments.length?arguments[2]:void 0)},setUint16:function(J,le){a(this,2,J,l,le,2<arguments.length?arguments[2]:void 0)},setInt32:function(J,le){a(this,4,J,n,le,2<arguments.length?arguments[2]:void 0)},setUint32:function(J,le){a(this,4,J,n,le,2<arguments.length?arguments[2]:void 0)},setFloat32:function(J,le){a(this,4,J,m,le,2<arguments.length?arguments[2]:void 0)},setFloat64:function(J,le){a(this,8,J,p,le,2<arguments.length?arguments[2]:void 0)}});I(T,H),I(D,z),_.exports={ArrayBuffer:T,DataView:D}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/ieee754":66,"../internals/internal-state":71,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine-all":109,"../internals/set-to-string-tag":119,"../internals/to-index":135,"../internals/to-integer":137,"../internals/to-length":138}],14:[function(t,_,b){var s=t("../internals/to-object"),l=t("../internals/to-absolute-index"),n=t("../internals/to-length"),d=Math.min;_.exports=[].copyWithin||function(h,p){var r=s(this),o=n(r.length),a=l(h,o),i=l(p,o),h=2<arguments.length?arguments[2]:void 0,c=d((h===void 0?o:l(h,o))-i,o-a),u=1;for(i<a&&a<i+c&&(u=-1,i+=c-1,a+=c-1);0<c--;)i in r?r[a]=r[i]:delete r[a],a+=u,i+=u;return r}},{"../internals/to-absolute-index":134,"../internals/to-length":138,"../internals/to-object":139}],15:[function(t,_,b){var s=t("../internals/to-object"),l=t("../internals/to-absolute-index"),n=t("../internals/to-length");_.exports=function(d){for(var m=s(this),p=n(m.length),o=arguments.length,r=l(1<o?arguments[1]:void 0,p),o=2<o?arguments[2]:void 0,a=o===void 0?p:l(o,p);r<a;)m[r++]=d;return m}},{"../internals/to-absolute-index":134,"../internals/to-length":138,"../internals/to-object":139}],16:[function(n,_,b){var s=n("../internals/array-iteration").forEach,l=n("../internals/array-method-is-strict"),n=n("../internals/array-method-uses-to-length"),l=l("forEach"),n=n("forEach");_.exports=l&&n?[].forEach:function(d){return s(this,d,1<arguments.length?arguments[1]:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(t,_,b){var s=t("../internals/function-bind-context"),l=t("../internals/to-object"),n=t("../internals/call-with-safe-iteration-closing"),d=t("../internals/is-array-iterator-method"),m=t("../internals/to-length"),p=t("../internals/create-property"),r=t("../internals/get-iterator-method");_.exports=function(x){var a,i,h,c,u,f,y=l(x),x=typeof this=="function"?this:Array,M=arguments.length,w=1<M?arguments[1]:void 0,E=w!==void 0,C=r(y),L=0;if(E&&(w=s(w,2<M?arguments[2]:void 0,2)),C==null||x==Array&&d(C))for(i=new x(a=m(y.length));L<a;L++)f=E?w(y[L],L):y[L],p(i,L,f);else for(u=(c=C.call(y)).next,i=new x;!(h=u.call(c)).done;L++)f=E?n(c,w,[h.value,L],!0):h.value,p(i,L,f);return i.length=L,i}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":40,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138,"../internals/to-object":139}],18:[function(t,_,b){function s(m){return function(p,r,o){var a,i=l(p),h=n(i.length),c=d(o,h);if(m&&r!=r){for(;c<h;)if((a=i[c++])!=a)return!0}else for(;c<h;c++)if((m||c in i)&&i[c]===r)return m||c||0;return!m&&-1}}var l=t("../internals/to-indexed-object"),n=t("../internals/to-length"),d=t("../internals/to-absolute-index");_.exports={includes:s(!0),indexOf:s(!1)}},{"../internals/to-absolute-index":134,"../internals/to-indexed-object":136,"../internals/to-length":138}],19:[function(t,_,b){function s(o){var a=o==1,i=o==2,h=o==3,c=o==4,u=o==6,f=o==5||u;return function(y,x,M,w){for(var E,C,L=d(y),k=n(L),R=l(x,M,3),P=m(k.length),F=0,x=w||p,I=a?x(y,P):i?x(y,0):void 0;F<P;F++)if((f||F in k)&&(C=R(E=k[F],F,L),o)){if(a)I[F]=C;else if(C)switch(o){case 3:return!0;case 5:return E;case 6:return F;case 2:r.call(I,E)}else if(c)return!1}return u?-1:h||c?c:I}}var l=t("../internals/function-bind-context"),n=t("../internals/indexed-object"),d=t("../internals/to-object"),m=t("../internals/to-length"),p=t("../internals/array-species-create"),r=[].push;_.exports={forEach:s(0),map:s(1),filter:s(2),some:s(3),every:s(4),find:s(5),findIndex:s(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":55,"../internals/indexed-object":67,"../internals/to-length":138,"../internals/to-object":139}],20:[function(o,_,b){var s=o("../internals/to-indexed-object"),l=o("../internals/to-integer"),n=o("../internals/to-length"),r=o("../internals/array-method-is-strict"),o=o("../internals/array-method-uses-to-length"),d=Math.min,m=[].lastIndexOf,p=!!m&&1/[1].lastIndexOf(1,-0)<0,r=r("lastIndexOf"),o=o("indexOf",{ACCESSORS:!0,1:0});_.exports=p||!r||!o?function(a){if(p)return m.apply(this,arguments)||0;var i=s(this),h=n(i.length),c=h-1;for((c=1<arguments.length?d(c,l(arguments[1])):c)<0&&(c=h+c);0<=c;c--)if(c in i&&i[c]===a)return c||0;return-1}:m},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":136,"../internals/to-integer":137,"../internals/to-length":138}],21:[function(t,_,b){var s=t("../internals/fails"),l=t("../internals/well-known-symbol"),n=t("../internals/engine-v8-version"),d=l("species");_.exports=function(m){return 51<=n||!s(function(){var p=[];return(p.constructor={})[d]=function(){return{foo:1}},p[m](Boolean).foo!==1})}},{"../internals/engine-v8-version":48,"../internals/fails":51,"../internals/well-known-symbol":150}],22:[function(t,_,b){var s=t("../internals/fails");_.exports=function(l,n){var d=[][l];return!!d&&s(function(){d.call(null,n||function(){throw 1},1)})}},{"../internals/fails":51}],23:[function(t,_,b){function s(r){throw r}var l=t("../internals/descriptors"),n=t("../internals/fails"),d=t("../internals/has"),m=Object.defineProperty,p={};_.exports=function(r,o){var a,i,h,c;return d(p,r)?p[r]:(a=[][r],i=!!d(o=o||{},"ACCESSORS")&&o.ACCESSORS,h=d(o,0)?o[0]:s,c=d(o,1)?o[1]:void 0,p[r]=!!a&&!n(function(){if(i&&!l)return!0;var u={length:-1};i?m(u,1,{enumerable:!0,get:s}):u[1]=1,a.call(u,h,c)}))}},{"../internals/descriptors":43,"../internals/fails":51,"../internals/has":61}],24:[function(t,_,b){function s(p){return function(r,o,a,i){l(o);var h=n(r),c=d(h),u=m(h.length),f=p?u-1:0,y=p?-1:1;if(a<2)for(;;){if(f in c){i=c[f],f+=y;break}if(f+=y,p?f<0:u<=f)throw TypeError("Reduce of empty array with no initial value")}for(;p?0<=f:f<u;f+=y)f in c&&(i=o(i,c[f],f,h));return i}}var l=t("../internals/a-function"),n=t("../internals/to-object"),d=t("../internals/indexed-object"),m=t("../internals/to-length");_.exports={left:s(!1),right:s(!0)}},{"../internals/a-function":5,"../internals/indexed-object":67,"../internals/to-length":138,"../internals/to-object":139}],25:[function(t,_,b){var s=t("../internals/is-object"),l=t("../internals/is-array"),n=t("../internals/well-known-symbol")("species");_.exports=function(d,m){var p;return new((p=l(d)&&(typeof(p=d.constructor)=="function"&&(p===Array||l(p.prototype))||s(p)&&(p=p[n])===null)?void 0:p)===void 0?Array:p)(m===0?0:m)}},{"../internals/is-array":73,"../internals/is-object":75,"../internals/well-known-symbol":150}],26:[function(t,_,b){var s=t("../internals/an-object");_.exports=function(l,n,d,m){try{return m?n(s(d)[0],d[1]):n(d)}catch(p){throw m=l.return,m!==void 0&&s(m.call(l)),p}}},{"../internals/an-object":10}],27:[function(t,_,b){var s=t("../internals/well-known-symbol")("iterator"),l=!1;try{var n=0,d={next:function(){return{done:!!n++}},return:function(){l=!0}};d[s]=function(){return this},Array.from(d,function(){throw 2})}catch{}_.exports=function(m,p){if(!p&&!l)return!1;var r=!1;try{var o={};o[s]=function(){return{next:function(){return{done:r=!0}}}},m(o)}catch{}return r}},{"../internals/well-known-symbol":150}],28:[function(t,_,b){var s={}.toString;_.exports=function(l){return s.call(l).slice(8,-1)}},{}],29:[function(t,_,b){var s=t("../internals/to-string-tag-support"),l=t("../internals/classof-raw"),n=t("../internals/well-known-symbol")("toStringTag"),d=l(function(){return arguments}())=="Arguments";_.exports=s?l:function(m){var p;return m===void 0?"Undefined":m===null?"Null":typeof(p=function(r,o){try{return r[o]}catch{}}(m=Object(m),n))=="string"?p:d?l(m):(p=l(m))=="Object"&&typeof m.callee=="function"?"Arguments":p}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":143,"../internals/well-known-symbol":150}],30:[function(h,_,b){var s=h("../internals/object-define-property").f,l=h("../internals/object-create"),n=h("../internals/redefine-all"),d=h("../internals/function-bind-context"),m=h("../internals/an-instance"),p=h("../internals/iterate"),r=h("../internals/define-iterator"),o=h("../internals/set-species"),a=h("../internals/descriptors"),i=h("../internals/internal-metadata").fastKey,h=h("../internals/internal-state"),c=h.set,u=h.getterFor;_.exports={getConstructor:function(f,y,x,M){function w(k,R,P){var F,I=L(k),B=E(k,R);return B?B.value=P:(I.last=B={index:F=i(R,!0),key:R,value:P,previous:R=I.last,next:void 0,removed:!1},I.first||(I.first=B),R&&(R.next=B),a?I.size++:k.size++,F!=="F"&&(I.index[F]=B)),k}function E(F,R){var P,F=L(F),I=i(R);if(I!=="F")return F.index[I];for(P=F.first;P;P=P.next)if(P.key==R)return P}var C=f(function(k,R){m(k,C,y),c(k,{type:y,index:l(null),first:void 0,last:void 0,size:0}),a||(k.size=0),R!=null&&p(R,k[M],k,x)}),L=u(y);return n(C.prototype,{clear:function(){for(var k=L(this),R=k.index,P=k.first;P;)P.removed=!0,P.previous&&(P.previous=P.previous.next=void 0),delete R[P.index],P=P.next;k.first=k.last=void 0,a?k.size=0:this.size=0},delete:function(I){var R,P,F=L(this),I=E(this,I);return I&&(R=I.next,P=I.previous,delete F.index[I.index],I.removed=!0,P&&(P.next=R),R&&(R.previous=P),F.first==I&&(F.first=R),F.last==I&&(F.last=P),a?F.size--:this.size--),!!I},forEach:function(k){for(var R,P=L(this),F=d(k,1<arguments.length?arguments[1]:void 0,3);R=R?R.next:P.first;)for(F(R.value,R.key,this);R&&R.removed;)R=R.previous},has:function(k){return!!E(this,k)}}),n(C.prototype,x?{get:function(k){return k=E(this,k),k&&k.value},set:function(k,R){return w(this,k===0?0:k,R)}}:{add:function(k){return w(this,k=k===0?0:k,k)}}),a&&s(C.prototype,"size",{get:function(){return L(this).size}}),C},setStrong:function(f,y,x){var M=y+" Iterator",w=u(y),E=u(M);r(f,y,function(C,L){c(this,{type:M,target:C,state:w(C),kind:L,last:void 0})},function(){for(var C=E(this),L=C.kind,k=C.last;k&&k.removed;)k=k.previous;return C.target&&(C.last=k=k?k.next:C.state.first)?L=="keys"?{value:k.key,done:!1}:L=="values"?{value:k.value,done:!1}:{value:[k.key,k.value],done:!1}:{value:C.target=void 0,done:!0}},x?"entries":"values",!x,!0),o(y)}}},{"../internals/an-instance":9,"../internals/define-iterator":41,"../internals/descriptors":43,"../internals/function-bind-context":55,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/iterate":78,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/redefine-all":109,"../internals/set-species":118}],31:[function(c,_,b){function s(w){return w.frozen||(w.frozen=new l)}function l(){this.entries=[]}function n(w,E){return y(w.entries,function(C){return C[0]===E})}var d=c("../internals/redefine-all"),m=c("../internals/internal-metadata").getWeakData,p=c("../internals/an-object"),r=c("../internals/is-object"),o=c("../internals/an-instance"),a=c("../internals/iterate"),i=c("../internals/array-iteration"),h=c("../internals/has"),c=c("../internals/internal-state"),u=c.set,f=c.getterFor,y=i.find,x=i.findIndex,M=0;l.prototype={get:function(w){if(w=n(this,w),w)return w[1]},has:function(w){return!!n(this,w)},set:function(w,E){var C=n(this,w);C?C[1]=E:this.entries.push([w,E])},delete:function(w){var E=x(this.entries,function(C){return C[0]===w});return~E&&this.entries.splice(E,1),!!~E}},_.exports={getConstructor:function(w,E,C,L){function k(F,I,B){var V=P(F),H=m(p(I),!0);return H===!0?s(V).set(I,B):H[V.id]=B,F}var R=w(function(F,I){o(F,R,E),u(F,{type:E,id:M++,frozen:void 0}),I!=null&&a(I,F[L],F,C)}),P=f(E);return d(R.prototype,{delete:function(F){var I,B=P(this);return!!r(F)&&((I=m(F))===!0?s(B).delete(F):I&&h(I,B.id)&&delete I[B.id])},has:function(F){var I,B=P(this);return!!r(F)&&((I=m(F))===!0?s(B).has(F):I&&h(I,B.id))}}),d(R.prototype,C?{get:function(F){var I,B=P(this);if(r(F))return(I=m(F))===!0?s(B).get(F):I?I[B.id]:void 0},set:function(F,I){return k(this,F,I)}}:{add:function(F){return k(this,F,!0)}}),R}}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/array-iteration":19,"../internals/has":61,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine-all":109}],32:[function(t,_,b){var s=t("../internals/export"),l=t("../internals/global"),n=t("../internals/is-forced"),d=t("../internals/redefine"),m=t("../internals/internal-metadata"),p=t("../internals/iterate"),r=t("../internals/an-instance"),o=t("../internals/is-object"),a=t("../internals/fails"),i=t("../internals/check-correctness-of-iteration"),h=t("../internals/set-to-string-tag"),c=t("../internals/inherit-if-required");_.exports=function(u,f,y){function x(H){var z=I[H];d(I,H,H=="add"?function(G){return z.call(this,G===0?0:G),this}:H=="delete"?function(G){return!(R&&!o(G))&&z.call(this,G===0?0:G)}:H=="get"?function(G){return R&&!o(G)?void 0:z.call(this,G===0?0:G)}:H=="has"?function(G){return!(R&&!o(G))&&z.call(this,G===0?0:G)}:function(G,Q){return z.call(this,G===0?0:G,Q),this})}var M,w,E,C,L,k=u.indexOf("Map")!==-1,R=u.indexOf("Weak")!==-1,P=k?"set":"add",F=l[u],I=F&&F.prototype,B=F,V={};return n(u,typeof F!="function"||!(R||I.forEach&&!a(function(){new F().entries().next()})))?(B=y.getConstructor(f,u,k,P),m.REQUIRED=!0):n(u,!0)&&(w=(M=new B)[P](R?{}:-0,1)!=M,E=a(function(){M.has(1)}),C=i(function(H){new F(H)}),L=!R&&a(function(){for(var H=new F,z=5;z--;)H[P](z,z);return!H.has(-0)}),C||(((B=f(function(H,z){return r(H,B,u),H=c(new F,H,B),z!=null&&p(z,H[P],H,k),H})).prototype=I).constructor=B),(E||L)&&(x("delete"),x("has"),k&&x("get")),(L||w)&&x(P),R&&I.clear&&delete I.clear),V[u]=B,s({global:!0,forced:B!=F},V),h(B,u),R||y.setStrong(B,u,k),B}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":50,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-metadata":70,"../internals/is-forced":74,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine":110,"../internals/set-to-string-tag":119}],33:[function(t,_,b){var s=t("../internals/has"),l=t("../internals/own-keys"),n=t("../internals/object-get-own-property-descriptor"),d=t("../internals/object-define-property");_.exports=function(m,p){for(var r=l(p),o=d.f,a=n.f,i=0;i<r.length;i++){var h=r[i];s(m,h)||o(m,h,a(p,h))}}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/own-keys":105}],34:[function(t,_,b){var s=t("../internals/well-known-symbol")("match");_.exports=function(l){var n=/./;try{"/./"[l](n)}catch{try{return n[s]=!1,"/./"[l](n)}catch{}}return!1}},{"../internals/well-known-symbol":150}],35:[function(t,_,b){t=t("../internals/fails"),_.exports=!t(function(){function s(){}return s.prototype.constructor=null,Object.getPrototypeOf(new s)!==s.prototype})},{"../internals/fails":51}],36:[function(t,_,b){var s=t("../internals/require-object-coercible"),l=/"/g;_.exports=function(r,d,m,p){var r=String(s(r)),o="<"+d;return m!==""&&(o+=" "+m+'="'+String(p).replace(l,"&quot;")+'"'),o+">"+r+"</"+d+">"}},{"../internals/require-object-coercible":115}],37:[function(t,_,b){function s(){return this}var l=t("../internals/iterators-core").IteratorPrototype,n=t("../internals/object-create"),d=t("../internals/create-property-descriptor"),m=t("../internals/set-to-string-tag"),p=t("../internals/iterators");_.exports=function(r,o,a){return o+=" Iterator",r.prototype=n(l,{next:d(1,a)}),m(r,o,!1,!0),p[o]=s,r}},{"../internals/create-property-descriptor":39,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-create":91,"../internals/set-to-string-tag":119}],38:[function(t,_,b){var s=t("../internals/descriptors"),l=t("../internals/object-define-property"),n=t("../internals/create-property-descriptor");_.exports=s?function(d,m,p){return l.f(d,m,n(1,p))}:function(d,m,p){return d[m]=p,d}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/object-define-property":93}],39:[function(t,_,b){_.exports=function(s,l){return{enumerable:!(1&s),configurable:!(2&s),writable:!(4&s),value:l}}},{}],40:[function(t,_,b){var s=t("../internals/to-primitive"),l=t("../internals/object-define-property"),n=t("../internals/create-property-descriptor");_.exports=function(d,m,p){m=s(m),m in d?l.f(d,m,n(0,p)):d[m]=p}},{"../internals/create-property-descriptor":39,"../internals/object-define-property":93,"../internals/to-primitive":142}],41:[function(c,_,b){function s(){return this}var l=c("../internals/export"),n=c("../internals/create-iterator-constructor"),d=c("../internals/object-get-prototype-of"),m=c("../internals/object-set-prototype-of"),p=c("../internals/set-to-string-tag"),r=c("../internals/create-non-enumerable-property"),o=c("../internals/redefine"),a=c("../internals/well-known-symbol"),i=c("../internals/is-pure"),h=c("../internals/iterators"),c=c("../internals/iterators-core"),u=c.IteratorPrototype,f=c.BUGGY_SAFARI_ITERATORS,y=a("iterator"),x="values",M="entries";_.exports=function(w,E,C,V,k,R,P){n(C,E,V);function F(T){if(T===k&&Q)return Q;if(!f&&T in z)return z[T];switch(T){case"keys":case x:case M:return function(){return new C(this,T)}}return function(){return new C(this)}}var I,B,V=E+" Iterator",H=!1,z=w.prototype,G=z[y]||z["@@iterator"]||k&&z[k],Q=!f&&G||F(k),ie=E=="Array"&&z.entries||G;if(ie&&(ie=d(ie.call(new w)),u!==Object.prototype&&ie.next&&(i||d(ie)===u||(m?m(ie,u):typeof ie[y]!="function"&&r(ie,y,s)),p(ie,V,!0,!0),i&&(h[V]=s))),k==x&&G&&G.name!==x&&(H=!0,Q=function(){return G.call(this)}),i&&!P||z[y]===Q||r(z,y,Q),h[E]=Q,k)if(I={values:F(x),keys:R?Q:F("keys"),entries:F(M)},P)for(B in I)!f&&!H&&B in z||o(z,B,I[B]);else l({target:E,proto:!0,forced:f||H},I);return I}},{"../internals/create-iterator-constructor":37,"../internals/create-non-enumerable-property":38,"../internals/export":50,"../internals/is-pure":76,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/well-known-symbol":150}],42:[function(t,_,b){var s=t("../internals/path"),l=t("../internals/has"),n=t("../internals/well-known-symbol-wrapped"),d=t("../internals/object-define-property").f;_.exports=function(m){var p=s.Symbol||(s.Symbol={});l(p,m)||d(p,m,{value:n.f(m)})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/path":106,"../internals/well-known-symbol-wrapped":149}],43:[function(t,_,b){t=t("../internals/fails"),_.exports=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},{"../internals/fails":51}],44:[function(l,_,b){var s=l("../internals/global"),l=l("../internals/is-object"),n=s.document,d=l(n)&&l(n.createElement);_.exports=function(m){return d?n.createElement(m):{}}},{"../internals/global":60,"../internals/is-object":75}],45:[function(t,_,b){_.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],46:[function(t,_,b){t=t("../internals/engine-user-agent"),_.exports=/(iphone|ipod|ipad).*applewebkit/i.test(t)},{"../internals/engine-user-agent":47}],47:[function(t,_,b){t=t("../internals/get-built-in"),_.exports=t("navigator","userAgent")||""},{"../internals/get-built-in":57}],48:[function(n,_,b){var s,l,d=n("../internals/global"),n=n("../internals/engine-user-agent"),d=d.process,d=d&&d.versions,d=d&&d.v8;d?l=(s=d.split("."))[0]+s[1]:n&&(!(s=n.match(/Edge\/(\d+)/))||74<=s[1])&&(s=n.match(/Chrome\/(\d+)/))&&(l=s[1]),_.exports=l&&+l},{"../internals/engine-user-agent":47,"../internals/global":60}],49:[function(t,_,b){_.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],50:[function(t,_,b){var s=t("../internals/global"),l=t("../internals/object-get-own-property-descriptor").f,n=t("../internals/create-non-enumerable-property"),d=t("../internals/redefine"),m=t("../internals/set-global"),p=t("../internals/copy-constructor-properties"),r=t("../internals/is-forced");_.exports=function(o,a){var i,h,c,u=o.target,f=o.global,y=o.stat,x=f?s:y?s[u]||m(u,{}):(s[u]||{}).prototype;if(x)for(i in a){if(h=a[i],c=o.noTargetGet?(c=l(x,i))&&c.value:x[i],!r(f?i:u+(y?".":"#")+i,o.forced)&&c!==void 0){if(typeof h==typeof c)continue;p(h,c)}(o.sham||c&&c.sham)&&n(h,"sham",!0),d(x,i,h,o)}}},{"../internals/copy-constructor-properties":33,"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/is-forced":74,"../internals/object-get-own-property-descriptor":94,"../internals/redefine":110,"../internals/set-global":117}],51:[function(t,_,b){_.exports=function(s){try{return!!s()}catch{return!0}}},{}],52:[function(a,_,b){a("../modules/es.regexp.exec");var s=a("../internals/redefine"),l=a("../internals/fails"),n=a("../internals/well-known-symbol"),d=a("../internals/regexp-exec"),m=a("../internals/create-non-enumerable-property"),p=n("species"),r=!l(function(){var c=/./;return c.exec=function(){var u=[];return u.groups={a:"7"},u},"".replace(c,"$<a>")!=="7"}),o="a".replace(/./,"$0")==="$0",a=n("replace"),i=!!/./[a]&&/./[a]("a","$0")==="",h=!l(function(){var u=/(?:)/,c=u.exec,u=(u.exec=function(){return c.apply(this,arguments)},"ab".split(u));return u.length!==2||u[0]!=="a"||u[1]!=="b"});_.exports=function(c,u,f,y){var x,M,w=n(c),E=!l(function(){var L={};return L[w]=function(){return 7},""[c](L)!=7}),C=E&&!l(function(){var L=!1,k=/a/;return c==="split"&&((k={constructor:{}}).constructor[p]=function(){return k},k.flags="",k[w]=/./[w]),k.exec=function(){return L=!0,null},k[w](""),!L});E&&C&&(c!=="replace"||r&&o&&!i)&&(c!=="split"||h)||(x=/./[w],f=(C=f(w,""[c],function(L,k,R,P,F){return k.exec===d?E&&!F?{done:!0,value:x.call(k,R,P)}:{done:!0,value:L.call(R,k,P)}:{done:!1}},{REPLACE_KEEPS_$0:o,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:i}))[0],M=C[1],s(String.prototype,c,f),s(RegExp.prototype,w,u==2?function(L,k){return M.call(L,this,k)}:function(L){return M.call(L,this)})),y&&m(RegExp.prototype[w],"sham",!0)}},{"../internals/create-non-enumerable-property":38,"../internals/fails":51,"../internals/redefine":110,"../internals/regexp-exec":112,"../internals/well-known-symbol":150,"../modules/es.regexp.exec":195}],53:[function(t,_,b){function s(m,p,r,o,a,i,h,c){for(var u,f=a,y=0,x=!!h&&d(h,c,3);y<o;){if(y in r){if(u=x?x(r[y],y,p):r[y],0<i&&l(u))f=s(m,p,u,n(u.length),f,i-1)-1;else{if(9007199254740991<=f)throw TypeError("Exceed the acceptable array length");m[f]=u}f++}y++}return f}var l=t("../internals/is-array"),n=t("../internals/to-length"),d=t("../internals/function-bind-context");_.exports=s},{"../internals/function-bind-context":55,"../internals/is-array":73,"../internals/to-length":138}],54:[function(t,_,b){t=t("../internals/fails"),_.exports=!t(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":51}],55:[function(t,_,b){var s=t("../internals/a-function");_.exports=function(l,n,d){if(s(l),n===void 0)return l;switch(d){case 0:return function(){return l.call(n)};case 1:return function(m){return l.call(n,m)};case 2:return function(m,p){return l.call(n,m,p)};case 3:return function(m,p,r){return l.call(n,m,p,r)}}return function(){return l.apply(n,arguments)}}},{"../internals/a-function":5}],56:[function(t,_,b){var s=t("../internals/a-function"),l=t("../internals/is-object"),n=[].slice,d={};_.exports=Function.bind||function(m){var p=s(this),r=n.call(arguments,1),o=function(){var a=r.concat(n.call(arguments));if(this instanceof o){var i=p,h=a.length,c=a;if(!(h in d)){for(var u=[],f=0;f<h;f++)u[f]="a["+f+"]";d[h]=Function("C,a","return new C("+u.join(",")+")")}return d[h](i,c)}return p.apply(m,a)};return l(p.prototype)&&(o.prototype=p.prototype),o}},{"../internals/a-function":5,"../internals/is-object":75}],57:[function(t,_,b){function s(d){return typeof d=="function"?d:void 0}var l=t("../internals/path"),n=t("../internals/global");_.exports=function(d,m){return arguments.length<2?s(l[d])||s(n[d]):l[d]&&l[d][m]||n[d]&&n[d][m]}},{"../internals/global":60,"../internals/path":106}],58:[function(t,_,b){var s=t("../internals/classof"),l=t("../internals/iterators"),n=t("../internals/well-known-symbol")("iterator");_.exports=function(d){if(d!=null)return d[n]||d["@@iterator"]||l[s(d)]}},{"../internals/classof":29,"../internals/iterators":80,"../internals/well-known-symbol":150}],59:[function(t,_,b){var s=t("../internals/an-object"),l=t("../internals/get-iterator-method");_.exports=function(n){var d=l(n);if(typeof d!="function")throw TypeError(String(n)+" is not iterable");return s(d.call(n))}},{"../internals/an-object":10,"../internals/get-iterator-method":58}],60:[function(t,_,b){(function(s){function l(n){return n&&n.Math==Math&&n}_.exports=l(typeof globalThis=="object"&&globalThis)||l(typeof window=="object"&&window)||l(typeof self=="object"&&self)||l(typeof s=="object"&&s)||Function("return this")()}).call(this,typeof ri<"u"?ri:typeof self<"u"?self:typeof window<"u"?window:{})},{}],61:[function(t,_,b){var s={}.hasOwnProperty;_.exports=function(l,n){return s.call(l,n)}},{}],62:[function(t,_,b){_.exports={}},{}],63:[function(t,_,b){var s=t("../internals/global");_.exports=function(l,n){var d=s.console;d&&d.error&&(arguments.length===1?d.error(l):d.error(l,n))}},{"../internals/global":60}],64:[function(t,_,b){t=t("../internals/get-built-in"),_.exports=t("document","documentElement")},{"../internals/get-built-in":57}],65:[function(t,_,b){var s=t("../internals/descriptors"),l=t("../internals/fails"),n=t("../internals/document-create-element");_.exports=!s&&!l(function(){return Object.defineProperty(n("div"),"a",{get:function(){return 7}}).a!=7})},{"../internals/descriptors":43,"../internals/document-create-element":44,"../internals/fails":51}],66:[function(t,_,b){var s=Math.abs,l=Math.pow,n=Math.floor,d=Math.log,m=Math.LN2;_.exports={pack:function(p,r,f){var a,i,h,c=new Array(f),u=8*f-r-1,f=(1<<u)-1,y=f>>1,x=r===23?l(2,-24)-l(2,-77):0,M=p<0||p===0&&1/p<0?1:0,w=0;for((p=s(p))!=p||p===1/0?(i=p!=p?1:0,a=f):(a=n(d(p)/m),p*(h=l(2,-a))<1&&(a--,h*=2),2<=(p+=1<=a+y?x/h:x*l(2,1-y))*h&&(a++,h/=2),f<=a+y?(i=0,a=f):1<=a+y?(i=(p*h-1)*l(2,r),a+=y):(i=p*l(2,y-1)*l(2,r),a=0));8<=r;c[w++]=255&i,i/=256,r-=8);for(a=a<<r|i,u+=r;0<u;c[w++]=255&a,a/=256,u-=8);return c[--w]|=128*M,c},unpack:function(p,r){var o,a=p.length,f=8*a-r-1,i=(1<<f)-1,h=i>>1,c=f-7,u=a-1,f=p[u--],y=127&f;for(f>>=7;0<c;y=256*y+p[u],u--,c-=8);for(o=y&(1<<-c)-1,y>>=-c,c+=r;0<c;o=256*o+p[u],u--,c-=8);if(y===0)y=1-h;else{if(y===i)return o?NaN:f?-1/0:1/0;o+=l(2,r),y-=h}return(f?-1:1)*o*l(2,y-r)}}},{}],67:[function(t,_,b){var s=t("../internals/fails"),l=t("../internals/classof-raw"),n="".split;_.exports=s(function(){return!Object("z").propertyIsEnumerable(0)})?function(d){return l(d)=="String"?n.call(d,""):Object(d)}:Object},{"../internals/classof-raw":28,"../internals/fails":51}],68:[function(t,_,b){var s=t("../internals/is-object"),l=t("../internals/object-set-prototype-of");_.exports=function(n,d,m){return l&&typeof(d=d.constructor)=="function"&&d!==m&&s(d=d.prototype)&&d!==m.prototype&&l(n,d),n}},{"../internals/is-object":75,"../internals/object-set-prototype-of":102}],69:[function(s,_,b){var s=s("../internals/shared-store"),l=Function.toString;typeof s.inspectSource!="function"&&(s.inspectSource=function(n){return l.call(n)}),_.exports=s.inspectSource},{"../internals/shared-store":121}],70:[function(t,_,b){function s(c){m(c,o,{value:{objectID:"O"+ ++a,weakData:{}}})}var l=t("../internals/hidden-keys"),n=t("../internals/is-object"),d=t("../internals/has"),m=t("../internals/object-define-property").f,p=t("../internals/uid"),r=t("../internals/freezing"),o=p("meta"),a=0,i=Object.isExtensible||function(){return!0},h=_.exports={REQUIRED:!1,fastKey:function(c,u){if(!n(c))return typeof c=="symbol"?c:(typeof c=="string"?"S":"P")+c;if(!d(c,o)){if(!i(c))return"F";if(!u)return"E";s(c)}return c[o].objectID},getWeakData:function(c,u){if(!d(c,o)){if(!i(c))return!0;if(!u)return!1;s(c)}return c[o].weakData},onFreeze:function(c){return r&&h.REQUIRED&&i(c)&&!d(c,o)&&s(c),c}};l[o]=!0},{"../internals/freezing":54,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/uid":147}],71:[function(f,_,b){var s,l,n,d,m,p,r,o,a=f("../internals/native-weak-map"),y=f("../internals/global"),i=f("../internals/is-object"),h=f("../internals/create-non-enumerable-property"),c=f("../internals/has"),u=f("../internals/shared-key"),f=f("../internals/hidden-keys"),y=y.WeakMap;r=a?(s=new y,l=s.get,n=s.has,d=s.set,m=function(x,M){return d.call(s,x,M),M},p=function(x){return l.call(s,x)||{}},function(x){return n.call(s,x)}):(f[o=u("state")]=!0,m=function(x,M){return h(x,o,M),M},p=function(x){return c(x,o)?x[o]:{}},function(x){return c(x,o)}),_.exports={set:m,get:p,has:r,enforce:function(x){return r(x)?p(x):m(x,{})},getterFor:function(x){return function(M){if(i(M)&&(M=p(M)).type===x)return M;throw TypeError("Incompatible receiver, "+x+" required")}}}},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/shared-key":120}],72:[function(t,_,b){var s=t("../internals/well-known-symbol"),l=t("../internals/iterators"),n=s("iterator"),d=Array.prototype;_.exports=function(m){return m!==void 0&&(l.Array===m||d[n]===m)}},{"../internals/iterators":80,"../internals/well-known-symbol":150}],73:[function(t,_,b){var s=t("../internals/classof-raw");_.exports=Array.isArray||function(l){return s(l)=="Array"}},{"../internals/classof-raw":28}],74:[function(t,_,b){function s(o,a){return(o=m[d(o)])==r||o!=p&&(typeof a=="function"?l(a):!!a)}var l=t("../internals/fails"),n=/#|\.prototype\./,d=s.normalize=function(o){return String(o).replace(n,".").toLowerCase()},m=s.data={},p=s.NATIVE="N",r=s.POLYFILL="P";_.exports=s},{"../internals/fails":51}],75:[function(t,_,b){_.exports=function(s){return typeof s=="object"?s!==null:typeof s=="function"}},{}],76:[function(t,_,b){_.exports=!1},{}],77:[function(t,_,b){var s=t("../internals/is-object"),l=t("../internals/classof-raw"),n=t("../internals/well-known-symbol")("match");_.exports=function(d){var m;return s(d)&&((m=d[n])!==void 0?!!m:l(d)=="RegExp")}},{"../internals/classof-raw":28,"../internals/is-object":75,"../internals/well-known-symbol":150}],78:[function(t,_,b){function s(o,a){this.stopped=o,this.result=a}var l=t("../internals/an-object"),n=t("../internals/is-array-iterator-method"),d=t("../internals/to-length"),m=t("../internals/function-bind-context"),p=t("../internals/get-iterator-method"),r=t("../internals/call-with-safe-iteration-closing");(_.exports=function(o,a,i,h,c){var u,f,y,x,M,w,E=m(a,i,h?2:1);if(c)u=o;else{if(typeof(a=p(o))!="function")throw TypeError("Target is not iterable");if(n(a)){for(f=0,y=d(o.length);f<y;f++)if((x=h?E(l(w=o[f])[0],w[1]):E(o[f]))&&x instanceof s)return x;return new s(!1)}u=a.call(o)}for(M=u.next;!(w=M.call(u)).done;)if(typeof(x=r(u,E,w.value,h))=="object"&&x&&x instanceof s)return x;return new s(!1)}).stop=function(o){return new s(!0,o)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138}],79:[function(p,_,b){var s,l,n=p("../internals/object-get-prototype-of"),d=p("../internals/create-non-enumerable-property"),m=p("../internals/has"),r=p("../internals/well-known-symbol"),p=p("../internals/is-pure"),r=r("iterator"),o=!1;[].keys&&("next"in(l=[].keys())?(n=n(n(l)))!==Object.prototype&&(s=n):o=!0),s==null&&(s={}),p||m(s,r)||d(s,r,function(){return this}),_.exports={IteratorPrototype:s,BUGGY_SAFARI_ITERATORS:o}},{"../internals/create-non-enumerable-property":38,"../internals/has":61,"../internals/is-pure":76,"../internals/object-get-prototype-of":98,"../internals/well-known-symbol":150}],80:[function(t,_,b){_.exports={}},{}],81:[function(t,_,b){_.exports=Math.sign||function(s){return(s=+s)==0||s!=s?s:s<0?-1:1}},{}],82:[function(h,_,b){var s,l,n,d,m,p,r,o,a=h("../internals/global"),M=h("../internals/object-get-own-property-descriptor").f,x=h("../internals/classof-raw"),i=h("../internals/task").set,h=h("../internals/engine-is-ios"),c=a.MutationObserver||a.WebKitMutationObserver,u=a.process,f=a.Promise,y=x(u)=="process",x=M(a,"queueMicrotask"),M=x&&x.value;M||(s=function(){var w,E;for(y&&(w=u.domain)&&w.exit();l;){E=l.fn,l=l.next;try{E()}catch(C){throw l?d():n=void 0,C}}n=void 0,w&&w.enter()},d=y?function(){u.nextTick(s)}:c&&!h?(m=!0,p=document.createTextNode(""),new c(s).observe(p,{characterData:!0}),function(){p.data=m=!m}):f&&f.resolve?(r=f.resolve(void 0),o=r.then,function(){o.call(r,s)}):function(){i.call(a,s)}),_.exports=M||function(w){w={fn:w,next:void 0},n&&(n.next=w),l||(l=w,d()),n=w}},{"../internals/classof-raw":28,"../internals/engine-is-ios":46,"../internals/global":60,"../internals/object-get-own-property-descriptor":94,"../internals/task":132}],83:[function(t,_,b){t=t("../internals/global"),_.exports=t.Promise},{"../internals/global":60}],84:[function(t,_,b){t=t("../internals/fails"),_.exports=!!Object.getOwnPropertySymbols&&!t(function(){return!String(Symbol())})},{"../internals/fails":51}],85:[function(t,_,b){var s=t("../internals/fails"),l=t("../internals/well-known-symbol"),n=t("../internals/is-pure"),d=l("iterator");_.exports=!s(function(){var m=new URL("b?a=1&b=2&c=3","http://a"),p=m.searchParams,r="";return m.pathname="c%20d",p.forEach(function(o,a){p.delete("b"),r+=a+o}),n&&!m.toJSON||!p.sort||m.href!=="http://a/c%20d?a=1&c=3"||p.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!p[d]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://").host!=="xn--e1aybc"||new URL("http://a#").hash!=="#%D0%B1"||r!=="a1c3"||new URL("http://x",void 0).host!=="x"})},{"../internals/fails":51,"../internals/is-pure":76,"../internals/well-known-symbol":150}],86:[function(s,_,b){var l=s("../internals/global"),s=s("../internals/inspect-source"),l=l.WeakMap;_.exports=typeof l=="function"&&/native code/.test(s(l))},{"../internals/global":60,"../internals/inspect-source":69}],87:[function(t,_,b){function s(n){var d,m;this.promise=new n(function(p,r){if(d!==void 0||m!==void 0)throw TypeError("Bad Promise constructor");d=p,m=r}),this.resolve=l(d),this.reject=l(m)}var l=t("../internals/a-function");_.exports.f=function(n){return new s(n)}},{"../internals/a-function":5}],88:[function(t,_,b){var s=t("../internals/is-regexp");_.exports=function(l){if(s(l))throw TypeError("The method doesn't accept regular expressions");return l}},{"../internals/is-regexp":77}],89:[function(t,_,b){var s=t("../internals/global").isFinite;_.exports=Number.isFinite||function(l){return typeof l=="number"&&s(l)}},{"../internals/global":60}],90:[function(t,_,b){var s=t("../internals/descriptors"),l=t("../internals/fails"),n=t("../internals/object-keys"),d=t("../internals/object-get-own-property-symbols"),m=t("../internals/object-property-is-enumerable"),p=t("../internals/to-object"),r=t("../internals/indexed-object"),o=Object.assign,a=Object.defineProperty;_.exports=!o||l(function(){var i,h,c,u;return!(!s||o({b:1},o(a({},"a",{enumerable:!0,get:function(){a(this,"b",{value:3,enumerable:!1})}}),{b:2})).b===1)||(h={},u="abcdefghijklmnopqrst",(i={})[c=Symbol()]=7,u.split("").forEach(function(f){h[f]=f}),o({},i)[c]!=7||n(o({},h)).join("")!=u)})?function(i,h){for(var c=p(i),u=arguments.length,f=1,y=d.f,x=m.f;f<u;)for(var M,w=r(arguments[f++]),E=y?n(w).concat(y(w)):n(w),C=E.length,L=0;L<C;)M=E[L++],s&&!x.call(w,M)||(c[M]=w[M]);return c}:o},{"../internals/descriptors":43,"../internals/fails":51,"../internals/indexed-object":67,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-object":139}],91:[function(a,_,b){function s(){}var l,n=a("../internals/an-object"),d=a("../internals/object-define-properties"),m=a("../internals/enum-bug-keys"),p=a("../internals/hidden-keys"),r=a("../internals/html"),o=a("../internals/document-create-element"),a=a("../internals/shared-key"),i="prototype",h="script",c=a("IE_PROTO"),u=function(y){return"<"+h+">"+y+"</"+h+">"},f=function(){try{l=document.domain&&new ActiveXObject("htmlfile")}catch{}f=l?((y=l).write(u("")),y.close(),x=y.parentWindow.Object,y=null,x):(y=o("iframe"),x="java"+h+":",y.style.display="none",r.appendChild(y),y.src=String(x),(x=y.contentWindow.document).open(),x.write(u("document.F=Object")),x.close(),x.F);for(var y,x,M=m.length;M--;)delete f[i][m[M]];return f()};p[c]=!0,_.exports=Object.create||function(y,x){var M;return y!==null?(s[i]=n(y),M=new s,s[i]=null,M[c]=y):M=f(),x===void 0?M:d(M,x)}},{"../internals/an-object":10,"../internals/document-create-element":44,"../internals/enum-bug-keys":49,"../internals/hidden-keys":62,"../internals/html":64,"../internals/object-define-properties":92,"../internals/shared-key":120}],92:[function(t,_,b){var s=t("../internals/descriptors"),l=t("../internals/object-define-property"),n=t("../internals/an-object"),d=t("../internals/object-keys");_.exports=s?Object.defineProperties:function(m,p){n(m);for(var r,o=d(p),a=o.length,i=0;i<a;)l.f(m,r=o[i++],p[r]);return m}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/object-define-property":93,"../internals/object-keys":100}],93:[function(t,_,b){var s=t("../internals/descriptors"),l=t("../internals/ie8-dom-define"),n=t("../internals/an-object"),d=t("../internals/to-primitive"),m=Object.defineProperty;b.f=s?m:function(p,r,o){if(n(p),r=d(r,!0),n(o),l)try{return m(p,r,o)}catch{}if("get"in o||"set"in o)throw TypeError("Accessors not supported");return"value"in o&&(p[r]=o.value),p}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/ie8-dom-define":65,"../internals/to-primitive":142}],94:[function(t,_,b){var s=t("../internals/descriptors"),l=t("../internals/object-property-is-enumerable"),n=t("../internals/create-property-descriptor"),d=t("../internals/to-indexed-object"),m=t("../internals/to-primitive"),p=t("../internals/has"),r=t("../internals/ie8-dom-define"),o=Object.getOwnPropertyDescriptor;b.f=s?o:function(a,i){if(a=d(a),i=m(i,!0),r)try{return o(a,i)}catch{}if(p(a,i))return n(!l.f.call(a,i),a[i])}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/has":61,"../internals/ie8-dom-define":65,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":136,"../internals/to-primitive":142}],95:[function(t,_,b){var s=t("../internals/to-indexed-object"),l=t("../internals/object-get-own-property-names").f,n={}.toString,d=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];_.exports.f=function(m){if(!d||n.call(m)!="[object Window]")return l(s(m));try{return l(m)}catch{return d.slice()}}},{"../internals/object-get-own-property-names":96,"../internals/to-indexed-object":136}],96:[function(t,_,b){var s=t("../internals/object-keys-internal"),l=t("../internals/enum-bug-keys").concat("length","prototype");b.f=Object.getOwnPropertyNames||function(n){return s(n,l)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],97:[function(t,_,b){b.f=Object.getOwnPropertySymbols},{}],98:[function(d,_,b){var s=d("../internals/has"),l=d("../internals/to-object"),n=d("../internals/shared-key"),d=d("../internals/correct-prototype-getter"),m=n("IE_PROTO"),p=Object.prototype;_.exports=d?Object.getPrototypeOf:function(r){return r=l(r),s(r,m)?r[m]:typeof r.constructor=="function"&&r instanceof r.constructor?r.constructor.prototype:r instanceof Object?p:null}},{"../internals/correct-prototype-getter":35,"../internals/has":61,"../internals/shared-key":120,"../internals/to-object":139}],99:[function(t,_,b){var s=t("../internals/has"),l=t("../internals/to-indexed-object"),n=t("../internals/array-includes").indexOf,d=t("../internals/hidden-keys");_.exports=function(m,p){var r,o=l(m),a=0,i=[];for(r in o)!s(d,r)&&s(o,r)&&i.push(r);for(;p.length>a;)!s(o,r=p[a++])||~n(i,r)||i.push(r);return i}},{"../internals/array-includes":18,"../internals/has":61,"../internals/hidden-keys":62,"../internals/to-indexed-object":136}],100:[function(t,_,b){var s=t("../internals/object-keys-internal"),l=t("../internals/enum-bug-keys");_.exports=Object.keys||function(n){return s(n,l)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],101:[function(t,_,b){var s={}.propertyIsEnumerable,l=Object.getOwnPropertyDescriptor,n=l&&!s.call({1:2},1);b.f=n?function(d){return d=l(this,d),!!d&&d.enumerable}:s},{}],102:[function(t,_,b){var s=t("../internals/an-object"),l=t("../internals/a-possible-prototype");_.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var n,d=!1,m={};try{(n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(m,[]),d=m instanceof Array}catch{}return function(p,r){return s(p),l(r),d?n.call(p,r):p.__proto__=r,p}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],103:[function(t,_,b){function s(p){return function(r){for(var o,a=d(r),i=n(a),h=i.length,c=0,u=[];c<h;)o=i[c++],l&&!m.call(a,o)||u.push(p?[o,a[o]]:a[o]);return u}}var l=t("../internals/descriptors"),n=t("../internals/object-keys"),d=t("../internals/to-indexed-object"),m=t("../internals/object-property-is-enumerable").f;_.exports={entries:s(!0),values:s(!1)}},{"../internals/descriptors":43,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":136}],104:[function(t,_,b){var s=t("../internals/to-string-tag-support"),l=t("../internals/classof");_.exports=s?{}.toString:function(){return"[object "+l(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":143}],105:[function(t,_,b){var s=t("../internals/get-built-in"),l=t("../internals/object-get-own-property-names"),n=t("../internals/object-get-own-property-symbols"),d=t("../internals/an-object");_.exports=s("Reflect","ownKeys")||function(m){var p=l.f(d(m)),r=n.f;return r?p.concat(r(m)):p}},{"../internals/an-object":10,"../internals/get-built-in":57,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-symbols":97}],106:[function(t,_,b){t=t("../internals/global"),_.exports=t},{"../internals/global":60}],107:[function(t,_,b){_.exports=function(s){try{return{error:!1,value:s()}}catch(l){return{error:!0,value:l}}}},{}],108:[function(t,_,b){var s=t("../internals/an-object"),l=t("../internals/is-object"),n=t("../internals/new-promise-capability");_.exports=function(d,m){return s(d),l(m)&&m.constructor===d?m:((0,(d=n.f(d)).resolve)(m),d.promise)}},{"../internals/an-object":10,"../internals/is-object":75,"../internals/new-promise-capability":87}],109:[function(t,_,b){var s=t("../internals/redefine");_.exports=function(l,n,d){for(var m in n)s(l,m,n[m],d);return l}},{"../internals/redefine":110}],110:[function(p,_,b){var s=p("../internals/global"),l=p("../internals/create-non-enumerable-property"),n=p("../internals/has"),d=p("../internals/set-global"),m=p("../internals/inspect-source"),p=p("../internals/internal-state"),r=p.get,o=p.enforce,a=String(String).split("String");(_.exports=function(i,h,c,x){var f=!!x&&!!x.unsafe,y=!!x&&!!x.enumerable,x=!!x&&!!x.noTargetGet;typeof c=="function"&&(typeof h!="string"||n(c,"name")||l(c,"name",h),o(c).source=a.join(typeof h=="string"?h:"")),i===s?y?i[h]=c:d(h,c):(f?!x&&i[h]&&(y=!0):delete i[h],y?i[h]=c:l(i,h,c))})(Function.prototype,"toString",function(){return typeof this=="function"&&r(this).source||m(this)})},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/set-global":117}],111:[function(t,_,b){var s=t("./classof-raw"),l=t("./regexp-exec");_.exports=function(n,d){var m=n.exec;if(typeof m=="function"){if(m=m.call(n,d),typeof m!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return m}if(s(n)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return l.call(n,d)}},{"./classof-raw":28,"./regexp-exec":112}],112:[function(d,_,b){var s,l,n=d("./regexp-flags"),d=d("./regexp-sticky-helpers"),m=RegExp.prototype.exec,p=String.prototype.replace,r=m,o=(s=/a/,l=/b*/g,m.call(s,"a"),m.call(l,"a"),s.lastIndex!==0||l.lastIndex!==0),a=d.UNSUPPORTED_Y||d.BROKEN_CARET,i=/()??/.exec("")[1]!==void 0;_.exports=r=o||i||a?function(h){var c,u,f,y,x=this,M=a&&x.sticky,w=n.call(x),E=x.source,C=0,L=h;return M&&((w=w.replace("y","")).indexOf("g")===-1&&(w+="g"),L=String(h).slice(x.lastIndex),0<x.lastIndex&&(!x.multiline||x.multiline&&h[x.lastIndex-1]!==`
`)&&(E="(?: "+E+")",L=" "+L,C++),u=new RegExp("^(?:"+E+")",w)),i&&(u=new RegExp("^"+E+"$(?!\\s)",w)),o&&(c=x.lastIndex),f=m.call(M?u:x,L),M?f?(f.input=f.input.slice(C),f[0]=f[0].slice(C),f.index=x.lastIndex,x.lastIndex+=f[0].length):x.lastIndex=0:o&&f&&(x.lastIndex=x.global?f.index+f[0].length:c),i&&f&&1<f.length&&p.call(f[0],u,function(){for(y=1;y<arguments.length-2;y++)arguments[y]===void 0&&(f[y]=void 0)}),f}:r},{"./regexp-flags":113,"./regexp-sticky-helpers":114}],113:[function(t,_,b){var s=t("../internals/an-object");_.exports=function(){var l=s(this),n="";return l.global&&(n+="g"),l.ignoreCase&&(n+="i"),l.multiline&&(n+="m"),l.dotAll&&(n+="s"),l.unicode&&(n+="u"),l.sticky&&(n+="y"),n}},{"../internals/an-object":10}],114:[function(t,_,b){t=t("./fails");function s(l,n){return RegExp(l,n)}b.UNSUPPORTED_Y=t(function(){var l=s("a","y");return l.lastIndex=2,l.exec("abcd")!=null}),b.BROKEN_CARET=t(function(){var l=s("^r","gy");return l.lastIndex=2,l.exec("str")!=null})},{"./fails":51}],115:[function(t,_,b){_.exports=function(s){if(s==null)throw TypeError("Can't call method on "+s);return s}},{}],116:[function(t,_,b){_.exports=Object.is||function(s,l){return s===l?s!==0||1/s==1/l:s!=s&&l!=l}},{}],117:[function(t,_,b){var s=t("../internals/global"),l=t("../internals/create-non-enumerable-property");_.exports=function(n,d){try{l(s,n,d)}catch{s[n]=d}return d}},{"../internals/create-non-enumerable-property":38,"../internals/global":60}],118:[function(t,_,b){var s=t("../internals/get-built-in"),l=t("../internals/object-define-property"),n=t("../internals/well-known-symbol"),d=t("../internals/descriptors"),m=n("species");_.exports=function(r){var r=s(r),o=l.f;d&&r&&!r[m]&&o(r,m,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":43,"../internals/get-built-in":57,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],119:[function(t,_,b){var s=t("../internals/object-define-property").f,l=t("../internals/has"),n=t("../internals/well-known-symbol")("toStringTag");_.exports=function(d,m,p){d&&!l(d=p?d:d.prototype,n)&&s(d,n,{configurable:!0,value:m})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],120:[function(t,_,b){var s=t("../internals/shared"),l=t("../internals/uid"),n=s("keys");_.exports=function(d){return n[d]||(n[d]=l(d))}},{"../internals/shared":122,"../internals/uid":147}],121:[function(s,_,b){var n=s("../internals/global"),s=s("../internals/set-global"),l="__core-js_shared__",n=n[l]||s(l,{});_.exports=n},{"../internals/global":60,"../internals/set-global":117}],122:[function(t,_,b){var s=t("../internals/is-pure"),l=t("../internals/shared-store");(_.exports=function(n,d){return l[n]||(l[n]=d!==void 0?d:{})})("versions",[]).push({version:"3.6.5",mode:s?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":76,"../internals/shared-store":121}],123:[function(t,_,b){var s=t("../internals/an-object"),l=t("../internals/a-function"),n=t("../internals/well-known-symbol")("species");_.exports=function(p,m){var p=s(p).constructor;return p===void 0||(p=s(p)[n])==null?m:l(p)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":150}],124:[function(t,_,b){var s=t("../internals/fails");_.exports=function(l){return s(function(){var n=""[l]('"');return n!==n.toLowerCase()||3<n.split('"').length})}},{"../internals/fails":51}],125:[function(t,_,b){function s(d){return function(o,a){var r,o=String(n(o)),a=l(a),i=o.length;return a<0||i<=a?d?"":void 0:(r=o.charCodeAt(a))<55296||56319<r||a+1===i||(i=o.charCodeAt(a+1))<56320||57343<i?d?o.charAt(a):r:d?o.slice(a,a+2):i-56320+(r-55296<<10)+65536}}var l=t("../internals/to-integer"),n=t("../internals/require-object-coercible");_.exports={codeAt:s(!1),charAt:s(!0)}},{"../internals/require-object-coercible":115,"../internals/to-integer":137}],126:[function(t,_,b){t=t("../internals/engine-user-agent"),_.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(t)},{"../internals/engine-user-agent":47}],127:[function(t,_,b){function s(p){return function(i,u,c){var i=String(d(i)),h=i.length,c=c===void 0?" ":String(c),u=l(u);return u<=h||c==""?i:((h=n.call(c,m((u=u-h)/c.length))).length>u&&(h=h.slice(0,u)),p?i+h:h+i)}}var l=t("../internals/to-length"),n=t("../internals/string-repeat"),d=t("../internals/require-object-coercible"),m=Math.ceil;_.exports={start:s(!1),end:s(!0)}},{"../internals/require-object-coercible":115,"../internals/string-repeat":129,"../internals/to-length":138}],128:[function(t,_,b){function s(f){return f+22+75*(f<26)}function l(f){var y,x=[],M=(f=function(G){for(var Q=[],ie=0,T=G.length;ie<T;){var D,U=G.charCodeAt(ie++);55296<=U&&U<=56319&&ie<T?(64512&(D=G.charCodeAt(ie++)))==56320?Q.push(((1023&U)<<10)+(1023&D)+65536):(Q.push(U),ie--):Q.push(U)}return Q}(f)).length,w=128,E=0,C=72;for(P=0;P<f.length;P++)(y=f[P])<128&&x.push(u(y));var L=x.length,k=L;for(L&&x.push("-");k<M;){for(var R=n,P=0;P<f.length;P++)w<=(y=f[P])&&y<R&&(R=y);var F=k+1;if(R-w>c((n-E)/F))throw RangeError(i);for(E+=(R-w)*F,w=R,P=0;P<f.length;P++){if((y=f[P])<w&&++E>n)throw RangeError(i);if(y==w){for(var I=E,B=d;;B+=d){var V=B<=C?1:C+m<=B?m:B-C;if(I<V)break;var H=I-V,z=d-V;x.push(u(s(V+H%z))),I=c(H/z)}x.push(u(s(I))),C=function(G,Q,ie){var T=0;for(G=ie?c(G/r):G>>1,G+=c(G/Q);h*m>>1<G;T+=d)G=c(G/h);return c(T+(h+1)*G/(G+p))}(E,F,k==L),E=0,++k}}++E,++w}return x.join("")}var n=2147483647,d=36,m=26,p=38,r=700,o=/[^\0-\u007E]/,a=/[.\u3002\uFF0E\uFF61]/g,i="Overflow: input needs wider integers to process",h=d-1,c=Math.floor,u=String.fromCharCode;_.exports=function(f){for(var y,x=[],M=f.toLowerCase().replace(a,".").split("."),w=0;w<M.length;w++)y=M[w],x.push(o.test(y)?"xn--"+l(y):y);return x.join(".")}},{}],129:[function(t,_,b){var s=t("../internals/to-integer"),l=t("../internals/require-object-coercible");_.exports="".repeat||function(n){var d=String(l(this)),m="",p=s(n);if(p<0||p==1/0)throw RangeError("Wrong number of repetitions");for(;0<p;(p>>>=1)&&(d+=d))1&p&&(m+=d);return m}},{"../internals/require-object-coercible":115,"../internals/to-integer":137}],130:[function(t,_,b){var s=t("../internals/fails"),l=t("../internals/whitespaces");_.exports=function(n){return s(function(){return!!l[n]()||""[n]()!=""||l[n].name!==n})}},{"../internals/fails":51,"../internals/whitespaces":151}],131:[function(n,_,b){function s(p){return function(r){return r=String(l(r)),1&p&&(r=r.replace(d,"")),r=2&p?r.replace(m,""):r}}var l=n("../internals/require-object-coercible"),n="["+n("../internals/whitespaces")+"]",d=RegExp("^"+n+n+"*"),m=RegExp(n+n+"*$");_.exports={start:s(1),end:s(2),trim:s(3)}},{"../internals/require-object-coercible":115,"../internals/whitespaces":151}],132:[function(h,_,b){function s(k){return function(){L(k)}}function l(k){L(k.data)}function n(k){m.postMessage(k+"",c.protocol+"//"+c.host)}var d,m=h("../internals/global"),p=h("../internals/fails"),r=h("../internals/classof-raw"),o=h("../internals/function-bind-context"),a=h("../internals/html"),i=h("../internals/document-create-element"),h=h("../internals/engine-is-ios"),c=m.location,u=m.setImmediate,f=m.clearImmediate,y=m.process,x=m.MessageChannel,M=m.Dispatch,w=0,E={},C="onreadystatechange",L=function(k){var R;E.hasOwnProperty(k)&&(R=E[k],delete E[k],R())};u&&f||(u=function(k){for(var R=[],P=1;P<arguments.length;)R.push(arguments[P++]);return E[++w]=function(){(typeof k=="function"?k:Function(k)).apply(void 0,R)},d(w),w},f=function(k){delete E[k]},r(y)=="process"?d=function(k){y.nextTick(s(k))}:M&&M.now?d=function(k){M.now(s(k))}:x&&!h?(h=(r=new x).port2,r.port1.onmessage=l,d=o(h.postMessage,h,1)):!m.addEventListener||typeof postMessage!="function"||m.importScripts||p(n)||c.protocol==="file:"?d=C in i("script")?function(k){a.appendChild(i("script"))[C]=function(){a.removeChild(this),L(k)}}:function(k){setTimeout(s(k),0)}:(d=n,m.addEventListener("message",l,!1))),_.exports={set:u,clear:f}},{"../internals/classof-raw":28,"../internals/document-create-element":44,"../internals/engine-is-ios":46,"../internals/fails":51,"../internals/function-bind-context":55,"../internals/global":60,"../internals/html":64}],133:[function(t,_,b){var s=t("../internals/classof-raw");_.exports=function(l){if(typeof l!="number"&&s(l)!="Number")throw TypeError("Incorrect invocation");return+l}},{"../internals/classof-raw":28}],134:[function(t,_,b){var s=t("../internals/to-integer"),l=Math.max,n=Math.min;_.exports=function(d,m){return d=s(d),d<0?l(d+m,0):n(d,m)}},{"../internals/to-integer":137}],135:[function(t,_,b){var s=t("../internals/to-integer"),l=t("../internals/to-length");_.exports=function(d){if(d===void 0)return 0;var d=s(d),m=l(d);if(d!==m)throw RangeError("Wrong length or index");return m}},{"../internals/to-integer":137,"../internals/to-length":138}],136:[function(t,_,b){var s=t("../internals/indexed-object"),l=t("../internals/require-object-coercible");_.exports=function(n){return s(l(n))}},{"../internals/indexed-object":67,"../internals/require-object-coercible":115}],137:[function(t,_,b){var s=Math.ceil,l=Math.floor;_.exports=function(n){return isNaN(n=+n)?0:(0<n?l:s)(n)}},{}],138:[function(t,_,b){var s=t("../internals/to-integer"),l=Math.min;_.exports=function(n){return 0<n?l(s(n),9007199254740991):0}},{"../internals/to-integer":137}],139:[function(t,_,b){var s=t("../internals/require-object-coercible");_.exports=function(l){return Object(s(l))}},{"../internals/require-object-coercible":115}],140:[function(t,_,b){var s=t("../internals/to-positive-integer");_.exports=function(l,n){if(l=s(l),l%n)throw RangeError("Wrong offset");return l}},{"../internals/to-positive-integer":141}],141:[function(t,_,b){var s=t("../internals/to-integer");_.exports=function(l){if(l=s(l),l<0)throw RangeError("The argument can't be less than 0");return l}},{"../internals/to-integer":137}],142:[function(t,_,b){var s=t("../internals/is-object");_.exports=function(l,n){if(!s(l))return l;var d,m;if(n&&typeof(d=l.toString)=="function"&&!s(m=d.call(l))||typeof(d=l.valueOf)=="function"&&!s(m=d.call(l))||!n&&typeof(d=l.toString)=="function"&&!s(m=d.call(l)))return m;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":75}],143:[function(t,_,b){var s={};s[t("../internals/well-known-symbol")("toStringTag")]="z",_.exports=String(s)==="[object z]"},{"../internals/well-known-symbol":150}],144:[function(t,_,b){function s(ge,be){for(var Se=0,Ie=be.length,Me=new(J(ge))(Ie);Se<Ie;)Me[Se]=be[Se++];return Me}function l(ge,be){D(ge,be,{get:function(){return ie(this)[be]}})}function n(ge){return ge instanceof ee||(ge=L(ge))=="ArrayBuffer"||ge=="SharedArrayBuffer"}function d(ge,be){return le(ge)&&typeof be!="symbol"&&be in ge&&String(+be)==String(be)}function m(ge,be){return d(ge,be=E(be,!0))?f(2,ge[be]):U(ge,be)}function p(ge,be,Se){return!(d(ge,be=E(be,!0))&&k(Se)&&C(Se,"value"))||C(Se,"get")||C(Se,"set")||Se.configurable||C(Se,"writable")&&!Se.writable||C(Se,"enumerable")&&!Se.enumerable?D(ge,be,Se):(ge[be]=Se.value,ge)}var r=t("../internals/export"),o=t("../internals/global"),a=t("../internals/descriptors"),i=t("../internals/typed-array-constructors-require-wrappers"),h=t("../internals/array-buffer-view-core"),c=t("../internals/array-buffer"),u=t("../internals/an-instance"),f=t("../internals/create-property-descriptor"),y=t("../internals/create-non-enumerable-property"),x=t("../internals/to-length"),M=t("../internals/to-index"),w=t("../internals/to-offset"),E=t("../internals/to-primitive"),C=t("../internals/has"),L=t("../internals/classof"),k=t("../internals/is-object"),R=t("../internals/object-create"),P=t("../internals/object-set-prototype-of"),F=t("../internals/object-get-own-property-names").f,I=t("../internals/typed-array-from"),B=t("../internals/array-iteration").forEach,V=t("../internals/set-species"),H=t("../internals/object-define-property"),z=t("../internals/object-get-own-property-descriptor"),G=t("../internals/internal-state"),Q=t("../internals/inherit-if-required"),ie=G.get,T=G.set,D=H.f,U=z.f,W=Math.round,$=o.RangeError,ee=c.ArrayBuffer,ne=c.DataView,fe=h.NATIVE_ARRAY_BUFFER_VIEWS,se=h.TYPED_ARRAY_TAG,he=h.TypedArray,ae=h.TypedArrayPrototype,J=h.aTypedArrayConstructor,le=h.isTypedArray,ye="BYTES_PER_ELEMENT",ue="Wrong length";a?(fe||(z.f=m,H.f=p,l(ae,"buffer"),l(ae,"byteOffset"),l(ae,"byteLength"),l(ae,"length")),r({target:"Object",stat:!0,forced:!fe},{getOwnPropertyDescriptor:m,defineProperty:p}),_.exports=function(xe,be,Se){function Ie(Te,K){D(Te,K,{get:function(){var te=this,Z=K;return(te=ie(te)).view[qe](Z*Me+te.byteOffset,!0)},set:function(te){var Z=this,oe=K;Z=ie(Z),Se&&(te=(te=W(te))<0?0:255<te?255:255&te),Z.view[Ge](oe*Me+Z.byteOffset,te,!0)},enumerable:!0})}var Me=xe.match(/\d+$/)[0]/8,$e=xe+(Se?"Clamped":"")+"Array",qe="get"+xe,Ge="set"+xe,Ze=o[$e],ze=Ze,xe=ze&&ze.prototype,Le={};fe?i&&(ze=be(function(Te,K,te,Z){return u(Te,ze,$e),Q(k(K)?n(K)?Z!==void 0?new Ze(K,w(te,Me),Z):te!==void 0?new Ze(K,w(te,Me)):new Ze(K):le(K)?s(ze,K):I.call(ze,K):new Ze(M(K)),Te,ze)}),P&&P(ze,he),B(F(Ze),function(Te){Te in ze||y(ze,Te,Ze[Te])}),ze.prototype=xe):(ze=be(function(Te,K,te,Z){u(Te,ze,$e);var oe,ve,we=0,Oe=0;if(k(K)){if(!n(K))return le(K)?s(ze,K):I.call(ze,K);var Be=K,Oe=w(te,Me),te=K.byteLength;if(Z===void 0){if(te%Me||(oe=te-Oe)<0)throw $(ue)}else if(te<(oe=x(Z)*Me)+Oe)throw $(ue);ve=oe/Me}else ve=M(K),Be=new ee(oe=ve*Me);for(T(Te,{buffer:Be,byteOffset:Oe,byteLength:oe,length:ve,view:new ne(Be)});we<ve;)Ie(Te,we++)}),P&&P(ze,he),xe=ze.prototype=R(ae)),xe.constructor!==ze&&y(xe,"constructor",ze),se&&y(xe,se,$e),Le[$e]=ze,r({global:!0,forced:ze!=Ze,sham:!fe},Le),ye in ze||y(ze,ye,Me),ye in xe||y(xe,ye,Me),V($e)}):_.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-object":75,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-set-prototype-of":102,"../internals/set-species":118,"../internals/to-index":135,"../internals/to-length":138,"../internals/to-offset":140,"../internals/to-primitive":142,"../internals/typed-array-constructors-require-wrappers":145,"../internals/typed-array-from":146}],145:[function(d,_,b){var s=d("../internals/global"),l=d("../internals/fails"),n=d("../internals/check-correctness-of-iteration"),d=d("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,m=s.ArrayBuffer,p=s.Int8Array;_.exports=!d||!l(function(){p(1)})||!l(function(){new p(-1)})||!n(function(r){new p,new p(null),new p(1.5),new p(r)},!0)||l(function(){return new p(new m(2),1,void 0).length!==1})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":51,"../internals/global":60}],146:[function(t,_,b){var s=t("../internals/to-object"),l=t("../internals/to-length"),n=t("../internals/get-iterator-method"),d=t("../internals/is-array-iterator-method"),m=t("../internals/function-bind-context"),p=t("../internals/array-buffer-view-core").aTypedArrayConstructor;_.exports=function(r){var o,a,i,h,c,u,f=s(r),y=arguments.length,x=1<y?arguments[1]:void 0,M=x!==void 0,w=n(f);if(w!=null&&!d(w))for(u=(c=w.call(f)).next,f=[];!(h=u.call(c)).done;)f.push(h.value);for(M&&2<y&&(x=m(x,arguments[2],2)),a=l(f.length),i=new(p(this))(a),o=0;o<a;o++)i[o]=M?x(f[o],o):f[o];return i}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138,"../internals/to-object":139}],147:[function(t,_,b){var s=0,l=Math.random();_.exports=function(n){return"Symbol("+String(n===void 0?"":n)+")_"+(++s+l).toString(36)}},{}],148:[function(t,_,b){t=t("../internals/native-symbol"),_.exports=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/native-symbol":84}],149:[function(t,_,b){t=t("../internals/well-known-symbol"),b.f=t},{"../internals/well-known-symbol":150}],150:[function(p,_,b){var s=p("../internals/global"),l=p("../internals/shared"),n=p("../internals/has"),d=p("../internals/uid"),m=p("../internals/native-symbol"),p=p("../internals/use-symbol-as-uid"),r=l("wks"),o=s.Symbol,a=p?o:o&&o.withoutSetter||d;_.exports=function(i){return n(r,i)||(m&&n(o,i)?r[i]=o[i]:r[i]=a("Symbol."+i)),r[i]}},{"../internals/global":60,"../internals/has":61,"../internals/native-symbol":84,"../internals/shared":122,"../internals/uid":147,"../internals/use-symbol-as-uid":148}],151:[function(t,_,b){_.exports=`	
\v\f\r \u2028\u2029\uFEFF`},{}],152:[function(n,_,b){var s=n("../internals/export"),l=n("../internals/global"),m=n("../internals/array-buffer"),n=n("../internals/set-species"),d="ArrayBuffer",m=m[d];s({global:!0,forced:l[d]!==m},{ArrayBuffer:m}),n(d)},{"../internals/array-buffer":13,"../internals/export":50,"../internals/global":60,"../internals/set-species":118}],153:[function(f,_,b){var s=f("../internals/export"),l=f("../internals/fails"),n=f("../internals/is-array"),d=f("../internals/is-object"),m=f("../internals/to-object"),p=f("../internals/to-length"),r=f("../internals/create-property"),o=f("../internals/array-species-create"),a=f("../internals/array-method-has-species-support"),u=f("../internals/well-known-symbol"),f=f("../internals/engine-v8-version"),i=u("isConcatSpreadable"),h=9007199254740991,c="Maximum allowed index exceeded",u=51<=f||!l(function(){var y=[];return y[i]=!1,y.concat()[0]!==y}),f=a("concat");s({target:"Array",proto:!0,forced:!u||!f},{concat:function(y){for(var x,M,w,E,C,L=m(this),k=o(L,0),R=0,P=-1,F=arguments.length;P<F;P++)if(C=void 0,!d(E=w=P===-1?L:arguments[P])||((C=E[i])!==void 0?!C:!n(E))){if(h<=R)throw TypeError(c);r(k,R++,w)}else{if(M=p(w.length),h<R+M)throw TypeError(c);for(x=0;x<M;x++,R++)x in w&&r(k,R,w[x])}return k.length=R,k}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/fails":51,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-length":138,"../internals/to-object":139,"../internals/well-known-symbol":150}],154:[function(n,_,b){var s=n("../internals/export"),l=n("../internals/array-copy-within"),n=n("../internals/add-to-unscopables");s({target:"Array",proto:!0},{copyWithin:l}),n("copyWithin")},{"../internals/add-to-unscopables":7,"../internals/array-copy-within":14,"../internals/export":50}],155:[function(d,_,b){var s=d("../internals/export"),l=d("../internals/array-iteration").every,n=d("../internals/array-method-is-strict"),d=d("../internals/array-method-uses-to-length"),n=n("every"),d=d("every");s({target:"Array",proto:!0,forced:!n||!d},{every:function(m){return l(this,m,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],156:[function(n,_,b){var s=n("../internals/export"),l=n("../internals/array-fill"),n=n("../internals/add-to-unscopables");s({target:"Array",proto:!0},{fill:l}),n("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":50}],157:[function(d,_,b){var s=d("../internals/export"),l=d("../internals/array-iteration").filter,n=d("../internals/array-method-has-species-support"),d=d("../internals/array-method-uses-to-length"),n=n("filter"),d=d("filter");s({target:"Array",proto:!0,forced:!n||!d},{filter:function(m){return l(this,m,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],158:[function(p,_,b){var s=p("../internals/export"),l=p("../internals/array-iteration").findIndex,n=p("../internals/add-to-unscopables"),p=p("../internals/array-method-uses-to-length"),d="findIndex",m=!0,p=p(d);d in[]&&Array(1)[d](function(){m=!1}),s({target:"Array",proto:!0,forced:m||!p},{findIndex:function(r){return l(this,r,1<arguments.length?arguments[1]:void 0)}}),n(d)},{"../internals/add-to-unscopables":7,"../internals/array-iteration":19,"../internals/array-method-uses-to-length":23,"../internals/export":50}],159:[function(t,_,b){var s=t("../internals/export"),l=t("../internals/flatten-into-array"),n=t("../internals/to-object"),d=t("../internals/to-length"),m=t("../internals/a-function"),p=t("../internals/array-species-create");s({target:"Array",proto:!0},{flatMap:function(r){var o,a=n(this),i=d(a.length);return m(r),(o=p(a,0)).length=l(o,a,a,i,0,1,r,1<arguments.length?arguments[1]:void 0),o}})},{"../internals/a-function":5,"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-length":138,"../internals/to-object":139}],160:[function(t,_,b){var s=t("../internals/export"),l=t("../internals/flatten-into-array"),n=t("../internals/to-object"),d=t("../internals/to-length"),m=t("../internals/to-integer"),p=t("../internals/array-species-create");s({target:"Array",proto:!0},{flat:function(){var r=arguments.length?arguments[0]:void 0,o=n(this),a=d(o.length),i=p(o,0);return i.length=l(i,o,o,a,0,r===void 0?1:m(r)),i}})},{"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],161:[function(l,_,b){var s=l("../internals/export"),l=l("../internals/array-for-each");s({target:"Array",proto:!0,forced:[].forEach!=l},{forEach:l})},{"../internals/array-for-each":16,"../internals/export":50}],162:[function(t,_,b){var s=t("../internals/export"),l=t("../internals/array-from");s({target:"Array",stat:!0,forced:!t("../internals/check-correctness-of-iteration")(function(n){Array.from(n)})},{from:l})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":50}],163:[function(t,_,b){var s=t("../internals/export"),l=t("../internals/array-includes").includes,n=t("../internals/add-to-unscopables");s({target:"Array",proto:!0,forced:!t("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(d){return l(this,d,1<arguments.length?arguments[1]:void 0)}}),n("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":50}],164:[function(p,_,b){var s=p("../internals/export"),l=p("../internals/array-includes").indexOf,m=p("../internals/array-method-is-strict"),p=p("../internals/array-method-uses-to-length"),n=[].indexOf,d=!!n&&1/[1].indexOf(1,-0)<0,m=m("indexOf"),p=p("indexOf",{ACCESSORS:!0,1:0});s({target:"Array",proto:!0,forced:d||!m||!p},{indexOf:function(r){return d?n.apply(this,arguments)||0:l(this,r,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],165:[function(m,_,b){var s=m("../internals/to-indexed-object"),l=m("../internals/add-to-unscopables"),n=m("../internals/iterators"),d=m("../internals/internal-state"),m=m("../internals/define-iterator"),p="Array Iterator",r=d.set,o=d.getterFor(p);_.exports=m(Array,"Array",function(a,i){r(this,{type:p,target:s(a),index:0,kind:i})},function(){var a=o(this),i=a.target,h=a.kind,c=a.index++;return!i||c>=i.length?{value:a.target=void 0,done:!0}:h=="keys"?{value:c,done:!1}:h=="values"?{value:i[c],done:!1}:{value:[c,i[c]],done:!1}},"values"),n.Arguments=n.Array,l("keys"),l("values"),l("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/iterators":80,"../internals/to-indexed-object":136}],166:[function(m,_,b){var s=m("../internals/export"),d=m("../internals/indexed-object"),l=m("../internals/to-indexed-object"),m=m("../internals/array-method-is-strict"),n=[].join,d=d!=Object,m=m("join",",");s({target:"Array",proto:!0,forced:d||!m},{join:function(p){return n.call(l(this),p===void 0?",":p)}})},{"../internals/array-method-is-strict":22,"../internals/export":50,"../internals/indexed-object":67,"../internals/to-indexed-object":136}],167:[function(l,_,b){var s=l("../internals/export"),l=l("../internals/array-last-index-of");s({target:"Array",proto:!0,forced:l!==[].lastIndexOf},{lastIndexOf:l})},{"../internals/array-last-index-of":20,"../internals/export":50}],168:[function(d,_,b){var s=d("../internals/export"),l=d("../internals/array-iteration").map,n=d("../internals/array-method-has-species-support"),d=d("../internals/array-method-uses-to-length"),n=n("map"),d=d("map");s({target:"Array",proto:!0,forced:!n||!d},{map:function(m){return l(this,m,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],169:[function(i,_,b){var s=i("../internals/export"),l=i("../internals/is-object"),n=i("../internals/is-array"),d=i("../internals/to-absolute-index"),m=i("../internals/to-length"),p=i("../internals/to-indexed-object"),r=i("../internals/create-property"),o=i("../internals/well-known-symbol"),a=i("../internals/array-method-has-species-support"),i=i("../internals/array-method-uses-to-length"),a=a("slice"),i=i("slice",{ACCESSORS:!0,0:0,1:2}),h=o("species"),c=[].slice,u=Math.max;s({target:"Array",proto:!0,forced:!a||!i},{slice:function(f,y){var x,M,w,E=p(this),C=m(E.length),L=d(f,C),k=d(y===void 0?C:y,C);if(n(E)&&((x=typeof(x=E.constructor)=="function"&&(x===Array||n(x.prototype))||l(x)&&(x=x[h])===null?void 0:x)===Array||x===void 0))return c.call(E,L,k);for(M=new(x===void 0?Array:x)(u(k-L,0)),w=0;L<k;L++,w++)L in E&&r(M,w,E[L]);return M.length=w,M}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":40,"../internals/export":50,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-absolute-index":134,"../internals/to-indexed-object":136,"../internals/to-length":138,"../internals/well-known-symbol":150}],170:[function(d,_,b){var s=d("../internals/export"),l=d("../internals/array-iteration").some,n=d("../internals/array-method-is-strict"),d=d("../internals/array-method-uses-to-length"),n=n("some"),d=d("some");s({target:"Array",proto:!0,forced:!n||!d},{some:function(m){return l(this,m,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],171:[function(a,_,b){var s=a("../internals/export"),l=a("../internals/to-absolute-index"),n=a("../internals/to-integer"),d=a("../internals/to-length"),m=a("../internals/to-object"),p=a("../internals/array-species-create"),r=a("../internals/create-property"),o=a("../internals/array-method-has-species-support"),a=a("../internals/array-method-uses-to-length"),o=o("splice"),a=a("splice",{ACCESSORS:!0,0:0,1:2}),i=Math.max,h=Math.min;s({target:"Array",proto:!0,forced:!o||!a},{splice:function(R,u){var f,y,x,M,w,E,C=m(this),L=d(C.length),k=l(R,L),R=arguments.length;if(R===0?f=y=0:y=R===1?(f=0,L-k):(f=R-2,h(i(n(u),0),L-k)),9007199254740991<L+f-y)throw TypeError("Maximum allowed length exceeded");for(x=p(C,y),M=0;M<y;M++)(w=k+M)in C&&r(x,M,C[w]);if(f<(x.length=y)){for(M=k;M<L-y;M++)E=M+f,(w=M+y)in C?C[E]=C[w]:delete C[E];for(M=L;L-y+f<M;M--)delete C[M-1]}else if(y<f)for(M=L-y;k<M;M--)E=M+f-1,(w=M+y-1)in C?C[E]=C[w]:delete C[E];for(M=0;M<f;M++)C[M+k]=arguments[M+2];return C.length=L-y+f,x}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/export":50,"../internals/to-absolute-index":134,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],172:[function(t,_,b){t("../internals/add-to-unscopables")("flatMap")},{"../internals/add-to-unscopables":7}],173:[function(t,_,b){t("../internals/add-to-unscopables")("flat")},{"../internals/add-to-unscopables":7}],174:[function(l,_,b){var s=l("../internals/descriptors"),l=l("../internals/object-define-property").f,n=Function.prototype,d=n.toString,m=/^\s*function ([^ (]*)/;!s||"name"in n||l(n,"name",{configurable:!0,get:function(){try{return d.call(this).match(m)[1]}catch{return""}}})},{"../internals/descriptors":43,"../internals/object-define-property":93}],175:[function(l,_,b){var s=l("../internals/collection"),l=l("../internals/collection-strong");_.exports=s("Map",function(n){return function(){return n(this,arguments.length?arguments[0]:void 0)}},l)},{"../internals/collection":32,"../internals/collection-strong":30}],176:[function(s,_,b){var s=s("../internals/export"),l=Math.hypot,n=Math.abs,d=Math.sqrt;s({target:"Math",stat:!0,forced:!!l&&l(1/0,NaN)!==1/0},{hypot:function(m,p){for(var r,o,a=0,i=0,h=arguments.length,c=0;i<h;)c<(r=n(arguments[i++]))?(a=a*(o=c/r)*o+1,c=r):a+=0<r?(o=r/c)*o:r;return c===1/0?1/0:c*d(a)}})},{"../internals/export":50}],177:[function(s,_,b){var s=s("../internals/export"),l=Math.log,n=Math.LN2;s({target:"Math",stat:!0},{log2:function(d){return l(d)/n}})},{"../internals/export":50}],178:[function(t,_,b){t("../internals/export")({target:"Math",stat:!0},{sign:t("../internals/math-sign")})},{"../internals/export":50,"../internals/math-sign":81}],179:[function(t,_,b){function s(P){var F,I,B,V,H,z,G,Q=a(P,!1);if(typeof Q=="string"&&2<Q.length){if((P=(Q=y(Q)).charCodeAt(0))===43||P===45){if((F=Q.charCodeAt(2))===88||F===120)return NaN}else if(P===48){switch(Q.charCodeAt(1)){case 66:case 98:I=2,B=49;break;case 79:case 111:I=8,B=55;break;default:return+Q}for(H=(V=Q.slice(2)).length,z=0;z<H;z++)if((G=V.charCodeAt(z))<48||B<G)return NaN;return parseInt(V,I)}}return+Q}var l=t("../internals/descriptors"),n=t("../internals/global"),d=t("../internals/is-forced"),m=t("../internals/redefine"),p=t("../internals/has"),r=t("../internals/classof-raw"),o=t("../internals/inherit-if-required"),a=t("../internals/to-primitive"),i=t("../internals/fails"),h=t("../internals/object-create"),c=t("../internals/object-get-own-property-names").f,u=t("../internals/object-get-own-property-descriptor").f,f=t("../internals/object-define-property").f,y=t("../internals/string-trim").trim,x="Number",M=n[x],w=M.prototype,E=r(h(w))==x;if(d(x,!M(" 0o1")||!M("0b1")||M("+0x1"))){for(var C,L=function(F){var F=arguments.length<1?0:F,I=this;return I instanceof L&&(E?i(function(){w.valueOf.call(I)}):r(I)!=x)?o(new M(s(F)),I,L):s(F)},k=l?c(M):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),R=0;k.length>R;R++)p(M,C=k[R])&&!p(L,C)&&f(L,C,u(M,C));(L.prototype=w).constructor=L,m(n,x,L)}},{"../internals/classof-raw":28,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/is-forced":74,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/redefine":110,"../internals/string-trim":131,"../internals/to-primitive":142}],180:[function(t,_,b){t("../internals/export")({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},{"../internals/export":50}],181:[function(t,_,b){t("../internals/export")({target:"Number",stat:!0},{isFinite:t("../internals/number-is-finite")})},{"../internals/export":50,"../internals/number-is-finite":89}],182:[function(p,_,b){function s(a,i,h){return i===0?h:i%2==1?s(a,i-1,h*a):s(a*a,i/2,h)}var l=p("../internals/export"),n=p("../internals/to-integer"),d=p("../internals/this-number-value"),m=p("../internals/string-repeat"),p=p("../internals/fails"),r=1 .toFixed,o=Math.floor;l({target:"Number",proto:!0,forced:r&&(8e-5.toFixed(3)!=="0.000"||.9.toFixed(0)!=="1"||1.255.toFixed(2)!=="1.25"||0xde0b6b3a7640080.toFixed(0)!=="1000000000000000128")||!p(function(){r.call({})})},{toFixed:function(x){function i(C,L){for(var k=-1,R=L;++k<6;)R+=C*M[k],M[k]=R%1e7,R=o(R/1e7)}function h(C){for(var L=6,k=0;0<=--L;)k+=M[L],M[L]=o(k/C),k=k%C*1e7}function c(){for(var C,L=6,k="";0<=--L;)k===""&&L!==0&&M[L]===0||(C=String(M[L]),k=k===""?C:k+m.call("0",7-C.length)+C);return k}var u,f,y=d(this),x=n(x),M=[0,0,0,0,0,0],w="",E="0";if(x<0||20<x)throw RangeError("Incorrect fraction digits");if(y!=y)return"NaN";if(y<=-1e21||1e21<=y)return String(y);if(y<0&&(w="-",y=-y),1e-21<y)if(y=(u=function(C){for(var L=0,k=C;4096<=k;)L+=12,k/=4096;for(;2<=k;)L+=1,k/=2;return L}(y*s(2,69,1))-69)<0?y*s(2,-u,1):y/s(2,u,1),y*=4503599627370496,0<(u=52-u)){for(i(0,y),f=x;7<=f;)i(1e7,0),f-=7;for(i(s(10,f,1),0),f=u-1;23<=f;)h(1<<23),f-=23;h(1<<f),i(1,1),h(2),E=c()}else i(0,y),i(1<<-u,0),E=c()+m.call("0",x);return E=0<x?w+((y=E.length)<=x?"0."+m.call("0",x-y)+E:E.slice(0,y-x)+"."+E.slice(y-x)):w+E}})},{"../internals/export":50,"../internals/fails":51,"../internals/string-repeat":129,"../internals/this-number-value":133,"../internals/to-integer":137}],183:[function(l,_,b){var s=l("../internals/export"),l=l("../internals/object-assign");s({target:"Object",stat:!0,forced:Object.assign!==l},{assign:l})},{"../internals/export":50,"../internals/object-assign":90}],184:[function(t,_,b){var s=t("../internals/export"),l=t("../internals/object-to-array").entries;s({target:"Object",stat:!0},{entries:function(n){return l(n)}})},{"../internals/export":50,"../internals/object-to-array":103}],185:[function(t,_,b){var s=t("../internals/export"),l=t("../internals/iterate"),n=t("../internals/create-property");s({target:"Object",stat:!0},{fromEntries:function(d){var m={};return l(d,function(p,r){n(m,p,r)},void 0,!0),m}})},{"../internals/create-property":40,"../internals/export":50,"../internals/iterate":78}],186:[function(d,_,b){var s=d("../internals/export"),m=d("../internals/fails"),l=d("../internals/to-indexed-object"),n=d("../internals/object-get-own-property-descriptor").f,d=d("../internals/descriptors"),m=m(function(){n(1)});s({target:"Object",stat:!0,forced:!d||m,sham:!d},{getOwnPropertyDescriptor:function(p,r){return n(l(p),r)}})},{"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-descriptor":94,"../internals/to-indexed-object":136}],187:[function(n,_,b){var s=n("../internals/export"),l=n("../internals/fails"),n=n("../internals/object-get-own-property-names-external").f;s({target:"Object",stat:!0,forced:l(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:n})},{"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-names-external":95}],188:[function(m,_,b){var s=m("../internals/export"),l=m("../internals/fails"),n=m("../internals/to-object"),d=m("../internals/object-get-prototype-of"),m=m("../internals/correct-prototype-getter");s({target:"Object",stat:!0,forced:l(function(){d(1)}),sham:!m},{getPrototypeOf:function(p){return d(n(p))}})},{"../internals/correct-prototype-getter":35,"../internals/export":50,"../internals/fails":51,"../internals/object-get-prototype-of":98,"../internals/to-object":139}],189:[function(t,_,b){var s=t("../internals/export"),l=t("../internals/to-object"),n=t("../internals/object-keys");s({target:"Object",stat:!0,forced:t("../internals/fails")(function(){n(1)})},{keys:function(d){return n(l(d))}})},{"../internals/export":50,"../internals/fails":51,"../internals/object-keys":100,"../internals/to-object":139}],190:[function(n,_,b){var s=n("../internals/to-string-tag-support"),l=n("../internals/redefine"),n=n("../internals/object-to-string");s||l(Object.prototype,"toString",n,{unsafe:!0})},{"../internals/object-to-string":104,"../internals/redefine":110,"../internals/to-string-tag-support":143}],191:[function(Se,_,b){var s,l,n,d,m=Se("../internals/export"),p=Se("../internals/is-pure"),r=Se("../internals/global"),o=Se("../internals/get-built-in"),a=Se("../internals/native-promise-constructor"),i=Se("../internals/redefine"),h=Se("../internals/redefine-all"),c=Se("../internals/set-to-string-tag"),u=Se("../internals/set-species"),f=Se("../internals/is-object"),y=Se("../internals/a-function"),x=Se("../internals/an-instance"),M=Se("../internals/classof-raw"),w=Se("../internals/inspect-source"),E=Se("../internals/iterate"),C=Se("../internals/check-correctness-of-iteration"),L=Se("../internals/species-constructor"),k=Se("../internals/task").set,R=Se("../internals/microtask"),P=Se("../internals/promise-resolve"),F=Se("../internals/host-report-errors"),I=Se("../internals/new-promise-capability"),B=Se("../internals/perform"),V=Se("../internals/internal-state"),H=Se("../internals/is-forced"),Ie=Se("../internals/well-known-symbol"),z=Se("../internals/engine-v8-version"),G=Ie("species"),Q="Promise",ie=V.get,T=V.set,D=V.getterFor(Q),U=a,W=r.TypeError,$=r.document,ee=r.process,ne=o("fetch"),fe=I.f,se=fe,he=M(ee)=="process",ae=!!($&&$.createEvent&&r.dispatchEvent),J="unhandledrejection",le="rejectionhandled",ye=1,ue=2,ge=1,be=2,Se=H(Q,function(){var Le,Te;return w(U)===String(U)&&(z===66||!he&&typeof PromiseRejectionEvent!="function")?!0:!(!p||U.prototype.finally)||!(51<=z&&/native code/.test(U))&&(Te=function(K){K(function(){},function(){})},((Le=U.resolve(1)).constructor={})[G]=Te,!(Le.then(function(){})instanceof Te))}),Ie=Se||!C(function(Le){U.all(Le).catch(function(){})}),Me=function(Le){var Te;return!(!f(Le)||typeof(Te=Le.then)!="function")&&Te},$e=function(Le,Te,K){var te;Te.notified||(Te.notified=!0,te=Te.reactions,R(function(){for(var Z,oe,ve=Te.value,we=Te.state==ye,Oe=0;te.length>Oe;){var Be,De,He,Xe=te[Oe++],ct=we?Xe.ok:Xe.fail,rt=Xe.resolve,Je=Xe.reject,ft=Xe.domain;try{ct?(we||(Te.rejection===be&&function(ot,Ct){k.call(r,function(){he?ee.emit("rejectionHandled",ot):qe(le,ot,Ct.value)})}(Le,Te),Te.rejection=ge),ct===!0?Be=ve:(ft&&ft.enter(),Be=ct(ve),ft&&(ft.exit(),He=!0)),Be===Xe.promise?Je(W("Promise-chain cycle")):(De=Me(Be))?De.call(Be,rt,Je):rt(Be)):Je(ve)}catch(ot){ft&&!He&&ft.exit(),Je(ot)}}Te.reactions=[],Te.notified=!1,K&&!Te.rejection&&(Z=Le,oe=Te,k.call(r,function(){var ot=oe.value,Ct=Ge(oe);if(Ct&&(Ct=B(function(){he?ee.emit("unhandledRejection",ot,Z):qe(J,Z,ot)}),oe.rejection=he||Ge(oe)?be:ge,Ct.error))throw Ct.value}))}))},qe=function(Le,Te,K){var te;ae?((te=$.createEvent("Event")).promise=Te,te.reason=K,te.initEvent(Le,!1,!0),r.dispatchEvent(te)):te={promise:Te,reason:K},(Te=r["on"+Le])?Te(te):Le===J&&F("Unhandled promise rejection",K)},Ge=function(Le){return Le.rejection!==ge&&!Le.parent},Ze=function(Le,Te,K,te){return function(Z){Le(Te,K,Z,te)}},ze=function(Le,Te,K,te){Te.done||(Te.done=!0,(Te=te||Te).value=K,Te.state=ue,$e(Le,Te,!0))},xe=function(Le,Te,K,te){if(!Te.done){Te.done=!0,te&&(Te=te);try{if(Le===K)throw W("Promise can't be resolved itself");var Z=Me(K);Z?R(function(){var oe={done:!1};try{Z.call(K,Ze(xe,Le,oe,Te),Ze(ze,Le,oe,Te))}catch(ve){ze(Le,oe,ve,Te)}}):(Te.value=K,Te.state=ye,$e(Le,Te,!1))}catch(oe){ze(Le,{done:!1},oe,Te)}}};Se&&(U=function(Le){x(this,U,Q),y(Le),s.call(this);var Te=ie(this);try{Le(Ze(xe,this,Te),Ze(ze,this,Te))}catch(K){ze(this,Te,K)}},(s=function(Le){T(this,{type:Q,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=h(U.prototype,{then:function(Le,Te){var K=D(this),te=fe(L(this,U));return te.ok=typeof Le!="function"||Le,te.fail=typeof Te=="function"&&Te,te.domain=he?ee.domain:void 0,K.parent=!0,K.reactions.push(te),K.state!=0&&$e(this,K,!1),te.promise},catch:function(Le){return this.then(void 0,Le)}}),l=function(){var Le=new s,Te=ie(Le);this.promise=Le,this.resolve=Ze(xe,Le,Te),this.reject=Ze(ze,Le,Te)},I.f=fe=function(Le){return Le===U||Le===n?new l:se(Le)},p||typeof a!="function"||(d=a.prototype.then,i(a.prototype,"then",function(Le,Te){var K=this;return new U(function(te,Z){d.call(K,te,Z)}).then(Le,Te)},{unsafe:!0}),typeof ne=="function"&&m({global:!0,enumerable:!0,forced:!0},{fetch:function(Le){return P(U,ne.apply(r,arguments))}}))),m({global:!0,wrap:!0,forced:Se},{Promise:U}),c(U,Q,!1,!0),u(Q),n=o(Q),m({target:Q,stat:!0,forced:Se},{reject:function(Le){var Te=fe(this);return Te.reject.call(void 0,Le),Te.promise}}),m({target:Q,stat:!0,forced:p||Se},{resolve:function(Le){return P(p&&this===n?U:this,Le)}}),m({target:Q,stat:!0,forced:Ie},{all:function(Le){var Te=this,K=fe(Te),te=K.resolve,Z=K.reject,oe=B(function(){var ve=y(Te.resolve),we=[],Oe=0,Be=1;E(Le,function(De){var He=Oe++,Xe=!1;we.push(void 0),Be++,ve.call(Te,De).then(function(ct){Xe||(Xe=!0,we[He]=ct,--Be||te(we))},Z)}),--Be||te(we)});return oe.error&&Z(oe.value),K.promise},race:function(Le){var Te=this,K=fe(Te),te=K.reject,Z=B(function(){var oe=y(Te.resolve);E(Le,function(ve){oe.call(Te,ve).then(K.resolve,te)})});return Z.error&&te(Z.value),K.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/get-built-in":57,"../internals/global":60,"../internals/host-report-errors":63,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-object":75,"../internals/is-pure":76,"../internals/iterate":78,"../internals/microtask":82,"../internals/native-promise-constructor":83,"../internals/new-promise-capability":87,"../internals/perform":107,"../internals/promise-resolve":108,"../internals/redefine":110,"../internals/redefine-all":109,"../internals/set-species":118,"../internals/set-to-string-tag":119,"../internals/species-constructor":123,"../internals/task":132,"../internals/well-known-symbol":150}],192:[function(r,_,b){var s=r("../internals/export"),h=r("../internals/get-built-in"),l=r("../internals/a-function"),n=r("../internals/an-object"),d=r("../internals/is-object"),m=r("../internals/object-create"),p=r("../internals/function-bind"),r=r("../internals/fails"),o=h("Reflect","construct"),a=r(function(){function c(){}return!(o(function(){},[],c)instanceof c)}),i=!r(function(){o(function(){})}),h=a||i;s({target:"Reflect",stat:!0,forced:h,sham:h},{construct:function(c,u){l(c),n(u);var f=arguments.length<3?c:l(arguments[2]);if(i&&!a)return o(c,u,f);if(c==f){switch(u.length){case 0:return new c;case 1:return new c(u[0]);case 2:return new c(u[0],u[1]);case 3:return new c(u[0],u[1],u[2]);case 4:return new c(u[0],u[1],u[2],u[3])}var y=[null];return y.push.apply(y,u),new(p.apply(c,y))}return y=f.prototype,f=m(d(y)?y:Object.prototype),y=Function.apply.call(c,f,u),d(y)?y:f}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":50,"../internals/fails":51,"../internals/function-bind":56,"../internals/get-built-in":57,"../internals/is-object":75,"../internals/object-create":91}],193:[function(t,_,b){var s=t("../internals/export"),l=t("../internals/is-object"),n=t("../internals/an-object"),d=t("../internals/has"),m=t("../internals/object-get-own-property-descriptor"),p=t("../internals/object-get-prototype-of");s({target:"Reflect",stat:!0},{get:function r(o,a){var i,h=arguments.length<3?o:arguments[2];return n(o)===h?o[a]:(i=m.f(o,a))?d(i,"value")?i.value:i.get===void 0?void 0:i.get.call(h):l(i=p(o))?r(i,a,h):void 0}})},{"../internals/an-object":10,"../internals/export":50,"../internals/has":61,"../internals/is-object":75,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-prototype-of":98}],194:[function(t,_,b){var s=t("../internals/descriptors"),l=t("../internals/global"),n=t("../internals/is-forced"),d=t("../internals/inherit-if-required"),m=t("../internals/object-define-property").f,p=t("../internals/object-get-own-property-names").f,r=t("../internals/is-regexp"),o=t("../internals/regexp-flags"),a=t("../internals/regexp-sticky-helpers"),i=t("../internals/redefine"),h=t("../internals/fails"),c=t("../internals/internal-state").set,u=t("../internals/set-species"),f=t("../internals/well-known-symbol")("match"),y=l.RegExp,x=y.prototype,M=/a/g,w=/a/g,E=new y(M)!==M,C=a.UNSUPPORTED_Y;if(s&&n("RegExp",!E||C||h(function(){return w[f]=!1,y(M)!=M||y(w)==w||y(M,"i")!="/a/i"}))){for(var L=function(P,F){var I,B=this instanceof L,V=r(P),H=F===void 0;return!B&&V&&P.constructor===L&&H?P:(E?V&&!H&&(P=P.source):P instanceof L&&(H&&(F=o.call(P)),P=P.source),C&&(I=!!F&&-1<F.indexOf("y"))&&(F=F.replace(/y/g,"")),V=d(E?new y(P,F):y(P,F),B?this:x,L),C&&I&&c(V,{sticky:I}),V)},k=p(y),R=0;k.length>R;)(function(P){P in L||m(L,P,{configurable:!0,get:function(){return y[P]},set:function(F){y[P]=F}})})(k[R++]);(x.constructor=L).prototype=x,i(l,"RegExp",L)}u("RegExp")},{"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-regexp":77,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/redefine":110,"../internals/regexp-flags":113,"../internals/regexp-sticky-helpers":114,"../internals/set-species":118,"../internals/well-known-symbol":150}],195:[function(l,_,b){var s=l("../internals/export"),l=l("../internals/regexp-exec");s({target:"RegExp",proto:!0,forced:/./.exec!==l},{exec:l})},{"../internals/export":50,"../internals/regexp-exec":112}],196:[function(d,_,b){var s=d("../internals/redefine"),l=d("../internals/an-object"),r=d("../internals/fails"),n=d("../internals/regexp-flags"),d="toString",m=RegExp.prototype,p=m[d],r=r(function(){return p.call({source:"a",flags:"b"})!="/a/b"}),o=p.name!=d;(r||o)&&s(RegExp.prototype,d,function(){var a=l(this),i=String(a.source),h=a.flags;return"/"+i+"/"+String(h===void 0&&a instanceof RegExp&&!("flags"in m)?n.call(a):h)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":51,"../internals/redefine":110,"../internals/regexp-flags":113}],197:[function(l,_,b){var s=l("../internals/collection"),l=l("../internals/collection-strong");_.exports=s("Set",function(n){return function(){return n(this,arguments.length?arguments[0]:void 0)}},l)},{"../internals/collection":32,"../internals/collection-strong":30}],198:[function(p,_,b){var s=p("../internals/export"),l=p("../internals/object-get-own-property-descriptor").f,n=p("../internals/to-length"),d=p("../internals/not-a-regexp"),m=p("../internals/require-object-coercible"),a=p("../internals/correct-is-regexp-logic"),p=p("../internals/is-pure"),r="".endsWith,o=Math.min,a=a("endsWith");s({target:"String",proto:!0,forced:!!(p||a||!(s=l(String.prototype,"endsWith"))||s.writable)&&!a},{endsWith:function(i){var h=String(m(this)),c=(d(i),1<arguments.length?arguments[1]:void 0),u=n(h.length),c=c===void 0?u:o(n(c),u),u=String(i);return r?r.call(h,u,c):h.slice(c-u.length,c)===u}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":115,"../internals/to-length":138}],199:[function(t,_,b){var s=t("../internals/export"),l=t("../internals/not-a-regexp"),n=t("../internals/require-object-coercible");s({target:"String",proto:!0,forced:!t("../internals/correct-is-regexp-logic")("includes")},{includes:function(d){return!!~String(n(this)).indexOf(l(d),1<arguments.length?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/not-a-regexp":88,"../internals/require-object-coercible":115}],200:[function(n,_,b){var s=n("../internals/string-multibyte").charAt,l=n("../internals/internal-state"),n=n("../internals/define-iterator"),d="String Iterator",m=l.set,p=l.getterFor(d);n(String,"String",function(r){m(this,{type:d,string:String(r),index:0})},function(){var r=p(this),o=r.string,a=r.index;return a>=o.length?{value:void 0,done:!0}:(o=s(o,a),r.index+=o.length,{value:o,done:!1})})},{"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/string-multibyte":125}],201:[function(t,_,b){var s=t("../internals/fix-regexp-well-known-symbol-logic"),l=t("../internals/an-object"),n=t("../internals/to-length"),d=t("../internals/require-object-coercible"),m=t("../internals/advance-string-index"),p=t("../internals/regexp-exec-abstract");s("match",1,function(r,o,a){return[function(i){var h=d(this),c=i==null?void 0:i[r];return c!==void 0?c.call(i,h):new RegExp(i)[r](String(h))},function(i){var h=a(o,i,this);if(h.done)return h.value;var c=l(i),u=String(this);if(!c.global)return p(c,u);for(var f=c.unicode,y=[],x=c.lastIndex=0;(M=p(c,u))!==null;){var M=String(M[0]);(y[x]=M)===""&&(c.lastIndex=m(u,n(c.lastIndex),f)),x++}return x===0?null:y}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/to-length":138}],202:[function(t,_,b){var s=t("../internals/export"),l=t("../internals/string-pad").start;s({target:"String",proto:!0,forced:t("../internals/string-pad-webkit-bug")},{padStart:function(n){return l(this,n,1<arguments.length?arguments[1]:void 0)}})},{"../internals/export":50,"../internals/string-pad":127,"../internals/string-pad-webkit-bug":126}],203:[function(t,_,b){t("../internals/export")({target:"String",proto:!0},{repeat:t("../internals/string-repeat")})},{"../internals/export":50,"../internals/string-repeat":129}],204:[function(t,_,b){var s=t("../internals/fix-regexp-well-known-symbol-logic"),l=t("../internals/an-object"),n=t("../internals/to-object"),d=t("../internals/to-length"),m=t("../internals/to-integer"),p=t("../internals/require-object-coercible"),r=t("../internals/advance-string-index"),o=t("../internals/regexp-exec-abstract"),a=Math.max,i=Math.min,h=Math.floor,c=/\$([$&'`]|\d\d?|<[^>]*>)/g,u=/\$([$&'`]|\d\d?)/g;s("replace",2,function(f,y,x,M){var w=M.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,E=M.REPLACE_KEEPS_$0,C=w?"$":"$0";return[function(L,k){var R=p(this),P=L==null?void 0:L[f];return P!==void 0?P.call(L,R,k):y.call(String(R),L,k)},function(L,k){if(!w&&E||typeof k=="string"&&k.indexOf(C)===-1){var R=x(y,L,this,k);if(R.done)return R.value}for(var P,F=l(L),I=String(this),B=typeof k=="function",V=(B||(k=String(k)),F.global),H=(V&&(P=F.unicode,F.lastIndex=0),[]);(T=o(F,I))!==null&&(H.push(T),V);)String(T[0])===""&&(F.lastIndex=r(I,d(F.lastIndex),P));for(var z,G="",Q=0,ie=0;ie<H.length;ie++){for(var T=H[ie],D=String(T[0]),U=a(i(m(T.index),I.length),0),W=[],$=1;$<T.length;$++)W.push((z=T[$])===void 0?z:String(z));var ee=T.groups,ne=B?(ne=[D].concat(W,U,I),ee!==void 0&&ne.push(ee),String(k.apply(void 0,ne))):function(fe,se,he,ae,J,le){var ye=he+fe.length,ue=ae.length,ge=u;return J!==void 0&&(J=n(J),ge=c),y.call(le,ge,function(be,Se){var Ie;switch(Se.charAt(0)){case"$":return"$";case"&":return fe;case"`":return se.slice(0,he);case"'":return se.slice(ye);case"<":Ie=J[Se.slice(1,-1)];break;default:var Me,$e=+Se;if($e==0)return be;if(ue<$e)return(Me=h($e/10))!==0&&Me<=ue?ae[Me-1]===void 0?Se.charAt(1):ae[Me-1]+Se.charAt(1):be;Ie=ae[$e-1]}return Ie===void 0?"":Ie})}(D,I,U,W,ee,k);Q<=U&&(G+=I.slice(Q,U)+ne,Q=U+D.length)}return G+I.slice(Q)}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],205:[function(t,_,b){var s=t("../internals/fix-regexp-well-known-symbol-logic"),l=t("../internals/an-object"),n=t("../internals/require-object-coercible"),d=t("../internals/same-value"),m=t("../internals/regexp-exec-abstract");s("search",1,function(p,r,o){return[function(a){var i=n(this),h=a==null?void 0:a[p];return h!==void 0?h.call(a,i):new RegExp(a)[p](String(i))},function(a){var i,h=o(r,a,this);return h.done?h.value:(h=l(a),a=String(this),i=h.lastIndex,d(i,0)||(h.lastIndex=0),a=m(h,a),d(h.lastIndex,i)||(h.lastIndex=i),a===null?-1:a.index)}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/same-value":116}],206:[function(i,_,b){var s=i("../internals/fix-regexp-well-known-symbol-logic"),l=i("../internals/is-regexp"),n=i("../internals/an-object"),d=i("../internals/require-object-coercible"),m=i("../internals/species-constructor"),p=i("../internals/advance-string-index"),r=i("../internals/to-length"),o=i("../internals/regexp-exec-abstract"),a=i("../internals/regexp-exec"),i=i("../internals/fails"),h=[].push,c=Math.min,u=4294967295,f=!i(function(){return!RegExp(u,"y")});s("split",2,function(y,x,M){var w="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||1<".".split(/()()/).length||"".split(/.?/).length?function(E,C){var L=String(d(this)),k=C===void 0?u:C>>>0;if(k==0)return[];if(E===void 0)return[L];if(!l(E))return x.call(L,E,k);for(var R,P,F,I=[],C=(E.ignoreCase?"i":"")+(E.multiline?"m":"")+(E.unicode?"u":"")+(E.sticky?"y":""),B=0,V=new RegExp(E.source,C+"g");(R=a.call(V,L))&&!(B<(P=V.lastIndex)&&(I.push(L.slice(B,R.index)),1<R.length&&R.index<L.length&&h.apply(I,R.slice(1)),F=R[0].length,B=P,I.length>=k));)V.lastIndex===R.index&&V.lastIndex++;return B===L.length?!F&&V.test("")||I.push(""):I.push(L.slice(B)),I.length>k?I.slice(0,k):I}:"0".split(void 0,0).length?function(E,C){return E===void 0&&C===0?[]:x.call(this,E,C)}:x;return[function(E,C){var L=d(this),k=E==null?void 0:E[y];return k!==void 0?k.call(E,L,C):w.call(String(L),E,C)},function(R,C){var L=M(w,R,this,C,w!==x);if(L.done)return L.value;var L=n(R),k=String(this),R=m(L,RegExp),P=L.unicode,F=(L.ignoreCase?"i":"")+(L.multiline?"m":"")+(L.unicode?"u":"")+(f?"y":"g"),I=new R(f?L:"^(?:"+L.source+")",F),B=C===void 0?u:C>>>0;if(B==0)return[];if(k.length===0)return o(I,k)===null?[k]:[];for(var V=0,H=0,z=[];H<k.length;){I.lastIndex=f?H:0;var G,Q=o(I,f?k:k.slice(H));if(Q===null||(G=c(r(I.lastIndex+(f?0:H)),k.length))===V)H=p(k,H,P);else{if(z.push(k.slice(V,H)),z.length===B)return z;for(var ie=1;ie<=Q.length-1;ie++)if(z.push(Q[ie]),z.length===B)return z;H=V=G}}return z.push(k.slice(V)),z}]},!f)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":51,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/is-regexp":77,"../internals/regexp-exec":112,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/species-constructor":123,"../internals/to-length":138}],207:[function(p,_,b){var s=p("../internals/export"),l=p("../internals/object-get-own-property-descriptor").f,n=p("../internals/to-length"),d=p("../internals/not-a-regexp"),m=p("../internals/require-object-coercible"),a=p("../internals/correct-is-regexp-logic"),p=p("../internals/is-pure"),r="".startsWith,o=Math.min,a=a("startsWith");s({target:"String",proto:!0,forced:!!(p||a||!(s=l(String.prototype,"startsWith"))||s.writable)&&!a},{startsWith:function(u){var h=String(m(this)),c=(d(u),n(o(1<arguments.length?arguments[1]:void 0,h.length))),u=String(u);return r?r.call(h,u,c):h.slice(c,c+u.length)===u}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":115,"../internals/to-length":138}],208:[function(t,_,b){var s=t("../internals/export"),l=t("../internals/create-html");s({target:"String",proto:!0,forced:t("../internals/string-html-forced")("sub")},{sub:function(){return l(this,"sub","","")}})},{"../internals/create-html":36,"../internals/export":50,"../internals/string-html-forced":124}],209:[function(t,_,b){var s=t("../internals/export"),l=t("../internals/string-trim").trim;s({target:"String",proto:!0,forced:t("../internals/string-trim-forced")("trim")},{trim:function(){return l(this)}})},{"../internals/export":50,"../internals/string-trim":131,"../internals/string-trim-forced":130}],210:[function(c,_,b){var s,l,n,d,m,p=c("../internals/export"),r=c("../internals/descriptors"),o=c("../internals/global"),a=c("../internals/has"),i=c("../internals/is-object"),h=c("../internals/object-define-property").f,c=c("../internals/copy-constructor-properties"),u=o.Symbol;!r||typeof u!="function"||"description"in u.prototype&&u().description===void 0||(s={},c(l=function(){var f=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),y=this instanceof l?new u(f):f===void 0?u():u(f);return f===""&&(s[y]=!0),y},u),(o=l.prototype=u.prototype).constructor=l,n=o.toString,d=String(u("test"))=="Symbol(test)",m=/^Symbol\((.*)\)[^)]+$/,h(o,"description",{configurable:!0,get:function(){var f=i(this)?this.valueOf():this,y=n.call(f);return a(s,f)?"":(f=d?y.slice(7,-1):y.replace(m,"$1"))===""?void 0:f}}),p({global:!0,forced:!0},{Symbol:l}))},{"../internals/copy-constructor-properties":33,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93}],211:[function(t,_,b){t("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":42}],212:[function(se,_,b){function s(Z,oe){var ve=Ie[Z]=L(le[fe]);return he(ve,{type:ne,tag:Z,description:oe}),a||(ve.description=oe),ve}function l(Z,we){x(Z);var ve=w(we),we=k(ve).concat(te(ve));return $(we,function(Oe){a&&!K.call(ve,Oe)||Te(Z,Oe,ve[Oe])}),Z}function n(we,Oe){var ve,we=w(we),Oe=E(Oe,!0);if(we!==J||!u(Ie,Oe)||u(Me,Oe))return!(ve=ue(we,Oe))||!u(Ie,Oe)||u(we,ee)&&we[ee][Oe]||(ve.enumerable=!0),ve}function d(oe){var oe=be(w(oe)),ve=[];return $(oe,function(we){u(Ie,we)||u(Q,we)||ve.push(we)}),ve}var m=se("../internals/export"),p=se("../internals/global"),r=se("../internals/get-built-in"),o=se("../internals/is-pure"),a=se("../internals/descriptors"),i=se("../internals/native-symbol"),h=se("../internals/use-symbol-as-uid"),c=se("../internals/fails"),u=se("../internals/has"),f=se("../internals/is-array"),y=se("../internals/is-object"),x=se("../internals/an-object"),M=se("../internals/to-object"),w=se("../internals/to-indexed-object"),E=se("../internals/to-primitive"),C=se("../internals/create-property-descriptor"),L=se("../internals/object-create"),k=se("../internals/object-keys"),R=se("../internals/object-get-own-property-names"),P=se("../internals/object-get-own-property-names-external"),F=se("../internals/object-get-own-property-symbols"),I=se("../internals/object-get-own-property-descriptor"),B=se("../internals/object-define-property"),V=se("../internals/object-property-is-enumerable"),H=se("../internals/create-non-enumerable-property"),z=se("../internals/redefine"),G=se("../internals/shared"),Ge=se("../internals/shared-key"),Q=se("../internals/hidden-keys"),ie=se("../internals/uid"),T=se("../internals/well-known-symbol"),D=se("../internals/well-known-symbol-wrapped"),U=se("../internals/define-well-known-symbol"),W=se("../internals/set-to-string-tag"),Ze=se("../internals/internal-state"),$=se("../internals/array-iteration").forEach,ee=Ge("hidden"),ne="Symbol",fe="prototype",se=T("toPrimitive"),he=Ze.set,ae=Ze.getterFor(ne),J=Object[fe],le=p.Symbol,ye=r("JSON","stringify"),ue=I.f,ge=B.f,be=P.f,Se=V.f,Ie=G("symbols"),Me=G("op-symbols"),$e=G("string-to-symbol-registry"),qe=G("symbol-to-string-registry"),Ge=G("wks"),Ze=p.QObject,ze=!Ze||!Ze[fe]||!Ze[fe].findChild,xe=a&&c(function(){return L(ge({},"a",{get:function(){return ge(this,"a",{value:7}).a}})).a!=7})?function(Z,oe,ve){var we=ue(J,oe);we&&delete J[oe],ge(Z,oe,ve),we&&Z!==J&&ge(J,oe,we)}:ge,Le=h?function(Z){return typeof Z=="symbol"}:function(Z){return Object(Z)instanceof le},Te=function(Z,oe,ve){return Z===J&&Te(Me,oe,ve),x(Z),oe=E(oe,!0),x(ve),(u(Ie,oe)?(ve.enumerable?(u(Z,ee)&&Z[ee][oe]&&(Z[ee][oe]=!1),ve=L(ve,{enumerable:C(0,!1)})):(u(Z,ee)||ge(Z,ee,C(1,{})),Z[ee][oe]=!0),xe):ge)(Z,oe,ve)},K=function(oe){var oe=E(oe,!0),ve=Se.call(this,oe);return!(this===J&&u(Ie,oe)&&!u(Me,oe))&&(!(ve||!u(this,oe)||!u(Ie,oe)||u(this,ee)&&this[ee][oe])||ve)},te=function(ve){var oe=ve===J,ve=be(oe?Me:w(ve)),we=[];return $(ve,function(Oe){!u(Ie,Oe)||oe&&!u(J,Oe)||we.push(Ie[Oe])}),we};i||(z((le=function(){if(this instanceof le)throw TypeError("Symbol is not a constructor");var Z=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,oe=ie(Z),ve=function(we){this===J&&ve.call(Me,we),u(this,ee)&&u(this[ee],oe)&&(this[ee][oe]=!1),xe(this,oe,C(1,we))};return a&&ze&&xe(J,oe,{configurable:!0,set:ve}),s(oe,Z)})[fe],"toString",function(){return ae(this).tag}),z(le,"withoutSetter",function(Z){return s(ie(Z),Z)}),V.f=K,B.f=Te,I.f=n,R.f=P.f=d,F.f=te,D.f=function(Z){return s(T(Z),Z)},a&&(ge(le[fe],"description",{configurable:!0,get:function(){return ae(this).description}}),o||z(J,"propertyIsEnumerable",K,{unsafe:!0}))),m({global:!0,wrap:!0,forced:!i,sham:!i},{Symbol:le}),$(k(Ge),function(Z){U(Z)}),m({target:ne,stat:!0,forced:!i},{for:function(ve){var oe,ve=String(ve);return u($e,ve)?$e[ve]:(oe=le(ve),$e[ve]=oe,qe[oe]=ve,oe)},keyFor:function(Z){if(!Le(Z))throw TypeError(Z+" is not a symbol");if(u(qe,Z))return qe[Z]},useSetter:function(){ze=!0},useSimple:function(){ze=!1}}),m({target:"Object",stat:!0,forced:!i,sham:!a},{create:function(Z,oe){return oe===void 0?L(Z):l(L(Z),oe)},defineProperty:Te,defineProperties:l,getOwnPropertyDescriptor:n}),m({target:"Object",stat:!0,forced:!i},{getOwnPropertyNames:d,getOwnPropertySymbols:te}),m({target:"Object",stat:!0,forced:c(function(){F.f(1)})},{getOwnPropertySymbols:function(Z){return F.f(M(Z))}}),ye&&m({target:"JSON",stat:!0,forced:!i||c(function(){var Z=le();return ye([Z])!="[null]"||ye({a:Z})!="{}"||ye(Object(Z))!="{}"})},{stringify:function(Z,oe,ve){for(var we,Oe=[Z],Be=1;Be<arguments.length;)Oe.push(arguments[Be++]);if((y(we=oe)||Z!==void 0)&&!Le(Z))return f(oe)||(oe=function(De,He){if(typeof we=="function"&&(He=we.call(this,De,He)),!Le(He))return He}),Oe[1]=oe,ye.apply(null,Oe)}}),le[fe][se]||H(le[fe],se,le[fe].valueOf),W(le,ne),Q[ee]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/define-well-known-symbol":42,"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/get-built-in":57,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/internal-state":71,"../internals/is-array":73,"../internals/is-object":75,"../internals/is-pure":76,"../internals/native-symbol":84,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-names-external":95,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/shared":122,"../internals/shared-key":120,"../internals/to-indexed-object":136,"../internals/to-object":139,"../internals/to-primitive":142,"../internals/uid":147,"../internals/use-symbol-as-uid":148,"../internals/well-known-symbol":150,"../internals/well-known-symbol-wrapped":149}],213:[function(t,_,b){var s=t("../internals/array-buffer-view-core"),l=t("../internals/array-copy-within"),n=s.aTypedArray;(0,s.exportTypedArrayMethod)("copyWithin",function(d,m){return l.call(n(this),d,m,2<arguments.length?arguments[2]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],214:[function(t,_,b){var s=t("../internals/array-buffer-view-core"),l=t("../internals/array-iteration").every,n=s.aTypedArray;(0,s.exportTypedArrayMethod)("every",function(d){return l(n(this),d,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],215:[function(t,_,b){var s=t("../internals/array-buffer-view-core"),l=t("../internals/array-fill"),n=s.aTypedArray;(0,s.exportTypedArrayMethod)("fill",function(d){return l.apply(n(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],216:[function(t,_,b){var s=t("../internals/array-buffer-view-core"),l=t("../internals/array-iteration").filter,n=t("../internals/species-constructor"),d=s.aTypedArray,m=s.aTypedArrayConstructor;(0,s.exportTypedArrayMethod)("filter",function(p){for(var r=l(d(this),p,1<arguments.length?arguments[1]:void 0),p=n(this,this.constructor),o=0,a=r.length,i=new(m(p))(a);o<a;)i[o]=r[o++];return i})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":123}],217:[function(t,_,b){var s=t("../internals/array-buffer-view-core"),l=t("../internals/array-iteration").findIndex,n=s.aTypedArray;(0,s.exportTypedArrayMethod)("findIndex",function(d){return l(n(this),d,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],218:[function(t,_,b){var s=t("../internals/array-buffer-view-core"),l=t("../internals/array-iteration").find,n=s.aTypedArray;(0,s.exportTypedArrayMethod)("find",function(d){return l(n(this),d,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],219:[function(t,_,b){t("../internals/typed-array-constructor")("Float32",function(s){return function(l,n,d){return s(this,l,n,d)}})},{"../internals/typed-array-constructor":144}],220:[function(t,_,b){t("../internals/typed-array-constructor")("Float64",function(s){return function(l,n,d){return s(this,l,n,d)}})},{"../internals/typed-array-constructor":144}],221:[function(t,_,b){var s=t("../internals/array-buffer-view-core"),l=t("../internals/array-iteration").forEach,n=s.aTypedArray;(0,s.exportTypedArrayMethod)("forEach",function(d){l(n(this),d,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],222:[function(t,_,b){var s=t("../internals/array-buffer-view-core"),l=t("../internals/array-includes").includes,n=s.aTypedArray;(0,s.exportTypedArrayMethod)("includes",function(d){return l(n(this),d,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],223:[function(t,_,b){var s=t("../internals/array-buffer-view-core"),l=t("../internals/array-includes").indexOf,n=s.aTypedArray;(0,s.exportTypedArrayMethod)("indexOf",function(d){return l(n(this),d,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],224:[function(t,_,b){t("../internals/typed-array-constructor")("Int16",function(s){return function(l,n,d){return s(this,l,n,d)}})},{"../internals/typed-array-constructor":144}],225:[function(t,_,b){t("../internals/typed-array-constructor")("Int32",function(s){return function(l,n,d){return s(this,l,n,d)}})},{"../internals/typed-array-constructor":144}],226:[function(l,_,b){function s(){return n.call(p(this))}var a=l("../internals/global"),o=l("../internals/array-buffer-view-core"),r=l("../modules/es.array.iterator"),l=l("../internals/well-known-symbol")("iterator"),a=a.Uint8Array,n=r.values,d=r.keys,m=r.entries,p=o.aTypedArray,r=o.exportTypedArrayMethod,o=a&&a.prototype[l],a=!!o&&(o.name=="values"||o.name==null);r("entries",function(){return m.call(p(this))}),r("keys",function(){return d.call(p(this))}),r("values",s,!a),r(l,s,!a)},{"../internals/array-buffer-view-core":12,"../internals/global":60,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],227:[function(l,_,b){var l=l("../internals/array-buffer-view-core"),s=l.aTypedArray,l=l.exportTypedArrayMethod,n=[].join;l("join",function(d){return n.apply(s(this),arguments)})},{"../internals/array-buffer-view-core":12}],228:[function(t,_,b){var s=t("../internals/array-buffer-view-core"),l=t("../internals/array-last-index-of"),n=s.aTypedArray;(0,s.exportTypedArrayMethod)("lastIndexOf",function(d){return l.apply(n(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],229:[function(t,_,b){var s=t("../internals/array-buffer-view-core"),l=t("../internals/array-iteration").map,n=t("../internals/species-constructor"),d=s.aTypedArray,m=s.aTypedArrayConstructor;(0,s.exportTypedArrayMethod)("map",function(p){return l(d(this),p,1<arguments.length?arguments[1]:void 0,function(r,o){return new(m(n(r,r.constructor)))(o)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":123}],230:[function(t,_,b){var s=t("../internals/array-buffer-view-core"),l=t("../internals/array-reduce").right,n=s.aTypedArray;(0,s.exportTypedArrayMethod)("reduceRight",function(d){return l(n(this),d,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],231:[function(t,_,b){var s=t("../internals/array-buffer-view-core"),l=t("../internals/array-reduce").left,n=s.aTypedArray;(0,s.exportTypedArrayMethod)("reduce",function(d){return l(n(this),d,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],232:[function(l,_,b){var l=l("../internals/array-buffer-view-core"),s=l.aTypedArray,l=l.exportTypedArrayMethod,n=Math.floor;l("reverse",function(){for(var d,m=s(this).length,p=n(m/2),r=0;r<p;)d=this[r],this[r++]=this[--m],this[m]=d;return this})},{"../internals/array-buffer-view-core":12}],233:[function(m,_,b){var s=m("../internals/array-buffer-view-core"),l=m("../internals/to-length"),n=m("../internals/to-offset"),d=m("../internals/to-object"),m=m("../internals/fails"),p=s.aTypedArray;(0,s.exportTypedArrayMethod)("set",function(r){p(this);var o=n(1<arguments.length?arguments[1]:void 0,1),a=this.length,i=d(r),h=l(i.length),c=0;if(a<h+o)throw RangeError("Wrong length");for(;c<h;)this[o+c]=i[c++]},m(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/to-length":138,"../internals/to-object":139,"../internals/to-offset":140}],234:[function(l,_,b){var m=l("../internals/array-buffer-view-core"),s=l("../internals/species-constructor"),l=l("../internals/fails"),n=m.aTypedArray,d=m.aTypedArrayConstructor,m=m.exportTypedArrayMethod,p=[].slice;m("slice",function(r,o){for(var a=p.call(n(this),r,o),r=s(this,this.constructor),i=0,h=a.length,c=new(d(r))(h);i<h;)c[i]=a[i++];return c},l(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/species-constructor":123}],235:[function(t,_,b){var s=t("../internals/array-buffer-view-core"),l=t("../internals/array-iteration").some,n=s.aTypedArray;(0,s.exportTypedArrayMethod)("some",function(d){return l(n(this),d,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],236:[function(l,_,b){var l=l("../internals/array-buffer-view-core"),s=l.aTypedArray,l=l.exportTypedArrayMethod,n=[].sort;l("sort",function(d){return n.call(s(this),d)})},{"../internals/array-buffer-view-core":12}],237:[function(t,_,b){var s=t("../internals/array-buffer-view-core"),l=t("../internals/to-length"),n=t("../internals/to-absolute-index"),d=t("../internals/species-constructor"),m=s.aTypedArray;(0,s.exportTypedArrayMethod)("subarray",function(i,r){var o=m(this),a=o.length,i=n(i,a);return new(d(o,o.constructor))(o.buffer,o.byteOffset+i*o.BYTES_PER_ELEMENT,l((r===void 0?a:n(r,a))-i))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":123,"../internals/to-absolute-index":134,"../internals/to-length":138}],238:[function(l,_,b){var m=l("../internals/global"),s=l("../internals/array-buffer-view-core"),l=l("../internals/fails"),n=m.Int8Array,d=s.aTypedArray,m=s.exportTypedArrayMethod,p=[].toLocaleString,r=[].slice,o=!!n&&l(function(){p.call(new n(1))});m("toLocaleString",function(){return p.apply(o?r.call(d(this)):d(this),arguments)},l(function(){return[1,2].toLocaleString()!=new n([1,2]).toLocaleString()})||!l(function(){n.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],239:[function(l,_,b){var s=l("../internals/array-buffer-view-core").exportTypedArrayMethod,m=l("../internals/fails"),l=l("../internals/global").Uint8Array,l=l&&l.prototype||{},n=[].toString,d=[].join,m=(m(function(){n.call({})})&&(n=function(){return d.call(this)}),l.toString!=n);s("toString",n,m)},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],240:[function(t,_,b){t("../internals/typed-array-constructor")("Uint16",function(s){return function(l,n,d){return s(this,l,n,d)}})},{"../internals/typed-array-constructor":144}],241:[function(t,_,b){t("../internals/typed-array-constructor")("Uint32",function(s){return function(l,n,d){return s(this,l,n,d)}})},{"../internals/typed-array-constructor":144}],242:[function(t,_,b){t("../internals/typed-array-constructor")("Uint8",function(s){return function(l,n,d){return s(this,l,n,d)}})},{"../internals/typed-array-constructor":144}],243:[function(t,_,b){t("../internals/typed-array-constructor")("Uint8",function(s){return function(l,n,d){return s(this,l,n,d)}},!0)},{"../internals/typed-array-constructor":144}],244:[function(u,x,b){function s(M){return function(){return M(this,arguments.length?arguments[0]:void 0)}}var l,n,d,m,p,f=u("../internals/global"),r=u("../internals/redefine-all"),o=u("../internals/internal-metadata"),a=u("../internals/collection"),i=u("../internals/collection-weak"),h=u("../internals/is-object"),c=u("../internals/internal-state").enforce,u=u("../internals/native-weak-map"),f=!f.ActiveXObject&&"ActiveXObject"in f,y=Object.isExtensible,x=x.exports=a("WeakMap",s,i);u&&f&&(l=i.getConstructor(s,"WeakMap",!0),o.REQUIRED=!0,a=x.prototype,n=a.delete,d=a.has,m=a.get,p=a.set,r(a,{delete:function(M){var w;return h(M)&&!y(M)?((w=c(this)).frozen||(w.frozen=new l),n.call(this,M)||w.frozen.delete(M)):n.call(this,M)},has:function(M){var w;return h(M)&&!y(M)?((w=c(this)).frozen||(w.frozen=new l),d.call(this,M)||w.frozen.has(M)):d.call(this,M)},get:function(M){var w;return!h(M)||y(M)||((w=c(this)).frozen||(w.frozen=new l),d.call(this,M))?m.call(this,M):w.frozen.get(M)},set:function(M,w){var E;return!h(M)||y(M)||((E=c(this)).frozen||(E.frozen=new l),d.call(this,M))?p.call(this,M,w):E.frozen.set(M,w),this}}))},{"../internals/collection":32,"../internals/collection-weak":31,"../internals/global":60,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/redefine-all":109}],245:[function(t,_,b){var s,l=t("../internals/global"),n=t("../internals/dom-iterables"),d=t("../internals/array-for-each"),m=t("../internals/create-non-enumerable-property");for(s in n){var p=l[s],p=p&&p.prototype;if(p&&p.forEach!==d)try{m(p,"forEach",d)}catch{p.forEach=d}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60}],246:[function(p,_,b){var s,l=p("../internals/global"),n=p("../internals/dom-iterables"),d=p("../modules/es.array.iterator"),m=p("../internals/create-non-enumerable-property"),p=p("../internals/well-known-symbol"),r=p("iterator"),o=p("toStringTag"),a=d.values;for(s in n){var i=l[s],h=i&&i.prototype;if(h){if(h[r]!==a)try{m(h,r,a)}catch{h[r]=a}if(h[o]||m(h,o,s),n[s]){for(var c in d)if(h[c]!==d[c])try{m(h,c,d[c])}catch{h[c]=d[c]}}}}},{"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],247:[function(ee,_,b){ee("../modules/es.array.iterator");function s(ne){try{return decodeURIComponent(ne)}catch{return ne}}function l(ne){return U[ne]}function n(ne){return encodeURIComponent(ne).replace(D,l)}function d(ne){this.entries.length=0,W(this.entries,ne)}function m(ne,fe){if(ne<fe)throw TypeError("Not enough arguments")}function p(){f(this,p,B);var ne,fe,se,he,ae,J,le,ye,ue=0<arguments.length?arguments[0]:void 0,ge=[];if(H(this,{type:B,entries:ge,updateURL:function(){},updateSearchParams:d}),ue!==void 0)if(E(ue))if(typeof(ne=R(ue))=="function")for(se=(fe=ne.call(ue)).next;!(he=se.call(fe)).done;){if((J=(ae=(he=k(w(he.value))).next).call(he)).done||(le=ae.call(he)).done||!ae.call(he).done)throw TypeError("Expected sequence with length 2");ge.push({key:J.value+"",value:le.value+""})}else for(ye in ue)y(ue,ye)&&ge.push({key:ye,value:ue[ye]+""});else W(ge,typeof ue=="string"?ue.charAt(0)==="?"?ue.slice(1):ue:ue+"")}var r=ee("../internals/export"),I=ee("../internals/get-built-in"),o=ee("../internals/native-url"),a=ee("../internals/redefine"),i=ee("../internals/redefine-all"),h=ee("../internals/set-to-string-tag"),c=ee("../internals/create-iterator-constructor"),u=ee("../internals/internal-state"),f=ee("../internals/an-instance"),y=ee("../internals/has"),x=ee("../internals/function-bind-context"),M=ee("../internals/classof"),w=ee("../internals/an-object"),E=ee("../internals/is-object"),C=ee("../internals/object-create"),L=ee("../internals/create-property-descriptor"),k=ee("../internals/get-iterator"),R=ee("../internals/get-iterator-method"),ee=ee("../internals/well-known-symbol"),P=I("fetch"),F=I("Headers"),I=ee("iterator"),B="URLSearchParams",V=B+"Iterator",H=u.set,z=u.getterFor(B),G=u.getterFor(V),Q=/\+/g,ie=Array(4),T=function(ne){var fe,se=ne.replace(Q," "),he=4;try{return decodeURIComponent(se)}catch{for(;he;)se=se.replace((fe=he--,ie[fe-1]||(ie[fe-1]=RegExp("((?:%[\\da-f]{2}){"+fe+"})","gi"))),s);return se}},D=/[!'()~]|%20/g,U={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},W=function(ne,fe){if(fe)for(var se,he=fe.split("&"),ae=0;ae<he.length;)(se=he[ae++]).length&&(se=se.split("="),ne.push({key:T(se.shift()),value:T(se.join("="))}))},$=c(function(ne,fe){H(this,{type:V,iterator:k(z(ne).entries),kind:fe})},"Iterator",function(){var fe=G(this),ne=fe.kind,fe=fe.iterator.next(),se=fe.value;return fe.done||(fe.value=ne==="keys"?se.key:ne==="values"?se.value:[se.key,se.value]),fe}),ee=p.prototype;i(ee,{append:function(ne,fe){m(arguments.length,2);var se=z(this);se.entries.push({key:ne+"",value:fe+""}),se.updateURL()},delete:function(ne){m(arguments.length,1);for(var fe=z(this),se=fe.entries,he=ne+"",ae=0;ae<se.length;)se[ae].key===he?se.splice(ae,1):ae++;fe.updateURL()},get:function(ne){m(arguments.length,1);for(var fe=z(this).entries,se=ne+"",he=0;he<fe.length;he++)if(fe[he].key===se)return fe[he].value;return null},getAll:function(ne){m(arguments.length,1);for(var fe=z(this).entries,se=ne+"",he=[],ae=0;ae<fe.length;ae++)fe[ae].key===se&&he.push(fe[ae].value);return he},has:function(ne){m(arguments.length,1);for(var fe=z(this).entries,se=ne+"",he=0;he<fe.length;)if(fe[he++].key===se)return!0;return!1},set:function(ne,fe){m(arguments.length,1);for(var se,he=z(this),ae=he.entries,J=!1,le=ne+"",ye=fe+"",ue=0;ue<ae.length;ue++)(se=ae[ue]).key===le&&(J?ae.splice(ue--,1):(J=!0,se.value=ye));J||ae.push({key:le,value:ye}),he.updateURL()},sort:function(){for(var ne,fe,se=z(this),he=se.entries,ae=he.slice(),J=he.length=0;J<ae.length;J++){for(ne=ae[J],fe=0;fe<J;fe++)if(he[fe].key>ne.key){he.splice(fe,0,ne);break}fe===J&&he.push(ne)}se.updateURL()},forEach:function(ne){for(var fe,se=z(this).entries,he=x(ne,1<arguments.length?arguments[1]:void 0,3),ae=0;ae<se.length;)he((fe=se[ae++]).value,fe.key,this)},keys:function(){return new $(this,"keys")},values:function(){return new $(this,"values")},entries:function(){return new $(this,"entries")}},{enumerable:!0}),a(ee,I,ee.entries),a(ee,"toString",function(){for(var ne,fe=z(this).entries,se=[],he=0;he<fe.length;)ne=fe[he++],se.push(n(ne.key)+"="+n(ne.value));return se.join("&")},{enumerable:!0}),h(p,B),r({global:!0,forced:!o},{URLSearchParams:p}),o||typeof P!="function"||typeof F!="function"||r({global:!0,enumerable:!0,forced:!0},{fetch:function(ae){var fe,se,he,ae=[ae];return 1<arguments.length&&(E(fe=arguments[1])&&(se=fe.body,M(se)===B&&((he=fe.headers?new F(fe.headers):new F).has("content-type")||he.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),fe=C(fe,{body:L(0,String(se)),headers:L(0,he)}))),ae.push(fe)),P.apply(this,ae)}}),_.exports={URLSearchParams:p,getState:z}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":37,"../internals/create-property-descriptor":39,"../internals/export":50,"../internals/function-bind-context":55,"../internals/get-built-in":57,"../internals/get-iterator":59,"../internals/get-iterator-method":58,"../internals/has":61,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-url":85,"../internals/object-create":91,"../internals/redefine":110,"../internals/redefine-all":109,"../internals/set-to-string-tag":119,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],248:[function(k,_,b){k("../modules/es.string.iterator");function s(pe){var Ue,Ye,Fe,pt;if(typeof pe=="number"){for(Ue=[],Ye=0;Ye<4;Ye++)Ue.unshift(pe%256),pe=V(pe/256);return Ue.join(".")}if(typeof pe!="object")return pe;for(Ue="",Fe=le(pe),Ye=0;Ye<8;Ye++)pt&&pe[Ye]===0||(pt=pt&&!1,Fe===Ye?(Ue+=Ye?":":"::",pt=!0):(Ue+=pe[Ye].toString(16),Ye<7&&(Ue+=":")));return"["+Ue+"]"}function l(pe){return!pe.host||pe.cannotBeABaseURL||pe.scheme=="file"}function n(pe,Ue,Ye,Fe){var pt,Re,_t,Qe=Ye||Le,yt=0,We="",Ot=!1,Yt=!1,Gt=!1;for(Ye||(pe.scheme="",pe.username="",pe.password="",pe.host=null,pe.port=null,pe.path=[],pe.query=null,pe.fragment=null,pe.cannotBeABaseURL=!1,Ue=Ue.replace(he,"")),Ue=Ue.replace(ae,""),pt=M(Ue);yt<=pt.length;){switch(Re=pt[yt],Qe){case Le:if(!Re||!T.test(Re)){if(Ye)return G;Qe=K;continue}We+=Re.toLowerCase(),Qe=Te;break;case Te:if(Re&&(D.test(Re)||Re=="+"||Re=="-"||Re=="."))We+=Re.toLowerCase();else{if(Re!=":"){if(Ye)return G;We="",Qe=K,yt=0;continue}if(Ye&&(Me(pe)!=y(Ie,We)||We=="file"&&($e(pe)||pe.port!==null)||pe.scheme=="file"&&!pe.host))return;if(pe.scheme=We,Ye)return void(Me(pe)&&Ie[pe.scheme]==pe.port&&(pe.port=null));We="",pe.scheme=="file"?Qe=ct:Me(pe)&&Fe&&Fe.scheme==pe.scheme?Qe=te:Me(pe)?Qe=we:pt[yt+1]=="/"?(Qe=Z,yt++):(pe.cannotBeABaseURL=!0,pe.path.push(""),Qe=Ct)}break;case K:if(!Fe||Fe.cannotBeABaseURL&&Re!="#")return G;if(Fe.cannotBeABaseURL&&Re=="#"){pe.scheme=Fe.scheme,pe.path=Fe.path.slice(),pe.query=Fe.query,pe.fragment="",pe.cannotBeABaseURL=!0,Qe=et;break}Qe=Fe.scheme=="file"?ct:oe;continue;case te:if(Re!="/"||pt[yt+1]!="/"){Qe=oe;continue}Qe=Oe,yt++;break;case Z:if(Re=="/"){Qe=Be;break}Qe=ot;continue;case oe:if(pe.scheme=Fe.scheme,Re==p)pe.username=Fe.username,pe.password=Fe.password,pe.host=Fe.host,pe.port=Fe.port,pe.path=Fe.path.slice(),pe.query=Fe.query;else if(Re=="/"||Re=="\\"&&Me(pe))Qe=ve;else if(Re=="?")pe.username=Fe.username,pe.password=Fe.password,pe.host=Fe.host,pe.port=Fe.port,pe.path=Fe.path.slice(),pe.query="",Qe=dt;else{if(Re!="#"){pe.username=Fe.username,pe.password=Fe.password,pe.host=Fe.host,pe.port=Fe.port,pe.path=Fe.path.slice(),pe.path.pop(),Qe=ot;continue}pe.username=Fe.username,pe.password=Fe.password,pe.host=Fe.host,pe.port=Fe.port,pe.path=Fe.path.slice(),pe.query=Fe.query,pe.fragment="",Qe=et}break;case ve:if(!Me(pe)||Re!="/"&&Re!="\\"){if(Re!="/"){pe.username=Fe.username,pe.password=Fe.password,pe.host=Fe.host,pe.port=Fe.port,Qe=ot;continue}Qe=Be}else Qe=Oe;break;case we:if(Qe=Oe,Re!="/"||We.charAt(yt+1)!="/")continue;yt++;break;case Oe:if(Re=="/"||Re=="\\")break;Qe=Be;continue;case Be:if(Re=="@"){Ot&&(We="%40"+We);for(var Ot=!0,Wt=M(We),or=0;or<Wt.length;or++){var dr=Wt[or];dr!=":"||Gt?(dr=Se(dr,be),Gt?pe.password+=dr:pe.username+=dr):Gt=!0}We=""}else if(Re==p||Re=="/"||Re=="?"||Re=="#"||Re=="\\"&&Me(pe)){if(Ot&&We=="")return z;yt-=M(We).length+1,We="",Qe=De}else We+=Re;break;case De:case He:if(Ye&&pe.scheme=="file"){Qe=Je;continue}if(Re!=":"||Yt){if(Re==p||Re=="/"||Re=="?"||Re=="#"||Re=="\\"&&Me(pe)){if(Me(pe)&&We=="")return Q;if(Ye&&We==""&&($e(pe)||pe.port!==null))return;if(_t=J(pe,We))return _t;if(We="",Qe=ft,Ye)return;continue}Re=="["?Yt=!0:Re=="]"&&(Yt=!1),We+=Re}else{if(We=="")return Q;if(_t=J(pe,We))return _t;if(We="",Qe=Xe,Ye==He)return}break;case Xe:if(!U.test(Re)){if(Re==p||Re=="/"||Re=="?"||Re=="#"||Re=="\\"&&Me(pe)||Ye){if(We!=""){var Or=parseInt(We,10);if(65535<Or)return ie;pe.port=Me(pe)&&Or===Ie[pe.scheme]?null:Or,We=""}if(Ye)return;Qe=ft;continue}return ie}We+=Re;break;case ct:if(pe.scheme="file",Re=="/"||Re=="\\")Qe=rt;else{if(!Fe||Fe.scheme!="file"){Qe=ot;continue}if(Re==p)pe.host=Fe.host,pe.path=Fe.path.slice(),pe.query=Fe.query;else if(Re=="?")pe.host=Fe.host,pe.path=Fe.path.slice(),pe.query="",Qe=dt;else{if(Re!="#"){Ge(pt.slice(yt).join(""))||(pe.host=Fe.host,pe.path=Fe.path.slice(),Ze(pe)),Qe=ot;continue}pe.host=Fe.host,pe.path=Fe.path.slice(),pe.query=Fe.query,pe.fragment="",Qe=et}}break;case rt:if(Re=="/"||Re=="\\"){Qe=Je;break}Fe&&Fe.scheme=="file"&&!Ge(pt.slice(yt).join(""))&&(qe(Fe.path[0],!0)?pe.path.push(Fe.path[0]):pe.host=Fe.host),Qe=ot;continue;case Je:if(Re==p||Re=="/"||Re=="\\"||Re=="?"||Re=="#"){if(!Ye&&qe(We))Qe=ot;else{if(We==""){if(pe.host="",Ye)return}else{if(_t=J(pe,We))return _t;if(pe.host=="localhost"&&(pe.host=""),Ye)return;We=""}Qe=ft}continue}We+=Re;break;case ft:if(Me(pe)){if(Qe=ot,Re!="/"&&Re!="\\")continue}else if(Ye||Re!="?")if(Ye||Re!="#"){if(Re!=p&&(Qe=ot,Re!="/"))continue}else pe.fragment="",Qe=et;else pe.query="",Qe=dt;break;case ot:if(Re==p||Re=="/"||Re=="\\"&&Me(pe)||!Ye&&(Re=="?"||Re=="#")){if(xe(We)?(Ze(pe),Re=="/"||Re=="\\"&&Me(pe)||pe.path.push("")):ze(We)?Re=="/"||Re=="\\"&&Me(pe)||pe.path.push(""):(pe.scheme=="file"&&!pe.path.length&&qe(We)&&(pe.host&&(pe.host=""),We=We.charAt(0)+":"),pe.path.push(We)),We="",pe.scheme=="file"&&(Re==p||Re=="?"||Re=="#"))for(;1<pe.path.length&&pe.path[0]==="";)pe.path.shift();Re=="?"?(pe.query="",Qe=dt):Re=="#"&&(pe.fragment="",Qe=et)}else We+=Se(Re,ge);break;case Ct:Re=="?"?(pe.query="",Qe=dt):Re=="#"?(pe.fragment="",Qe=et):Re!=p&&(pe.path[0]+=Se(Re,ye));break;case dt:Ye||Re!="#"?Re!=p&&(Re=="'"&&Me(pe)?pe.query+="%27":pe.query+=Re=="#"?"%23":Se(Re,ye)):(pe.fragment="",Qe=et);break;case et:Re!=p&&(pe.fragment+=Se(Re,ue))}yt++}}function d(Re){var Ue,Ye,Fe=f(this,d,"URL"),pt=1<arguments.length?arguments[1]:void 0,Re=String(Re),_t=I(Fe,{type:"URL"});if(pt!==void 0){if(pt instanceof d)Ue=B(pt);else if(Ye=n(Ue={},String(pt)))throw TypeError(Ye)}if(Ye=n(_t,Re,null,Ue))throw TypeError(Ye);var Qe=_t.searchParams=new P;(pt=F(Qe)).updateSearchParams(_t.query),pt.updateURL=function(){_t.query=String(Qe)||null},i||(Fe.href=Ve.call(Fe),Fe.origin=Ke.call(Fe),Fe.protocol=tt.call(Fe),Fe.username=at.call(Fe),Fe.password=vt.call(Fe),Fe.host=mt.call(Fe),Fe.hostname=Dt.call(Fe),Fe.port=er.call(Fe),Fe.pathname=Rt.call(Fe),Fe.search=At.call(Fe),Fe.searchParams=kt.call(Fe),Fe.hash=br.call(Fe))}function m(pe,Ue){return{get:pe,set:Ue,configurable:!0,enumerable:!0}}var p,r,o,a=k("../internals/export"),i=k("../internals/descriptors"),h=k("../internals/native-url"),it=k("../internals/global"),c=k("../internals/object-define-properties"),u=k("../internals/redefine"),f=k("../internals/an-instance"),y=k("../internals/has"),x=k("../internals/object-assign"),M=k("../internals/array-from"),w=k("../internals/string-multibyte").codeAt,E=k("../internals/string-punycode-to-ascii"),C=k("../internals/set-to-string-tag"),L=k("../modules/web.url-search-params"),k=k("../internals/internal-state"),R=it.URL,P=L.URLSearchParams,F=L.getState,I=k.set,B=k.getterFor("URL"),V=Math.floor,H=Math.pow,z="Invalid authority",G="Invalid scheme",Q="Invalid host",ie="Invalid port",T=/[A-Za-z]/,D=/[\d+-.A-Za-z]/,U=/\d/,W=/^(0x|0X)/,$=/^[0-7]+$/,ee=/^\d+$/,ne=/^[\dA-Fa-f]+$/,fe=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,se=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,he=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,ae=/[\u0009\u000A\u000D]/g,J=function(pe,Ue){var Ye,Fe,pt;if(Ue.charAt(0)=="[")return Ue.charAt(Ue.length-1)=="]"&&(Ye=function(Re){var _t=[0,0,0,0,0,0,0,0],Qe=0,yt=null,We=0,Ot,Yt,Gt,Wt,or,dr,Or,qt=function(){return Re.charAt(We)};if(qt()==":"){if(Re.charAt(1)!=":")return;We+=2,Qe++,yt=Qe}for(;qt();){if(Qe==8)return;if(qt()==":"){if(yt!==null)return;We++,Qe++,yt=Qe;continue}for(Ot=Yt=0;Yt<4&&ne.test(qt());)Ot=Ot*16+parseInt(qt(),16),We++,Yt++;if(qt()=="."){if(Yt==0||(We-=Yt,Qe>6))return;for(Gt=0;qt();){if(Wt=null,Gt>0)if(qt()=="."&&Gt<4)We++;else return;if(!U.test(qt()))return;for(;U.test(qt());){if(or=parseInt(qt(),10),Wt===null)Wt=or;else{if(Wt==0)return;Wt=Wt*10+or}if(Wt>255)return;We++}_t[Qe]=_t[Qe]*256+Wt,Gt++,(Gt==2||Gt==4)&&Qe++}if(Gt!=4)return;break}else if(qt()==":"){if(We++,!qt())return}else if(qt())return;_t[Qe++]=Ot}if(yt!==null)for(dr=Qe-yt,Qe=7;Qe!=0&&dr>0;)Or=_t[Qe],_t[Qe--]=_t[yt+dr-1],_t[yt+--dr]=Or;else if(Qe!=8)return;return _t}(Ue.slice(1,-1)))?void(pe.host=Ye):Q;if(Me(pe))return Ue=E(Ue),fe.test(Ue)||(Ye=function(Re){var _t=Re.split("."),Qe,yt,We,Ot,Yt,Gt,Wt;if(_t.length&&_t[_t.length-1]==""&&_t.pop(),(Qe=_t.length)>4)return Re;for(yt=[],We=0;We<Qe;We++){if(Ot=_t[We],Ot=="")return Re;if(Yt=10,Ot.length>1&&Ot.charAt(0)=="0"&&(Yt=W.test(Ot)?16:8,Ot=Ot.slice(Yt==8?1:2)),Ot==="")Gt=0;else{if(!(Yt==10?ee:Yt==8?$:ne).test(Ot))return Re;Gt=parseInt(Ot,Yt)}yt.push(Gt)}for(We=0;We<Qe;We++)if(Gt=yt[We],We==Qe-1){if(Gt>=H(256,5-Qe))return null}else if(Gt>255)return null;for(Wt=yt.pop(),We=0;We<yt.length;We++)Wt+=yt[We]*H(256,3-We);return Wt}(Ue))===null?Q:void(pe.host=Ye);if(se.test(Ue))return Q;for(Ye="",Fe=M(Ue),pt=0;pt<Fe.length;pt++)Ye+=Se(Fe[pt],ye);pe.host=Ye},le=function(pe){for(var Ue=null,Ye=1,Fe=null,pt=0,Re=0;Re<8;Re++)pe[Re]!==0?(Ye<pt&&(Ue=Fe,Ye=pt),Fe=null,pt=0):(Fe===null&&(Fe=Re),++pt);return Ye<pt&&(Ue=Fe,Ye=pt),Ue},ye={},ue=x({},ye,{" ":1,'"':1,"<":1,">":1,"`":1}),ge=x({},ue,{"#":1,"?":1,"{":1,"}":1}),be=x({},ge,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Se=function(pe,Ue){var Ye=w(pe,0);return 32<Ye&&Ye<127&&!y(Ue,pe)?pe:encodeURIComponent(pe)},Ie={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Me=function(pe){return y(Ie,pe.scheme)},$e=function(pe){return pe.username!=""||pe.password!=""},qe=function(pe,Ue){return pe.length==2&&T.test(pe.charAt(0))&&((pe=pe.charAt(1))==":"||!Ue&&pe=="|")},Ge=function(pe){return 1<pe.length&&qe(pe.slice(0,2))&&(pe.length==2||(pe=pe.charAt(2))==="/"||pe==="\\"||pe==="?"||pe==="#")},Ze=function(pe){var Ue=pe.path,Ye=Ue.length;!Ye||pe.scheme=="file"&&Ye==1&&qe(Ue[0],!0)||Ue.pop()},ze=function(pe){return pe==="."||pe.toLowerCase()==="%2e"},xe=function(pe){return(pe=pe.toLowerCase())===".."||pe==="%2e."||pe===".%2e"||pe==="%2e%2e"},Le={},Te={},K={},te={},Z={},oe={},ve={},we={},Oe={},Be={},De={},He={},Xe={},ct={},rt={},Je={},ft={},ot={},Ct={},dt={},et={},it=d.prototype,Ve=function(){var pe=B(this),Ue=pe.scheme,Ye=pe.username,Fe=pe.password,pt=pe.host,Re=pe.port,_t=pe.path,Qe=pe.query,yt=pe.fragment,We=Ue+":";return pt!==null?(We+="//",$e(pe)&&(We+=Ye+(Fe?":"+Fe:"")+"@"),We+=s(pt),Re!==null&&(We+=":"+Re)):Ue=="file"&&(We+="//"),We+=pe.cannotBeABaseURL?_t[0]:_t.length?"/"+_t.join("/"):"",Qe!==null&&(We+="?"+Qe),yt!==null&&(We+="#"+yt),We},Ke=function(){var pe=B(this),Ue=pe.scheme,Ye=pe.port;if(Ue=="blob")try{return new URL(Ue.path[0]).origin}catch{return"null"}return Ue!="file"&&Me(pe)?Ue+"://"+s(pe.host)+(Ye!==null?":"+Ye:""):"null"},tt=function(){return B(this).scheme+":"},at=function(){return B(this).username},vt=function(){return B(this).password},mt=function(){var Ue=B(this),pe=Ue.host,Ue=Ue.port;return pe===null?"":Ue===null?s(pe):s(pe)+":"+Ue},Dt=function(){var pe=B(this).host;return pe===null?"":s(pe)},er=function(){var pe=B(this).port;return pe===null?"":String(pe)},Rt=function(){var pe=B(this),Ue=pe.path;return pe.cannotBeABaseURL?Ue[0]:Ue.length?"/"+Ue.join("/"):""},At=function(){var pe=B(this).query;return pe?"?"+pe:""},kt=function(){return B(this).searchParams},br=function(){var pe=B(this).fragment;return pe?"#"+pe:""};i&&c(it,{href:m(Ve,function(Ye){var Ue=B(this),Ye=String(Ye),Ye=n(Ue,Ye);if(Ye)throw TypeError(Ye);F(Ue.searchParams).updateSearchParams(Ue.query)}),origin:m(Ke),protocol:m(tt,function(pe){var Ue=B(this);n(Ue,String(pe)+":",Le)}),username:m(at,function(pe){var Ue=B(this),Ye=M(String(pe));if(!l(Ue)){Ue.username="";for(var Fe=0;Fe<Ye.length;Fe++)Ue.username+=Se(Ye[Fe],be)}}),password:m(vt,function(pe){var Ue=B(this),Ye=M(String(pe));if(!l(Ue)){Ue.password="";for(var Fe=0;Fe<Ye.length;Fe++)Ue.password+=Se(Ye[Fe],be)}}),host:m(mt,function(pe){var Ue=B(this);Ue.cannotBeABaseURL||n(Ue,String(pe),De)}),hostname:m(Dt,function(pe){var Ue=B(this);Ue.cannotBeABaseURL||n(Ue,String(pe),He)}),port:m(er,function(pe){var Ue=B(this);l(Ue)||((pe=String(pe))==""?Ue.port=null:n(Ue,pe,Xe))}),pathname:m(Rt,function(pe){var Ue=B(this);Ue.cannotBeABaseURL||(Ue.path=[],n(Ue,pe+"",ft))}),search:m(At,function(pe){var Ue=B(this);(pe=String(pe))==""?Ue.query=null:(pe.charAt(0)=="?"&&(pe=pe.slice(1)),Ue.query="",n(Ue,pe,dt)),F(Ue.searchParams).updateSearchParams(Ue.query)}),searchParams:m(kt),hash:m(br,function(pe){var Ue=B(this);(pe=String(pe))==""?Ue.fragment=null:(pe.charAt(0)=="#"&&(pe=pe.slice(1)),Ue.fragment="",n(Ue,pe,et))})}),u(it,"toJSON",function(){return Ve.call(this)},{enumerable:!0}),u(it,"toString",function(){return Ve.call(this)},{enumerable:!0}),R&&(r=R.createObjectURL,o=R.revokeObjectURL,r&&u(d,"createObjectURL",function(pe){return r.apply(R,arguments)}),o&&u(d,"revokeObjectURL",function(pe){return o.apply(R,arguments)})),C(d,"URL"),a({global:!0,forced:!h,sham:!i},{URL:d})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/internal-state":71,"../internals/native-url":85,"../internals/object-assign":90,"../internals/object-define-properties":92,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/string-multibyte":125,"../internals/string-punycode-to-ascii":128,"../modules/es.string.iterator":200,"../modules/web.url-search-params":247}],249:[function(t,_,b){_.exports=t("./").polyfill()},{"./":250}],250:[function(t,_,b){(function(s,l){var n,d;n=this,d=function(){function m(J){return typeof J=="function"}var p=Array.isArray||function(J){return Object.prototype.toString.call(J)==="[object Array]"},r=0,o=void 0,a=void 0,i=function(J,le){x[r]=J,x[r+1]=le,(r+=2)===2&&(a?a(M):P())},h=typeof window<"u"?window:void 0,c=h||{},c=c.MutationObserver||c.WebKitMutationObserver,u=typeof self>"u"&&s!==void 0&&{}.toString.call(s)==="[object process]",f=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function y(){var J=setTimeout;return function(){return J(M,1)}}var x=new Array(1e3);function M(){for(var J=0;J<r;J+=2)(0,x[J])(x[J+1]),x[J]=void 0,x[J+1]=void 0;r=0}function w(){try{var J=Function("return this")().require("vertx");return(o=J.runOnLoop||J.runOnContext)!==void 0?function(){o(M)}:y()}catch{return y()}}var E,C,L,P=void 0;function k(J,le){var ye,ue=this,ge=new this.constructor(I),be=(ge[F]===void 0&&ne(ge),ue._state);return be?(ye=arguments[be-1],i(function(){return $(be,ge,ye,ue._result)})):U(ue,ge,J,le),ge}function R(J){var le;return J&&typeof J=="object"&&J.constructor===this?J:(Q(le=new this(I),J),le)}var P=u?function(){return s.nextTick(M)}:c?(C=0,u=new c(M),L=document.createTextNode(""),u.observe(L,{characterData:!0}),function(){L.data=C=++C%2}):f?((E=new MessageChannel).port1.onmessage=M,function(){return E.port2.postMessage(0)}):(h===void 0&&typeof t=="function"?w:y)(),F=Math.random().toString(36).substring(2);function I(){}var B=void 0,V=1,H=2;function z(J,le,ye){i(function(ue){var ge=!1,be=function(Se,Ie,Me,$e){try{Se.call(Ie,Me,$e)}catch(qe){return qe}}(ye,le,function(Se){ge||(ge=!0,(le!==Se?Q:T)(ue,Se))},function(Se){ge||(ge=!0,D(ue,Se))},ue._label);!ge&&be&&(ge=!0,D(ue,be))},J)}function G(J,le,ye){var ue,ge;le.constructor===J.constructor&&ye===k&&le.constructor.resolve===R?(ue=J,(ge=le)._state===V?T(ue,ge._result):ge._state===H?D(ue,ge._result):U(ge,void 0,function(be){return Q(ue,be)},function(be){return D(ue,be)})):ye!==void 0&&m(ye)?z(J,le,ye):T(J,le)}function Q(J,le){if(J===le)D(J,new TypeError("You cannot resolve a promise with itself"));else if(ye=typeof le,le===null||ye!="object"&&ye!="function")T(J,le);else{ye=void 0;try{ye=le.then}catch(ue){return void D(J,ue)}G(J,le,ye)}var ye}function ie(J){J._onerror&&J._onerror(J._result),W(J)}function T(J,le){J._state===B&&(J._result=le,J._state=V,J._subscribers.length!==0&&i(W,J))}function D(J,le){J._state===B&&(J._state=H,J._result=le,i(ie,J))}function U(J,le,ye,ue){var ge=J._subscribers,be=ge.length;J._onerror=null,ge[be]=le,ge[be+V]=ye,ge[be+H]=ue,be===0&&J._state&&i(W,J)}function W(J){var le=J._subscribers,ye=J._state;if(le.length!==0){for(var ue,ge=void 0,be=J._result,Se=0;Se<le.length;Se+=3)ue=le[Se],ge=le[Se+ye],ue?$(ye,ue,ge,be):ge(be);J._subscribers.length=0}}function $(J,le,ye,ue){var ge=m(ye),be=void 0,Se=void 0,Ie=!0;if(ge){try{be=ye(ue)}catch(Me){Ie=!1,Se=Me}if(le===be)return void D(le,new TypeError("A promises callback cannot return that same promise."))}else be=ue;le._state===B&&(ge&&Ie?Q(le,be):Ie===!1?D(le,Se):J===V?T(le,be):J===H&&D(le,be))}var ee=0;function ne(J){J[F]=ee++,J._state=void 0,J._result=void 0,J._subscribers=[]}se.prototype._enumerate=function(J){for(var le=0;this._state===B&&le<J.length;le++)this._eachEntry(J[le],le)},se.prototype._eachEntry=function(J,le){var ye=this._instanceConstructor,ue=ye.resolve;if(ue===R){var ge,be=void 0,Se=void 0,Ie=!1;try{be=J.then}catch(Me){Ie=!0,Se=Me}be===k&&J._state!==B?this._settledAt(J._state,le,J._result):typeof be!="function"?(this._remaining--,this._result[le]=J):ye===he?(ge=new ye(I),Ie?D(ge,Se):G(ge,J,be),this._willSettleAt(ge,le)):this._willSettleAt(new ye(function(Me){return Me(J)}),le)}else this._willSettleAt(ue(J),le)},se.prototype._settledAt=function(J,le,ye){var ue=this.promise;ue._state===B&&(this._remaining--,J===H?D(ue,ye):this._result[le]=ye),this._remaining===0&&T(ue,this._result)},se.prototype._willSettleAt=function(J,le){var ye=this;U(J,void 0,function(ue){return ye._settledAt(V,le,ue)},function(ue){return ye._settledAt(H,le,ue)})};var fe=se;function se(J,le){this._instanceConstructor=J,this.promise=new J(I),this.promise[F]||ne(this.promise),p(le)?(this.length=le.length,this._remaining=le.length,this._result=new Array(this.length),this.length!==0&&(this.length=this.length||0,this._enumerate(le),this._remaining!==0)||T(this.promise,this._result)):D(this.promise,new Error("Array Methods must be provided an Array"))}ae.prototype.catch=function(J){return this.then(null,J)},ae.prototype.finally=function(J){var le=this.constructor;return m(J)?this.then(function(ye){return le.resolve(J()).then(function(){return ye})},function(ye){return le.resolve(J()).then(function(){throw ye})}):this.then(J,J)};var he=ae;function ae(J){if(this[F]=ee++,this._result=this._state=void 0,this._subscribers=[],I!==J){if(typeof J!="function")throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof ae))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var le=this;try{J(function(ye){Q(le,ye)},function(ye){D(le,ye)})}catch(ye){D(le,ye)}}}return he.prototype.then=k,he.all=function(J){return new fe(this,J).promise},he.race=function(J){var le=this;return p(J)?new le(function(ye,ue){for(var ge=J.length,be=0;be<ge;be++)le.resolve(J[be]).then(ye,ue)}):new le(function(ye,ue){return ue(new TypeError("You must pass an array to race."))})},he.resolve=R,he.reject=function(J){var le=new this(I);return D(le,J),le},he._setScheduler=function(J){a=J},he._setAsap=function(J){i=J},he._asap=i,he.polyfill=function(){var J=void 0;if(l!==void 0)J=l;else if(typeof self<"u")J=self;else try{J=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var le=J.Promise;if(le){var ye=null;try{ye=Object.prototype.toString.call(le.resolve())}catch{}if(ye==="[object Promise]"&&!le.cast)return}J.Promise=he},he.Promise=he},typeof b=="object"&&_!==void 0?_.exports=d():n.ES6Promise=d()}).call(this,t("_process"),typeof ri<"u"?ri:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:259}],251:[function(t,_,b){var s,l;s=this,l=function(n,d){var m=5e3,p="callback";function r(a){try{delete window[a]}catch{window[a]=void 0}}function o(a){a=document.getElementById(a),a&&document.getElementsByTagName("head")[0].removeChild(a)}d.exports=function(a){var i=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],h=a,c=i.timeout||m,u=i.jsonpCallback||p,f=void 0;return new Promise(function(y,x){var M=i.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),w=u+"_"+M,E=(window[M]=function(C){y({ok:!0,json:function(){return Promise.resolve(C)}}),f&&clearTimeout(f),o(w),r(M)},h+=h.indexOf("?")===-1?"?":"&",document.createElement("script"));E.setAttribute("src",""+h+u+"="+M),i.charset&&E.setAttribute("charset",i.charset),E.id=w,document.getElementsByTagName("head")[0].appendChild(E),f=setTimeout(function(){x(new Error("JSONP request to "+a+" timed out")),r(M),o(w),window[M]=function(){r(M)}},c),E.onerror=function(){x(new Error("JSONP request to "+a+" failed")),r(M),o(w),f&&clearTimeout(f)}})}},b!==void 0&&_!==void 0?l(0,_):(l(l={exports:{}},l),s.fetchJsonp=l.exports)},{}],252:[function(t,_,b){var s=function(l){var n,d,m,p,r,o,a,i,h,c,u;if(!(l===void 0||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent)))return u=l.document,n=function(){return l.URL||l.webkitURL||l},d=u.createElementNS("http://www.w3.org/1999/xhtml","a"),m="download"in d,p=/constructor/i.test(l.HTMLElement)||l.safari,r=/CriOS\/[\d]+/.test(navigator.userAgent),o=function(f){(l.setImmediate||l.setTimeout)(function(){throw f},0)},a=4e4,i=function(f){setTimeout(function(){typeof f=="string"?n().revokeObjectURL(f):f.remove()},a)},h=function(f){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(f.type)?new Blob(["\uFEFF",f],{type:f.type}):f},u=(c=function(f,y,C){C||(f=h(f));var M,w,E=this,C=f.type==="application/octet-stream",L=function(){for(var k=E,R="writestart progress write writeend".split(" "),P=void 0,F=(R=[].concat(R)).length;F--;){var I=k["on"+R[F]];if(typeof I=="function")try{I.call(k,P||k)}catch(B){o(B)}}};E.readyState=E.INIT,m?(M=n().createObjectURL(f),setTimeout(function(){var k,R;d.href=M,d.download=y,k=d,R=new MouseEvent("click"),k.dispatchEvent(R),L(),i(M),E.readyState=E.DONE})):(r||C&&p)&&l.FileReader?((w=new FileReader).onloadend=function(){var k=r?w.result:w.result.replace(/^data:[^;]*;/,"data:attachment/file;");l.open(k,"_blank")||(l.location.href=k),k=void 0,E.readyState=E.DONE,L()},w.readAsDataURL(f),E.readyState=E.INIT):(M=M||n().createObjectURL(f),!C&&l.open(M,"_blank")||(l.location.href=M),E.readyState=E.DONE,L(),i(M))}).prototype,typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(f,y,x){return y=y||f.name||"download",x||(f=h(f)),navigator.msSaveOrOpenBlob(f,y)}:(u.abort=function(){},u.readyState=u.INIT=0,u.WRITING=1,u.DONE=2,u.error=u.onwritestart=u.onprogress=u.onwrite=u.onabort=u.onerror=u.onwriteend=null,function(f,y,x){return new c(f,y||f.name||"download",x)})}(typeof self<"u"&&self||typeof window<"u"&&window||this.content);_!==void 0&&_.exports?_.exports.saveAs=s:S!=null},{}],253:[function(t,_,b){var s,l=Object.defineProperty,n=(l(b,"__esModule",{value:!0}),b),d={GIFEncoder:()=>L,applyPalette:()=>function(B,V,H="rgb565"){if(!B||!B.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(B instanceof Uint8Array||B instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");if(256<V.length)throw new Error("applyPalette() only works with 256 colors or less");const z=new Uint32Array(B.buffer),G=z.length,Q=H==="rgb444"?4096:65536,ie=new Uint8Array(G),T=new Array(Q);if(H==="rgba4444")for(let ae=0;ae<G;ae++){var $=z[ae],D=$>>24&255,U=$>>16&255,W=$>>8&255,$=255&$,ee=i($,W,U,D),ee=ee in T?T[ee]:T[ee]=function(J,le,ye,ue,ge){let be=0,Se=1e100;for(let qe=0;qe<ge.length;qe++){var Ie,Me=ge[qe],$e=w(Me[3]-ue);$e>Se||(Ie=Me[0],($e+=w(Ie-J))>Se||(Ie=Me[1],($e+=w(Ie-le))>Se||(Ie=Me[2],($e+=w(Ie-ye))>Se||(Se=$e,be=qe))))}return be}($,W,U,D,V);ie[ae]=ee}else{const ae=H==="rgb444"?h:a;for(let J=0;J<G;J++){var se=z[J],ne=se>>16&255,fe=se>>8&255,se=255&se,he=ae(se,fe,ne),he=he in T?T[he]:T[he]=function(le,ye,ue,ge){let be=0,Se=1e100;for(let qe=0;qe<ge.length;qe++){var Ie,Me=ge[qe],$e=w(Me[0]-le);$e>Se||(Ie=Me[1],($e+=w(Ie-ye))>Se||(Ie=Me[2],($e+=w(Ie-ue))>Se||(Se=$e,be=qe)))}return be}(se,fe,ne,V);ie[J]=he}}return ie},default:()=>I,nearestColor:()=>function(B,V,H=x){return B[E(B,V,H)]},nearestColorIndex:()=>E,nearestColorIndexWithDistance:()=>C,prequantize:()=>function(B,{roundRGB:V=5,roundAlpha:H=10,oneBitAlpha:z=null}={}){const G=new Uint32Array(B.buffer);for(let U=0;U<G.length;U++){var D=G[U];let W=D>>24&255;var Q,ie=D>>16&255,T=D>>8&255,D=255&D;W=M(W,H),z&&(Q=typeof z=="number"?z:127,W=W<=Q?0:255),D=M(D,V),T=M(T,V),ie=M(ie,V),G[U]=W<<24|ie<<16|T<<8|D<<0}},quantize:()=>function(B,V,H={}){var{format:z="rgb565",clearAlpha:G=!0,clearAlphaColor:Q=0,clearAlphaThreshold:ie=0,oneBitAlpha:T=!1}=H;if(!B||!B.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(B instanceof Uint8Array||B instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");B=new Uint32Array(B.buffer);let D=H.useSqrt!==!1;const U=z==="rgba4444",W=function(Ge,Ze){const ze=Ze==="rgb444"?4096:65536,xe=new Array(ze),Le=Ge.length;if(Ze==="rgba4444")for(let rt=0;rt<Le;++rt){var Z=Ge[rt],Te=Z>>24&255,K=Z>>16&255,te=Z>>8&255,Z=255&Z,oe=i(Z,te,K,Te);let Je=oe in xe?xe[oe]:xe[oe]=y();Je.rc+=Z,Je.gc+=te,Je.bc+=K,Je.ac+=Te,Je.cnt++}else if(Ze==="rgb444")for(let rt=0;rt<Le;++rt){var Oe=Ge[rt],ve=Oe>>16&255,we=Oe>>8&255,Oe=255&Oe,Be=h(Oe,we,ve);let Je=Be in xe?xe[Be]:xe[Be]=y();Je.rc+=Oe,Je.gc+=we,Je.bc+=ve,Je.cnt++}else for(let rt=0;rt<Le;++rt){var Xe=Ge[rt],De=Xe>>16&255,He=Xe>>8&255,Xe=255&Xe,ct=a(Xe,He,De);let Je=ct in xe?xe[ct]:xe[ct]=y();Je.rc+=Xe,Je.gc+=He,Je.bc+=De,Je.cnt++}return xe}(B,z),$=W.length,ee=$-1,ne=new Uint32Array($+1);for(var fe=0,se=0;se<$;++se){const Ge=W[se];Ge!=null&&(Me=1/Ge.cnt,U&&(Ge.ac*=Me),Ge.rc*=Me,Ge.gc*=Me,Ge.bc*=Me,W[fe++]=Ge)}u(V)/fe<.022&&(D=!1);for(var he,ae,J,se=0;se<fe-1;++se)W[se].fw=se+1,W[se+1].bk=se,D&&(W[se].cnt=Math.sqrt(W[se].cnt));for(D&&(W[se].cnt=Math.sqrt(W[se].cnt)),se=0;se<fe;++se){f(W,se);var le=W[se].err;for(ae=++ne[0];1<ae&&(J=ae>>1,!(W[he=ne[J]].err<=le));ae=J)ne[ae]=he;ne[ae]=se}var ye,ue=fe-V;for(se=0;se<ue;){for(;;){var ge=ne[1];if((ye=W[ge]).tm>=ye.mtm&&W[ye.nn].mtm<=ye.tm)break;for(ye.mtm==ee?ge=ne[1]=ne[ne[0]--]:(f(W,ge),ye.tm=se),le=W[ge].err,ae=1;(J=ae+ae)<=ne[0]&&(J<ne[0]&&W[ne[J]].err>W[ne[J+1]].err&&J++,!(le<=W[he=ne[J]].err));ae=J)ne[ae]=he;ne[ae]=ge}var be=W[ye.nn],Se=ye.cnt,Ie=be.cnt,Me=1/(Se+Ie);U&&(ye.ac=Me*(Se*ye.ac+Ie*be.ac)),ye.rc=Me*(Se*ye.rc+Ie*be.rc),ye.gc=Me*(Se*ye.gc+Ie*be.gc),ye.bc=Me*(Se*ye.bc+Ie*be.bc),ye.cnt+=be.cnt,ye.mtm=++se,W[be.bk].fw=be.fw,W[be.fw].bk=be.bk,be.mtm=ee}let $e=[];for(se=0;;0){let Ge=c(Math.round(W[se].rc),0,255),Ze=c(Math.round(W[se].gc),0,255),ze=c(Math.round(W[se].bc),0,255),xe=255;U&&(xe=c(Math.round(W[se].ac),0,255),T&&(qe=typeof T=="number"?T:127,xe=xe<=qe?0:255),G&&xe<=ie&&(Ge=Ze=ze=Q,xe=0));var qe=U?[Ge,Ze,ze,xe]:[Ge,Ze,ze];if(function(Le,Te){for(let Z=0;Z<Le.length;Z++){var te=Le[Z],K=te[0]===Te[0]&&te[1]===Te[1]&&te[2]===Te[2],te=!(4<=te.length&&4<=Te.length)||te[3]===Te[3];if(K&&te)return!0}return!1}($e,qe)||$e.push(qe),(se=W[se].fw)==0)break}return $e},snapColorsToPalette:()=>function(B,V,H=5){if(B.length&&V.length){var z=B.map(D=>D.slice(0,3)),G=H*H,Q=B[0].length;for(let D=0;D<V.length;D++){let U=V[D];U=U.length<Q?[U[0],U[1],U[2],255]:U.length>Q?U.slice(0,3):U.slice();var T=C(z,U.slice(0,3),x),ie=T[0],T=T[1];0<T&&T<=G&&(B[ie]=U)}}}};for(s in d)l(n,s,{get:d[s],enumerable:!0});var m={signature:"GIF",version:"89a",trailer:59,extensionIntroducer:33,applicationExtensionLabel:255,graphicControlExtensionLabel:249,imageSeparator:44,signatureSize:3,versionSize:3,globalColorTableFlagMask:128,colorResolutionMask:112,sortFlagMask:8,globalColorTableSizeMask:7,applicationIdentifierSize:8,applicationAuthCodeSize:3,disposalMethodMask:28,userInputFlagMask:2,transparentColorFlagMask:1,localColorTableFlagMask:128,interlaceFlagMask:64,idSortFlagMask:32,localColorTableSizeMask:7};function p(B=256){let V=0,H=new Uint8Array(B);return{get buffer(){return H.buffer},reset(){V=0},bytesView(){return H.subarray(0,V)},bytes(){return H.slice(0,V)},writeByte(G){z(V+1),H[V]=G,V++},writeBytes(G,Q=0,ie=G.length){z(V+ie);for(let T=0;T<ie;T++)H[V++]=G[T+Q]},writeBytesView(G,Q=0,ie=G.byteLength){z(V+ie),H.set(G.subarray(Q,Q+ie),V),V+=ie}};function z(G){var Q=H.length;if(!(G<=Q)){G=Math.max(G,Q*(Q<1048576?2:1.125)>>>0),Q!=0&&(G=Math.max(G,256));const ie=H;H=new Uint8Array(G),0<V&&H.set(ie.subarray(0,V),0)}}}var r=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],o=function(B,V,H,U,G=p(512),Q=new Uint8Array(256),ie=new Int32Array(5003),T=new Int32Array(5003)){var D=ie.length,U=Math.max(2,U);Q.fill(0),T.fill(0),ie.fill(-1);let W=0,$=0;var ee=U+1;const ne=ee;let fe=!1,se=ne,he=(1<<se)-1;var ae=1<<ee-1;const J=1+ae;let le=2+ae,ye=0,ue=H[0],ge=0;for(let qe=D;qe<65536;qe*=2)++ge;ge=8-ge,G.writeByte(U),$e(ae);var be=H.length;for(let qe=1;qe<be;qe++)e:{var Se=H[qe],Ie=(Se<<12)+ue;let Ge=Se<<ge^ue;if(ie[Ge]===Ie)ue=T[Ge];else{for(var Me=Ge===0?1:D-Ge;0<=ie[Ge];)if((Ge-=Me)<0&&(Ge+=D),ie[Ge]===Ie){ue=T[Ge];break e}$e(ue),ue=Se,le<4096?(T[Ge]=le++,ie[Ge]=Ie):(ie.fill(-1),le=2+ae,fe=!0,$e(ae))}}return $e(ue),$e(J),G.writeByte(0),G.bytesView();function $e(qe){for(W&=r[$],0<$?W|=qe<<$:W=qe,$+=se;8<=$;)Q[ye++]=255&W,254<=ye&&(G.writeByte(ye),G.writeBytesView(Q,0,ye),ye=0),W>>=8,$-=8;if((le>he||fe)&&(fe?(se=ne,he=(1<<se)-1,fe=!1):(++se,he=se===12?1<<se:(1<<se)-1)),qe==J){for(;0<$;)Q[ye++]=255&W,254<=ye&&(G.writeByte(ye),G.writeBytesView(Q,0,ye),ye=0),W>>=8,$-=8;0<ye&&(G.writeByte(ye),G.writeBytesView(Q,0,ye),ye=0)}}};function a(B,V,H){return B<<8&63488|V<<2&992|H>>3}function i(B,V,H,z){return B>>4|240&V|(240&H)<<4|(240&z)<<8}function h(B,V,H){return B>>4<<8|240&V|H>>4}function c(B,V,H){return B<V?V:H<B?H:B}function u(B){return B*B}function f(B,V,H){var z=0,G=1e100;const Q=B[V];for(var ie=Q.cnt,T=Q.ac,D=Q.rc,U=Q.gc,W=Q.bc,$=Q.fw;$!=0;$=B[$].fw){var ee,ne=B[$],fe=ne.cnt,fe=ie*fe/(ie+fe);G<=fe||(ee=0,G<=(ee+=fe*u(ne.rc-D))||G<=(ee+=fe*u(ne.gc-U))||G<=(ee+=fe*u(ne.bc-W))||(G=ee,z=$))}Q.err=G,Q.nn=z}function y(){return{ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0}}function x(B,V){for(var H=0,z=0;z<B.length;z++){var G=B[z]-V[z];H+=G*G}return H}function M(B,V){return 1<V?Math.round(B/V)*V:B}function w(B){return B*B}function E(B,V,H=x){let z=1/0,G=-1;for(let ie=0;ie<B.length;ie++){var Q=H(V,B[ie]);Q<z&&(z=Q,G=ie)}return G}function C(B,V,H=x){let z=1/0,G=-1;for(let ie=0;ie<B.length;ie++){var Q=H(V,B[ie]);Q<z&&(z=Q,G=ie)}return[G,z]}function L(B={}){const{initialCapacity:V=4096,auto:H=!0}=B,z=p(V),G=new Uint8Array(256),Q=new Int32Array(5003),ie=new Int32Array(5003);let T=!1;return{reset(){z.reset(),T=!1},finish(){z.writeByte(m.trailer)},bytes(){return z.bytes()},bytesView(){return z.bytesView()},get buffer(){return z.buffer},get stream(){return z},writeHeader:D,writeFrame(U,W,$,ue={}){var{transparent:ne=!1,transparentIndex:fe=0,delay:Me=0,palette:se=null,repeat:be=0,colorDepth:he=8,dispose:ae=-1}=ue;let J=!1;if(H?T||(J=!0,D(),T=!0):J=!!ue.first,W=Math.max(0,Math.floor(W)),$=Math.max(0,Math.floor($)),J){if(!se)throw new Error("First frame must include a { palette } option");var[ue,Se,ye,Ie,ge=8]=[z,W,$,se,he];Ie=F(Ie.length)-1,ge=128|ge-1<<4|Ie,R(ue,Se),R(ue,ye),ue.writeBytes([ge,0,0]),k(z,se),0<=be&&(Ie=z,Se=be,Ie.writeByte(33),Ie.writeByte(255),Ie.writeByte(11),P(Ie,"NETSCAPE2.0"),Ie.writeByte(3),Ie.writeByte(1),R(Ie,Se),Ie.writeByte(0))}var le,ye=Math.round(Me/10),ue=z,ge=ae,be=ye,Se=ne,Ie=fe,Me=(ue.writeByte(33),ue.writeByte(249),ue.writeByte(4),Ie<0&&(Ie=0,Se=!1),Se=Se?(le=1,2):le=0,0<=ge&&(Se=7&ge),Se<<=2,ue.writeByte(0|Se|le),R(ue,be),ue.writeByte(Ie||0),ue.writeByte(0),!!se&&!J);ae=z,ne=W,fe=$,le=Me?se:null,ae.writeByte(44),R(ae,0),R(ae,0),R(ae,ne),R(ae,fe),le?(ne=F(le.length)-1,ae.writeByte(128|ne)):ae.writeByte(0),Me&&k(z,se),[be,ue,fe,ne,ae=8,Me,se,U]=[z,U,W,$,he,G,Q,ie],o(fe,ne,ue,ae,be,Me,se,U)}};function D(){P(z,"GIF89a")}}function k(B,V){var H=1<<F(V.length);for(let z=0;z<H;z++){let G=[0,0,0];z<V.length&&(G=V[z]),B.writeByte(G[0]),B.writeByte(G[1]),B.writeByte(G[2])}}function R(B,V){B.writeByte(255&V),B.writeByte(V>>8&255)}function P(B,V){for(var H=0;H<V.length;H++)B.writeByte(V.charCodeAt(H))}function F(B){return Math.max(Math.ceil(Math.log2(B)),1)}var I=L},{}],254:[function(t,_,b){b.read=function(s,l,n,d,f){var p,r,o=8*f-d-1,a=(1<<o)-1,i=a>>1,h=-7,c=n?f-1:0,u=n?-1:1,f=s[l+c];for(c+=u,p=f&(1<<-h)-1,f>>=-h,h+=o;0<h;p=256*p+s[l+c],c+=u,h-=8);for(r=p&(1<<-h)-1,p>>=-h,h+=d;0<h;r=256*r+s[l+c],c+=u,h-=8);if(p===0)p=1-i;else{if(p===a)return r?NaN:1/0*(f?-1:1);r+=Math.pow(2,d),p-=i}return(f?-1:1)*r*Math.pow(2,p-d)},b.write=function(s,l,n,d,m,y){var r,o,a=8*y-m-1,i=(1<<a)-1,h=i>>1,c=m===23?Math.pow(2,-24)-Math.pow(2,-77):0,u=d?0:y-1,f=d?1:-1,y=l<0||l===0&&1/l<0?1:0;for(l=Math.abs(l),isNaN(l)||l===1/0?(o=isNaN(l)?1:0,r=i):(r=Math.floor(Math.log(l)/Math.LN2),l*(d=Math.pow(2,-r))<1&&(r--,d*=2),2<=(l+=1<=r+h?c/d:c*Math.pow(2,1-h))*d&&(r++,d/=2),i<=r+h?(o=0,r=i):1<=r+h?(o=(l*d-1)*Math.pow(2,m),r+=h):(o=l*Math.pow(2,h-1)*Math.pow(2,m),r=0));8<=m;s[n+u]=255&o,u+=f,o/=256,m-=8);for(r=r<<m|o,a+=m;0<a;s[n+u]=255&r,u+=f,r/=256,a-=8);s[n+u-f]|=128*y}},{}],255:[function(t,_,b){var s;function l(K,te){return K.b===te.b&&K.a===te.a}function n(K,te){return K.b<te.b||K.b===te.b&&K.a<=te.a}function d(K,te,Z){var oe=te.b-K.b,ve=Z.b-te.b;return 0<oe+ve?oe<ve?te.a-K.a+oe/(oe+ve)*(K.a-Z.a):te.a-Z.a+ve/(oe+ve)*(Z.a-K.a):0}function m(K,te,Z){var oe=te.b-K.b,ve=Z.b-te.b;return 0<oe+ve?(te.a-Z.a)*oe+(te.a-K.a)*ve:0}function p(K,te){return K.a<te.a||K.a===te.a&&K.b<=te.b}function r(K,te,Z){var oe=te.a-K.a,ve=Z.a-te.a;return 0<oe+ve?oe<ve?te.b-K.b+oe/(oe+ve)*(K.b-Z.b):te.b-Z.b+ve/(oe+ve)*(Z.b-K.b):0}function o(K,te,Z){var oe=te.a-K.a,ve=Z.a-te.a;return 0<oe+ve?(te.b-Z.b)*oe+(te.b-K.b)*ve:0}function a(K,te,Z,oe){return(K=K<0?0:K)<=(Z=Z<0?0:Z)?Z===0?(te+oe)/2:te+K/(K+Z)*(oe-te):oe+Z/(K+Z)*(te-oe)}function i(K){var te=y(K.b);return M(te,K.c),M(te.b,K.c),w(te,K.a),te}function h(K,te){var Z=!1,oe=!1;K!==te&&(te.a!==K.a&&(oe=!0,C(te.a,K.a)),te.d!==K.d&&(Z=!0,L(te.d,K.d)),x(te,K),oe||(M(te,K.a),K.a.c=K),Z||(w(te,K.d),K.d.a=K))}function c(K){var te=K.b,Z=!1;K.d!==K.b.d&&(Z=!0,L(K.d,K.b.d)),K.c===K?C(K.a,null):(K.b.d.a=K.b.e,K.a.c=K.c,x(K,K.b.e),Z||w(K,K.d)),te.c===te?(C(te.a,null),L(te.d,null)):(K.d.a=te.b.e,te.a.c=te.c,x(te,te.b.e)),E(K)}function u(K){var te=y(K),Z=te.b;return x(te,K.e),te.a=K.b.a,M(Z,te.a),te.d=Z.d=K.d,te=te.b,x(K.b,K.b.b.e),x(K.b,te),K.b.a=te.a,te.b.a.c=te.b,te.b.d=K.b.d,te.f=K.f,te.b.f=K.b.f,te}function f(K,te){var Z=!1,oe=y(K),ve=oe.b;return te.d!==K.d&&(Z=!0,L(te.d,K.d)),x(oe,K.e),x(ve,te),oe.a=K.b.a,ve.a=te.a,oe.d=ve.d=K.d,K.d.a=ve,Z||w(oe,K.d),oe}function y(K){var te=new ye,Z=new ye,oe=K.b.h;return(((Z.h=oe).b.h=te).h=K).b.h=Z,te.b=Z,((te.c=te).e=Z).b=te,(Z.c=Z).e=te}function x(K,te){var Z=K.c,oe=te.c;Z.b.e=te,(oe.b.e=K).c=oe,te.c=Z}function M(K,te){var Z=te.f,oe=new ge(te,Z);for(Z.e=oe,Z=(te.f=oe).c=K;Z.a=oe,(Z=Z.c)!==K;);}function w(K,te){var Z=te.d,oe=new le(te,Z);for(Z.b=oe,(te.d=oe).a=K,oe.c=te.c,Z=K;Z.d=oe,(Z=Z.e)!==K;);}function E(K){var te=K.h;K=K.b.h,(te.b.h=K).b.h=te}function C(K,te){for(var Z=K.c,oe=Z;oe.a=te,(oe=oe.c)!==Z;);Z=K.f,((oe=K.e).f=Z).e=oe}function L(K,te){for(var Z=K.a,oe=Z;oe.d=te,(oe=oe.e)!==Z;);Z=K.d,((oe=K.b).d=Z).b=oe}function k(K){var te=0;return Math.abs(K[1])>Math.abs(K[0])&&(te=1),te=Math.abs(K[2])>Math.abs(K[te])?2:te}function R(K,te){K.f+=te.f,K.b.f+=te.b.f}function P(K,te,Z){return K=K.a,te=te.a,Z=Z.a,te.b.a===K?Z.b.a===K?n(te.a,Z.a)?m(Z.b.a,te.a,Z.a)<=0:0<=m(te.b.a,Z.a,te.a):m(Z.b.a,K,Z.a)<=0:Z.b.a===K?0<=m(te.b.a,K,te.a):(te=d(te.b.a,K,te.a),(K=d(Z.b.a,K,Z.a))<=te)}function F(K){K.a.i=null;var te=K.e;te.a.c=te.c,te.c.a=te.a,K.e=null}function I(K,te){c(K.a),K.c=!1,(K.a=te).i=K}function B(K){for(var te=K.a.a;(K=Te(K)).a.a===te;);return K.c&&(I(K,te=f(Le(K).a.b,K.a.e)),K=Te(K)),K}function V(K,te,Z){var oe=new xe;return oe.a=Z,oe.e=fe(K.f,te.e,oe),Z.i=oe}function H(K,te){switch(K.s){case 100130:return(1&te)!=0;case 100131:return te!==0;case 100132:return 0<te;case 100133:return te<0;case 100134:return 2<=te||te<=-2}return!1}function z(K){var te=K.a,Z=te.d;Z.c=K.d,Z.a=te,F(K)}function G(K,te,Z){for(te=(K=te).a;K!==Z;){K.c=!1;var oe=Le(K),ve=oe.a;if(ve.a!==te.a){if(!oe.c){z(K);break}I(oe,ve=f(te.c.b,ve.b))}te.c!==ve&&(h(ve.b.e,ve),h(te,ve)),z(K),te=oe.a,K=oe}return te}function Q(K,te,Z,oe,ve,we){for(var Oe=!0;V(K,te,Z.b),(Z=Z.c)!==oe;);for(ve===null&&(ve=Le(te).a.b.c);(Z=(oe=Le(te)).a.b).a===ve.a;)Z.c!==ve&&(h(Z.b.e,Z),h(ve.b.e,Z)),oe.f=te.f-Z.f,oe.d=H(K,oe.f),te.b=!0,!Oe&&U(K,te)&&(R(Z,ve),F(te),c(ve)),Oe=!1,te=oe,ve=Z;te.b=!0,we&&$(K,te)}function ie(K,te,Z,oe,ve){var we=[te.g[0],te.g[1],te.g[2]];te.d=null,te.d=K.o&&K.o(we,Z,oe,K.c)||null,te.d===null&&(ve?K.n||(J(K,100156),K.n=!0):te.d=Z[0])}function T(K,te,Z){var oe=[null,null,null,null];oe[0]=te.a.d,oe[1]=Z.a.d,ie(K,te.a,oe,[.5,.5,0,0],!1),h(te,Z)}function D(K,te,Z,oe,ve){var we=Math.abs(te.b-K.b)+Math.abs(te.a-K.a),Oe=Math.abs(Z.b-K.b)+Math.abs(Z.a-K.a),Be=ve+1;oe[ve]=.5*Oe/(we+Oe),oe[Be]=.5*we/(we+Oe),K.g[0]+=oe[ve]*te.g[0]+oe[Be]*Z.g[0],K.g[1]+=oe[ve]*te.g[1]+oe[Be]*Z.g[1],K.g[2]+=oe[ve]*te.g[2]+oe[Be]*Z.g[2]}function U(K,te){var Z=Le(te),oe=te.a,ve=Z.a;if(n(oe.a,ve.a)){if(0<m(ve.b.a,oe.a,ve.a))return;if(l(oe.a,ve.a)){if(oe.a!==ve.a){var Z=K.e,we=oe.a.h;if(0<=we){var Oe=(Z=Z.b).d,Be=Z.e,De=Z.c,He=De[we];Oe[He]=Oe[Z.a],(De[Oe[He]]=He)<=--Z.a&&(He<=1||n(Be[Oe[He>>1]],Be[Oe[He]])?Ze:ze)(Z,He),Be[we]=null,De[we]=Z.b,Z.b=we}else for(Z.c[-(we+1)]=null;0<Z.a&&Z.c[Z.d[Z.a-1]]===null;)--Z.a;T(K,ve.b.e,oe)}}else u(ve.b),h(oe,ve.b.e),te.b=Z.b=!0}else{if(m(oe.b.a,ve.a,oe.a)<0)return;Te(te).b=te.b=!0,u(oe.b),h(ve.b.e,oe)}return 1}function W(K,te){var Z=Le(te),oe=te.a,ve=Z.a,we=oe.a,Oe=ve.a,Be=oe.b.a,De=ve.b.a,He=new ge;if(m(Be,K.a,we),m(De,K.a,Oe),!(we===Oe||Math.min(we.a,Be.a)>Math.max(Oe.a,De.a))){if(n(we,Oe)){if(0<m(De,we,Oe))return}else if(m(Be,Oe,we)<0)return;var Xe,ct,rt=Be,Je=we,ft=De,ot=Oe;if(n(rt,Je)||(Xe=rt,rt=Je,Je=Xe),n(ft,ot)||(Xe=ft,ft=ot,ot=Xe),n(rt,ft)||(Xe=rt,rt=ft,ft=Xe,Xe=Je,Je=ot,ot=Xe),n(ft,Je)?n(Je,ot)?((Xe=d(rt,ft,Je))+(ct=d(ft,Je,ot))<0&&(Xe=-Xe,ct=-ct),He.b=a(Xe,ft.b,ct,Je.b)):((Xe=m(rt,ft,Je))+(ct=-m(rt,ot,Je))<0&&(Xe=-Xe,ct=-ct),He.b=a(Xe,ft.b,ct,ot.b)):He.b=(ft.b+Je.b)/2,p(rt,Je)||(Xe=rt,rt=Je,Je=Xe),p(ft,ot)||(Xe=ft,ft=ot,ot=Xe),p(rt,ft)||(Xe=rt,rt=ft,ft=Xe,Xe=Je,Je=ot,ot=Xe),p(ft,Je)?p(Je,ot)?((Xe=r(rt,ft,Je))+(ct=r(ft,Je,ot))<0&&(Xe=-Xe,ct=-ct),He.a=a(Xe,ft.a,ct,Je.a)):((Xe=o(rt,ft,Je))+(ct=-o(rt,ot,Je))<0&&(Xe=-Xe,ct=-ct),He.a=a(Xe,ft.a,ct,ot.a)):He.a=(ft.a+Je.a)/2,n(He,K.a)&&(He.b=K.a.b,He.a=K.a.a),rt=n(we,Oe)?we:Oe,n(rt,He)&&(He.b=rt.b,He.a=rt.a),l(He,we)||l(He,Oe))return U(K,te),0;if(!l(Be,K.a)&&0<=m(Be,K.a,He)||!l(De,K.a)&&m(De,K.a,He)<=0){if(De===K.a)u(oe.b),h(ve.b,oe),oe=Le(te=B(te)).a,G(K,Le(te),Z),Q(K,te,oe.b.e,oe,oe,!0);else{if(Be!==K.a)return 0<=m(Be,K.a,He)&&(Te(te).b=te.b=!0,u(oe.b),oe.a.b=K.a.b,oe.a.a=K.a.a),void(m(De,K.a,He)<=0&&(te.b=Z.b=!0,u(ve.b),ve.a.b=K.a.b,ve.a.a=K.a.a));for(u(ve.b),h(oe.e,ve.b.e),Oe=(we=Z=te).a.b.a;(we=Te(we)).a.b.a===Oe;);we=Le(te=we).a.b.c,Z.a=ve.b.e,Q(K,te,(ve=G(K,Z,null)).c,oe.b.c,we,!0)}return 1}u(oe.b),u(ve.b),h(ve.b.e,oe),oe.a.b=He.b,oe.a.a=He.a,oe.a.h=Se(K.e,oe.a),oe=oe.a,ve=[0,0,0,0],He=[we.d,Be.d,Oe.d,De.d],oe.g[0]=oe.g[1]=oe.g[2]=0,D(oe,we,Be,ve,0),D(oe,Oe,De,ve,2),ie(K,oe,He,ve,!0),Te(te).b=te.b=Z.b=!0}}function $(K,te){for(var Z=Le(te);;){for(;Z.b;)Z=Le(te=Z);if(!te.b&&((te=Te(Z=te))===null||!te.b))break;te.b=!1;var oe=te.a,ve=Z.a;if(we=oe.b.a!==ve.b.a)e:{var we,Oe=Le(we=te),Be=we.a,De=Oe.a,He=void 0;if(n(Be.b.a,De.b.a)){if(m(Be.b.a,De.b.a,Be.a)<0){we=!1;break e}Te(we).b=we.b=!0,He=u(Be),h(De.b,He),He.d.c=we.d}else{if(0<m(De.b.a,Be.b.a,De.a)){we=!1;break e}we.b=Oe.b=!0,He=u(De),h(Be.e,De.b),He.b.d.c=we.d}we=!0}if(we&&(Z.c?(F(Z),c(ve),ve=(Z=Le(te)).a):te.c&&(F(te),c(oe),oe=(te=Te(Z)).a)),oe.a!==ve.a){if(oe.b.a===ve.b.a||te.c||Z.c||oe.b.a!==K.a&&ve.b.a!==K.a)U(K,te);else if(W(K,te))break}oe.a===ve.a&&oe.b.a===ve.b.a&&(R(ve,oe),F(te),c(oe),te=Te(Z))}}function ee(K,te){var Z=new xe,oe=i(K.b);oe.a.b=4e150,oe.a.a=te,oe.b.a.b=-4e150,oe.b.a.a=te,K.a=oe.b.a,Z.a=oe,Z.f=0,Z.d=!1,Z.c=!1,Z.h=!0,Z.b=!1,oe=fe(oe=K.f,oe.a,Z),Z.e=oe}function ne(K){this.a=new se,this.b=K,this.c=P}function fe(K,te,Z){for(;(te=te.c).b!==null&&!K.c(K.b,te.b,Z););return K=new se(Z,te.a,te),te.a.c=K,te.a=K}function se(K,te,Z){this.b=K||null,this.a=te||this,this.c=Z||this}function he(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function ae(K,te){if(K.d!==te)for(;K.d!==te;)if(K.d<te)switch(K.d){case 0:J(K,100151),K.u(null);break;case 1:J(K,100152),K.t()}else switch(K.d){case 2:J(K,100154),K.v();break;case 1:J(K,100153),K.w()}}function J(K,te){K.p&&K.p(te,K.c)}function le(K,te){this.b=K||this,this.d=te||this,this.a=null,this.c=!1}function ye(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function ue(){this.c=new ge,this.a=new le,this.b=new ye,this.d=new ye,this.b.b=this.d,this.d.b=this.b}function ge(K,te){this.e=K||this,this.f=te||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function be(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new Me}function Se(K,te){var Z,oe,ve;return K.e?(2*(oe=++(Z=K.b).a)>Z.f&&(Z.f*=2,Z.c=$e(Z.c,Z.f+1)),Z.b===0?ve=oe:(ve=Z.b,Z.b=Z.c[Z.b]),Z.e[ve]=te,Z.c[ve]=oe,Z.d[oe]=ve,Z.h&&ze(Z,oe),ve):(Z=K.a++,K.c[Z]=te,-(Z+1))}function Ie(K){if(K.a===0)return Ge(K.b);var te=K.c[K.d[K.a-1]];if(K.b.a!==0&&n(qe(K.b),te))return Ge(K.b);for(;--K.a,0<K.a&&K.c[K.d[K.a-1]]===null;);return te}function Me(){this.d=$e([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function $e(K,te){for(var Z=Array(te),oe=0;oe<K.length;oe++)Z[oe]=K[oe];for(;oe<te;oe++)Z[oe]=0;return Z}function qe(K){return K.e[K.d[1]]}function Ge(K){var te=K.d,Z=K.e,oe=K.c,ve=te[1],we=Z[ve];return 0<K.a&&(te[1]=te[K.a],oe[te[1]]=1,Z[ve]=null,oe[ve]=K.b,K.b=ve,0<--K.a&&Ze(K,1)),we}function Ze(K,te){for(var Z=K.d,oe=K.e,ve=K.c,we=te,Oe=Z[we];;){var Be=we<<1,De=(Be<K.a&&n(oe[Z[Be+1]],oe[Z[Be]])&&(Be+=1),Z[Be]);if(Be>K.a||n(oe[Oe],oe[De])){ve[Z[we]=Oe]=we;break}ve[Z[we]=De]=we,we=Be}}function ze(K,te){for(var Z=K.d,oe=K.e,ve=K.c,we=te,Oe=Z[we];;){var Be=we>>1,De=Z[Be];if(Be==0||n(oe[De],oe[Oe])){ve[Z[we]=Oe]=we;break}ve[Z[we]=De]=we,we=Be}}function xe(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function Le(K){return K.e.c.b}function Te(K){return K.e.a.b}(s=he.prototype).x=function(){ae(this,0)},s.B=function(K,te){switch(K){case 100142:return;case 100140:switch(te){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=te)}break;case 100141:return void(this.m=!!te);default:return void J(this,100900)}J(this,100901)},s.y=function(K){switch(K){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:J(this,100900)}return!1},s.A=function(K,te,Z){this.j[0]=K,this.j[1]=te,this.j[2]=Z},s.z=function(K,te){var Z=te||null;switch(K){case 100100:case 100106:this.h=Z;break;case 100104:case 100110:this.l=Z;break;case 100101:case 100107:this.k=Z;break;case 100102:case 100108:this.i=Z;break;case 100103:case 100109:this.p=Z;break;case 100105:case 100111:this.o=Z;break;case 100112:this.r=Z;break;default:J(this,100900)}},s.C=function(K,te){var Z=!1,oe=[0,0,0];ae(this,2);for(var ve=0;ve<3;++ve){var we=K[ve];we<-1e150&&(we=-1e150,Z=!0),1e150<we&&(we=1e150,Z=!0),oe[ve]=we}Z&&J(this,100155),(Z=this.q)===null?h(Z=i(this.b),Z.b):(u(Z),Z=Z.e),Z.a.d=te,Z.a.g[0]=oe[0],Z.a.g[1]=oe[1],Z.a.g[2]=oe[2],Z.f=1,Z.b.f=-1,this.q=Z},s.u=function(K){ae(this,0),this.d=1,this.b=new ue,this.c=K},s.t=function(){ae(this,1),this.d=2,this.q=null},s.v=function(){ae(this,2),this.d=1},s.w=function(){ae(this,1),this.d=0;var K,te,Z=this.j[0],oe=this.j[1],ve=this.j[2],we=!1,Oe=[Z,oe,ve];if(Z===0&&oe===0&&ve===0){for(var oe=[-2e150,-2e150,-2e150],Be=[2e150,2e150,2e150],ve=[],De=[],Z=(we=this.b.c).e;Z!==we;Z=Z.e)for(var He=0;He<3;++He){var Xe=Z.g[He];Xe<Be[He]&&(Be[He]=Xe,De[He]=Z),Xe>oe[He]&&(oe[He]=Xe,ve[He]=Z)}if(oe[1]-Be[1]>oe[Z=0]-Be[0]&&(Z=1),Be[Z=oe[2]-Be[2]>oe[Z]-Be[Z]?2:Z]>=oe[Z])Oe[0]=0,Oe[1]=0,Oe[2]=1;else{for(Be=De[Z],ve=ve[Z],De=[oe=0,0,0],Be=[Be.g[0]-ve.g[0],Be.g[1]-ve.g[1],Be.g[2]-ve.g[2]],He=[0,0,0],Z=we.e;Z!==we;Z=Z.e)He[0]=Z.g[0]-ve.g[0],He[1]=Z.g[1]-ve.g[1],He[2]=Z.g[2]-ve.g[2],De[0]=Be[1]*He[2]-Be[2]*He[1],De[1]=Be[2]*He[0]-Be[0]*He[2],De[2]=Be[0]*He[1]-Be[1]*He[0],oe<(Xe=De[0]*De[0]+De[1]*De[1]+De[2]*De[2])&&(oe=Xe,Oe[0]=De[0],Oe[1]=De[1],Oe[2]=De[2]);oe<=0&&(Oe[0]=Oe[1]=Oe[2]=0,Oe[k(Be)]=1)}we=!0}for(De=k(Oe),Z=this.b.c,oe=(De+1)%3,ve=(De+2)%3,De=0<Oe[De]?1:-1,Oe=Z.e;Oe!==Z;Oe=Oe.e)Oe.b=Oe.g[oe],Oe.a=De*Oe.g[ve];if(we){for(Oe=0,Z=(we=this.b.a).b;Z!==we;Z=Z.b)if(!((oe=Z.a).f<=0))for(;Oe+=(oe.a.b-oe.b.a.b)*(oe.a.a+oe.b.a.a),(oe=oe.e)!==Z.a;);if(Oe<0)for(we=(Oe=this.b.c).e;we!==Oe;we=we.e)we.a=-we.a}for(this.n=!1,Oe=this.b.b,Z=Oe.h;Z!==Oe;Z=we)we=Z.h,oe=Z.e,l(Z.a,Z.b.a)&&Z.e.e!==Z&&(T(this,oe,Z),c(Z),oe=(Z=oe).e),oe.e===Z&&(oe!==Z&&(oe!==we&&oe!==we.b||(we=we.h),c(oe)),Z!==we&&Z!==we.b||(we=we.h),c(Z));for(this.e=Oe=new be,we=this.b.c,Z=we.e;Z!==we;Z=Z.e)Z.h=Se(Oe,Z);var ct=Oe;ct.d=[];for(var rt=0;rt<ct.a;rt++)ct.d[rt]=rt;ct.d.sort(function(ot){return function(Ct,dt){return n(ot[Ct],ot[dt])?1:-1}}(ct.c)),ct.e=!0;for(var Je=ct.b,ft=Je.a;1<=ft;--ft)Ze(Je,ft);for(Je.h=!0,this.f=new ne(this),ee(this,-4e150),ee(this,4e150);(Oe=Ie(this.e))!==null;){for(;;){e:if((Z=this.e).a===0)we=qe(Z.b);else if(we=Z.c[Z.d[Z.a-1]],Z.b.a!==0&&n(Z=qe(Z.b),we)){we=Z;break e}if(we===null||!l(we,Oe))break;we=Ie(this.e),T(this,Oe.c,we.c)}(function ot(Ct,dt){for(var et,it=(Ct.a=dt).c;it.i===null;)if((it=it.c)===dt.c){var it=Ct,Ve=dt;(vt=new xe).a=Ve.c.b;for(var mt=(Ke=it.f).a;(mt=mt.a).b!==null&&!Ke.c(Ke.b,vt,mt.b););var Ke,tt,at=Le(Ke=mt.b),vt=Ke.a,mt=at.a;return void(m(vt.b.a,Ve,vt.a)===0?l((vt=Ke.a).a,Ve)||l(vt.b.a,Ve)||(u(vt.b),Ke.c&&(c(vt.c),Ke.c=!1),h(Ve.c,vt),ot(it,Ve)):(tt=n(mt.b.a,vt.b.a)?Ke:at,at=void 0,Ke.d||tt.c?(at=tt===Ke?f(Ve.c.b,vt.e):f(mt.b.c.b,Ve.c).b,tt.c?I(tt,at):((Ke=V(vt=it,Ke,at)).f=Te(Ke).f+Ke.a.f,Ke.d=H(vt,Ke.f)),ot(it,Ve)):Q(it,Ke,Ve.c,Ve.c,null,!0)))}Ke=(vt=Le(it=B(it.i))).a,(vt=G(Ct,vt,null)).c===Ke?(vt=(Ke=vt).c,mt=Le(it),at=it.a,tt=mt.a,et=!1,at.b.a!==tt.b.a&&W(Ct,it),l(at.a,Ct.a)&&(h(vt.b.e,at),vt=Le(it=B(it)).a,G(Ct,Le(it),mt),et=!0),l(tt.a,Ct.a)&&(h(Ke,tt.b.e),Ke=G(Ct,mt,null),et=!0),et?Q(Ct,it,Ke.c,vt,vt,!0):(Ve=n(tt.a,at.a)?tt.b.e:at,Q(Ct,it,Ve=f(Ke.c.b,Ve),Ve.c,Ve.c,!1),Ve.b.i.c=!0,$(Ct,it))):Q(Ct,it,vt.c,Ke,Ke,!0)})(this,Oe)}for(this.a=this.f.a.a.b.a.a,Oe=0;(we=this.f.a.a.b)!==null;)we.h||++Oe,F(we);for(this.f=null,(Oe=this.e).b=null,Oe.d=null,this.e=Oe.c=null,Oe=this.b,Z=Oe.a.b;Z!==Oe.a;Z=we)we=Z.b,(Z=Z.a).e.e===Z&&(R(Z.c,Z),c(Z));if(!this.n){if(Oe=this.b,this.m)for(Z=Oe.b.h;Z!==Oe.b;Z=we)we=Z.h,Z.b.d.c!==Z.d.c?Z.f=Z.d.c?1:-1:c(Z);else for(Z=Oe.a.b;Z!==Oe.a;Z=we)if(we=Z.b,Z.c){for(Z=Z.a;n(Z.b.a,Z.a);Z=Z.c.b);for(;n(Z.a,Z.b.a);Z=Z.e);for(oe=Z.c.b,ve=void 0;Z.e!==oe;)if(n(Z.b.a,oe.a)){for(;oe.e!==Z&&(n((te=oe.e).b.a,te.a)||m(oe.a,oe.b.a,oe.e.b.a)<=0);)oe=(ve=f(oe.e,oe)).b;oe=oe.c.b}else{for(;oe.e!==Z&&(n((K=Z.c.b).a,K.b.a)||0<=m(Z.b.a,Z.a,Z.c.b.a));)Z=(ve=f(Z,Z.c.b)).b;Z=Z.e}for(;oe.e.e!==Z;)ve=f(oe.e,oe),oe=ve.b}if(this.h||this.i||this.k||this.l)if(this.m){for(we=(Oe=this.b).a.b;we!==Oe.a;we=we.b)if(we.c){for(this.h&&this.h(2,this.c),Z=we.a;this.k&&this.k(Z.a.d,this.c),(Z=Z.e)!==we.a;);this.i&&this.i(this.c)}}else{for(Oe=this.b,we=!!this.l,Z=!1,oe=-1,ve=Oe.a.d;ve!==Oe.a;ve=ve.d)if(ve.c)for(Z||(this.h&&this.h(4,this.c),Z=!0),De=ve.a;we&&(Be=De.b.d.c?0:1,oe!==Be&&(oe=Be,this.l&&this.l(!!oe,this.c))),this.k&&this.k(De.a.d,this.c),(De=De.e)!==ve.a;);Z&&this.i&&this.i(this.c)}if(this.r){for(Oe=this.b,Z=Oe.a.b;Z!==Oe.a;Z=we)if(we=Z.b,!Z.c){for(ve=(oe=Z.a).e,De=void 0;ve=(De=ve).e,(De.d=null)===De.b.d&&(De.c===De?C(De.a,null):(De.a.c=De.c,x(De,De.b.e)),(Be=De.b).c===Be?C(Be.a,null):(Be.a.c=Be.c,x(Be,Be.b.e)),E(De)),De!==oe;);oe=Z.d,((Z=Z.b).d=oe).b=Z}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:he,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},he.prototype.gluDeleteTess=he.prototype.x,he.prototype.gluTessProperty=he.prototype.B,he.prototype.gluGetTessProperty=he.prototype.y,he.prototype.gluTessNormal=he.prototype.A,he.prototype.gluTessCallback=he.prototype.z,he.prototype.gluTessVertex=he.prototype.C,he.prototype.gluTessBeginPolygon=he.prototype.u,he.prototype.gluTessBeginContour=he.prototype.t,he.prototype.gluTessEndContour=he.prototype.v,he.prototype.gluTessEndPolygon=he.prototype.w,_!==void 0&&(_.exports=this.libtess)},{}],256:[function(t,_,b){function s(n,d,m,p){var r=0,o=(p=p===void 0?{}:p).loop===void 0?null:p.loop,a=p.palette===void 0?null:p.palette;if(d<=0||m<=0||65535<d||65535<m)throw new Error("Width/Height invalid.");function i(w){if(w=w.length,w<2||256<w||w&w-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return w}n[r++]=71,n[r++]=73,n[r++]=70,n[r++]=56,n[r++]=57,n[r++]=97;var h=0,c=0;if(a!==null){for(var u=i(a);u>>=1;)++h;if(u=1<<h,--h,p.background!==void 0){if(u<=(c=p.background))throw new Error("Background index out of range.");if(c===0)throw new Error("Background index explicitly passed as 0.")}}if(n[r++]=255&d,n[r++]=d>>8&255,n[r++]=255&m,n[r++]=m>>8&255,n[r++]=(a!==null?128:0)|h,n[r++]=c,n[r++]=0,a!==null)for(var f=0,y=a.length;f<y;++f){var x=a[f];n[r++]=x>>16&255,n[r++]=x>>8&255,n[r++]=255&x}if(o!==null){if(o<0||65535<o)throw new Error("Loop count invalid.");n[r++]=33,n[r++]=255,n[r++]=11,n[r++]=78,n[r++]=69,n[r++]=84,n[r++]=83,n[r++]=67,n[r++]=65,n[r++]=80,n[r++]=69,n[r++]=50,n[r++]=46,n[r++]=48,n[r++]=3,n[r++]=1,n[r++]=255&o,n[r++]=o>>8&255,n[r++]=0}var M=!1;this.addFrame=function(w,E,C,L,k,R){if(M===!0&&(--r,M=!1),R=R===void 0?{}:R,w<0||E<0||65535<w||65535<E)throw new Error("x/y invalid.");if(C<=0||L<=0||65535<C||65535<L)throw new Error("Width/Height invalid.");if(k.length<C*L)throw new Error("Not enough pixels for the frame size.");var P=!0,F=R.palette;if(F==null&&(P=!1,F=a),F==null)throw new Error("Must supply either a local or global palette.");for(var B=i(F),I=0;B>>=1;)++I;var B=1<<I,V=R.delay===void 0?0:R.delay,H=R.disposal===void 0?0:R.disposal;if(H<0||3<H)throw new Error("Disposal out of range.");var z=!1,G=0;if(R.transparent!==void 0&&R.transparent!==null&&(z=!0,(G=R.transparent)<0||B<=G))throw new Error("Transparent color index.");if(H===0&&!z&&V===0||(n[r++]=33,n[r++]=249,n[r++]=4,n[r++]=H<<2|(z===!0?1:0),n[r++]=255&V,n[r++]=V>>8&255,n[r++]=G,n[r++]=0),n[r++]=44,n[r++]=255&w,n[r++]=w>>8&255,n[r++]=255&E,n[r++]=E>>8&255,n[r++]=255&C,n[r++]=C>>8&255,n[r++]=255&L,n[r++]=L>>8&255,n[r++]=P===!0?128|I-1:0,P===!0)for(var Q=0,ie=F.length;Q<ie;++Q){var T=F[Q];n[r++]=T>>16&255,n[r++]=T>>8&255,n[r++]=255&T}return r=function(D,U,W,$){D[U++]=W;var ee=U++,ne=1<<W,fe=ne-1,se=1+ne,he=1+se,ae=W+1,J=0,le=0;function ye(Ge){for(;Ge<=J;)D[U++]=255&le,le>>=8,J-=8,U===ee+256&&(D[ee]=255,ee=U++)}function ue(Ge){le|=Ge<<J,J+=ae,ye(8)}var ge=$[0]&fe,be={};ue(ne);for(var Se=1,Ie=$.length;Se<Ie;++Se){var Me=$[Se]&fe,$e=ge<<8|Me,qe=be[$e];if(qe===void 0){for(le|=ge<<J,J+=ae;8<=J;)D[U++]=255&le,le>>=8,J-=8,U===ee+256&&(D[ee]=255,ee=U++);he===4096?(ue(ne),he=1+se,ae=W+1,be={}):(1<<ae<=he&&++ae,be[$e]=he++),ge=Me}else ge=qe}return ue(ge),ue(se),ye(1),ee+1===U?D[ee]=0:(D[ee]=U-ee-1,D[U++]=0),U}(n,r,I<2?2:I,k)},this.end=function(){return M===!1&&(n[r++]=59,M=!0),r},this.getOutputBuffer=function(){return n},this.setOutputBuffer=function(w){n=w},this.getOutputBufferPosition=function(){return r},this.setOutputBufferPosition=function(w){r=w}}function l(n,d,m,p){for(var r=n[d++],o=1<<r,a=1+o,i=1+a,h=r+1,c=(1<<h)-1,u=0,f=0,y=0,x=n[d++],M=new Int32Array(4096),w=null;;){for(;u<16&&x!==0;)f|=n[d++]<<u,u+=8,x===1?x=n[d++]:--x;if(u<h)break;var E=f&c;if(f>>=h,u-=h,E==o)i=1+a,c=(1<<(h=r+1))-1,w=null;else{if(E==a)break;for(var C=E<i?E:w,L=0,k=C;o<k;)k=M[k]>>8,++L;var R=k;if(p<y+L+(C!==E?1:0))return void console.log("Warning, gif stream longer than expected.");m[y++]=R;var P=y+=L;for(C!==E&&(m[y++]=R),k=C;L--;)k=M[k],m[--P]=255&k,k>>=8;w!==null&&i<4096&&(M[i++]=w<<8|R,c+1<=i&&h<12&&(++h,c=c<<1|1)),w=E}}y!==p&&console.log("Warning, gif stream shorter than expected.")}try{b.GifWriter=s,b.GifReader=function(n){var d=0;if(n[d++]!==71||n[d++]!==73||n[d++]!==70||n[d++]!==56||(n[d++]+1&253)!=56||n[d++]!==97)throw new Error("Invalid GIF 87a/89a header.");var m=n[d++]|n[d++]<<8,p=n[d++]|n[d++]<<8,r=n[d++],o=1<<1+(7&r),a=(n[d++],n[d++],null),i=null,h=(r>>7&&(a=d,d+=3*(i=o)),!0),c=[],u=0,f=null,y=0,x=null;for(this.width=m,this.height=p;h&&d<n.length;)switch(n[d++]){case 33:switch(n[d++]){case 255:if(n[d]!==11||n[d+1]==78&&n[d+2]==69&&n[d+3]==84&&n[d+4]==83&&n[d+5]==67&&n[d+6]==65&&n[d+7]==80&&n[d+8]==69&&n[d+9]==50&&n[d+10]==46&&n[d+11]==48&&n[d+12]==3&&n[d+13]==1&&n[d+16]==0)d+=14,x=n[d++]|n[d++]<<8,d++;else for(d+=12;;){if(!(0<=(w=n[d++])))throw Error("Invalid block size");if(w===0)break;d+=w}break;case 249:if(n[d++]!==4||n[d+4]!==0)throw new Error("Invalid graphics extension block.");var M=n[d++],u=n[d++]|n[d++]<<8,f=n[d++];!(1&M)&&(f=null),y=M>>2&7,d++;break;case 254:for(;;){if(!(0<=(w=n[d++])))throw Error("Invalid block size");if(w===0)break;d+=w}break;default:throw new Error("Unknown graphic control label: 0x"+n[d-1].toString(16))}break;case 44:var w,E=n[d++]|n[d++]<<8,C=n[d++]|n[d++]<<8,L=n[d++]|n[d++]<<8,k=n[d++]|n[d++]<<8,V=n[d++],R=V>>6&1,P=1<<1+(7&V),F=a,I=i,B=!1,V=(V>>7&&(B=!0,F=d,d+=3*(I=P)),d);for(d++;;){if(!(0<=(w=n[d++])))throw Error("Invalid block size");if(w===0)break;d+=w}c.push({x:E,y:C,width:L,height:k,has_local_palette:B,palette_offset:F,palette_size:I,data_offset:V,data_length:d-V,transparent_index:f,interlaced:!!R,delay:u,disposal:y});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+n[d-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return x},this.frameInfo=function(H){if(H<0||H>=c.length)throw new Error("Frame index out of range.");return c[H]},this.decodeAndBlitFrameBGRA=function(H,z){for(var H=this.frameInfo(H),G=H.width*H.height,Q=new Uint8Array(G),ie=(l(n,H.data_offset,Q,G),H.palette_offset),T=H.transparent_index,D=(T===null&&(T=256),H.width),U=m-D,W=D,$=4*(H.y*m+H.x),ee=4*((H.y+H.height)*m+H.x),ne=$,fe=4*U,se=(H.interlaced===!0&&(fe+=4*m*7),8),he=0,ae=Q.length;he<ae;++he){var J,le,ye=Q[he];W===0&&(W=D,ee<=(ne+=fe)&&(fe=4*U+4*m*(se-1),ne=$+(D+U)*(se<<1),se>>=1)),ye===T?ne+=4:(J=n[ie+3*ye],le=n[ie+3*ye+1],ye=n[ie+3*ye+2],z[ne++]=ye,z[ne++]=le,z[ne++]=J,z[ne++]=255),--W}},this.decodeAndBlitFrameRGBA=function(H,z){for(var H=this.frameInfo(H),G=H.width*H.height,Q=new Uint8Array(G),ie=(l(n,H.data_offset,Q,G),H.palette_offset),T=H.transparent_index,D=(T===null&&(T=256),H.width),U=m-D,W=D,$=4*(H.y*m+H.x),ee=4*((H.y+H.height)*m+H.x),ne=$,fe=4*U,se=(H.interlaced===!0&&(fe+=4*m*7),8),he=0,ae=Q.length;he<ae;++he){var J,le,ye=Q[he];W===0&&(W=D,ee<=(ne+=fe)&&(fe=4*U+4*m*(se-1),ne=$+(D+U)*(se<<1),se>>=1)),ye===T?ne+=4:(J=n[ie+3*ye],le=n[ie+3*ye+1],ye=n[ie+3*ye+2],z[ne++]=J,z[ne++]=le,z[ne++]=ye,z[ne++]=255),--W}}}}catch{}},{}],257:[function(t,_,b){(function(s){var l,n;l=this,n=function(d){function m(N){if(this==null)throw TypeError();var j,O=String(this),A=O.length,N=N?Number(N):0;if(!((N=N!=N?0:N)<0||A<=N))return 55296<=(j=O.charCodeAt(N))&&j<=56319&&N+1<A&&56320<=(A=O.charCodeAt(N+1))&&A<=57343?1024*(j-55296)+A-56320+65536:j}String.prototype.codePointAt||((p=function(){try{var v={},j=Object.defineProperty,O=j(v,v,v)&&j}catch{}return O}())?p(String.prototype,"codePointAt",{value:m,configurable:!0,writable:!0}):String.prototype.codePointAt=m);var p,r=0,o=-3;function a(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function i(v,j){this.source=v,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=j,this.destLen=0,this.ltree=new a,this.dtree=new a}var h=new a,c=new a,u=new Uint8Array(30),f=new Uint16Array(30),y=new Uint8Array(30),x=new Uint16Array(30),M=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),w=new a,E=new Uint8Array(320);function C(v,j,O,A){for(var N,q=0;q<O;++q)v[q]=0;for(q=0;q<30-O;++q)v[q+O]=q/O|0;for(N=A,q=0;q<30;++q)j[q]=N,N+=1<<v[q]}var L=new Uint16Array(16);function k(v,j,O,A){for(var N,q=0;q<16;++q)v.table[q]=0;for(q=0;q<A;++q)v.table[j[O+q]]++;for(q=N=v.table[0]=0;q<16;++q)L[q]=N,N+=v.table[q];for(q=0;q<A;++q)j[O+q]&&(v.trans[L[j[O+q]]++]=q)}function R(v,j,O){if(!j)return O;for(;v.bitcount<24;)v.tag|=v.source[v.sourceIndex++]<<v.bitcount,v.bitcount+=8;var A=v.tag&65535>>>16-j;return v.tag>>>=j,v.bitcount-=j,A+O}function P(v,j){for(;v.bitcount<24;)v.tag|=v.source[v.sourceIndex++]<<v.bitcount,v.bitcount+=8;for(var O=0,A=0,N=0,q=v.tag;A=2*A+(1&q),q>>>=1,O+=j.table[++N],0<=(A-=j.table[N]););return v.tag=q,v.bitcount-=N,j.trans[O+A]}function F(v,j,O){for(;;){var A=P(v,j);if(A===256)return r;if(A<256)v.dest[v.destLen++]=A;else for(var N,q=R(v,u[A-=257],f[A]),A=P(v,O),Y=N=v.destLen-R(v,y[A],x[A]);Y<N+q;++Y)v.dest[v.destLen++]=v.dest[Y]}}for(var I=h,B=c,V=0;V<7;++V)I.table[V]=0;for(I.table[7]=24,I.table[8]=152,I.table[9]=112,V=0;V<24;++V)I.trans[V]=256+V;for(V=0;V<144;++V)I.trans[24+V]=V;for(V=0;V<8;++V)I.trans[168+V]=280+V;for(V=0;V<112;++V)I.trans[176+V]=144+V;for(V=0;V<5;++V)B.table[V]=0;for(B.table[5]=32,V=0;V<32;++V)B.trans[V]=V;C(u,f,4,3),C(y,x,2,1),u[28]=0,f[28]=258;var H=function(v,j){var O,A,N,q=new i(v,j);do{switch(N=void 0,(A=q).bitcount--||(A.tag=A.source[A.sourceIndex++],A.bitcount=7),N=1&A.tag,A.tag>>>=1,A=N,R(q,2,0)){case 0:O=function(Ce){for(var lt,bt;8<Ce.bitcount;)Ce.sourceIndex--,Ce.bitcount-=8;if((lt=256*Ce.source[Ce.sourceIndex+1]+Ce.source[Ce.sourceIndex])!==(65535&~(256*Ce.source[Ce.sourceIndex+3]+Ce.source[Ce.sourceIndex+2])))return o;for(Ce.sourceIndex+=4,bt=lt;bt;--bt)Ce.dest[Ce.destLen++]=Ce.source[Ce.sourceIndex++];return Ce.bitcount=0,r}(q);break;case 1:O=F(q,h,c);break;case 2:Ae=Pe=Ne=ke=Y=me=je=Ee=_e=ce=de=re=void 0;for(var Y,re=q,de=q.ltree,ce=q.dtree,_e=R(re,5,257),Ee=R(re,5,1),je=R(re,4,4),me=0;me<19;++me)E[me]=0;for(me=0;me<je;++me){var Ne=R(re,3,0);E[M[me]]=Ne}for(k(w,E,0,19),Y=0;Y<_e+Ee;){var Pe=P(re,w);switch(Pe){case 16:for(var Ae=E[Y-1],ke=R(re,2,3);ke;--ke)E[Y++]=Ae;break;case 17:for(ke=R(re,3,3);ke;--ke)E[Y++]=0;break;case 18:for(ke=R(re,7,11);ke;--ke)E[Y++]=0;break;default:E[Y++]=Pe}}k(de,E,0,_e),k(ce,E,_e,Ee),O=F(q,q.ltree,q.dtree);break;default:O=o}if(O!==r)throw new Error("Data error")}while(!A);return q.destLen<q.dest.length?typeof q.dest.slice=="function"?q.dest.slice(0,q.destLen):q.dest.subarray(0,q.destLen):q.dest};function z(v,j,O,A,N){return Math.pow(1-N,3)*v+3*Math.pow(1-N,2)*N*j+3*(1-N)*Math.pow(N,2)*O+Math.pow(N,3)*A}function G(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function Q(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function ie(v){throw new Error(v)}function T(v,j){v||ie(j)}G.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},G.prototype.addPoint=function(v,j){typeof v=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=v,this.x2=v),v<this.x1&&(this.x1=v),v>this.x2&&(this.x2=v)),typeof j=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=j,this.y2=j),j<this.y1&&(this.y1=j),j>this.y2&&(this.y2=j))},G.prototype.addX=function(v){this.addPoint(v,null)},G.prototype.addY=function(v){this.addPoint(null,v)},G.prototype.addBezier=function(v,j,O,A,N,q,Y,re){var de=[v,j],ce=[O,A],_e=[N,q],Ee=[Y,re];this.addPoint(v,j),this.addPoint(Y,re);for(var je=0;je<=1;je++){var me,Ne=6*de[je]-12*ce[je]+6*_e[je],Pe=-3*de[je]+9*ce[je]-9*_e[je]+3*Ee[je],Ae=3*ce[je]-3*de[je];Pe==0?Ne==0||0<(me=-Ae/Ne)&&me<1&&(je===0&&this.addX(z(de[je],ce[je],_e[je],Ee[je],me)),je===1&&this.addY(z(de[je],ce[je],_e[je],Ee[je],me))):(me=Math.pow(Ne,2)-4*Ae*Pe)<0||(0<(Ae=(-Ne+Math.sqrt(me))/(2*Pe))&&Ae<1&&(je===0&&this.addX(z(de[je],ce[je],_e[je],Ee[je],Ae)),je===1&&this.addY(z(de[je],ce[je],_e[je],Ee[je],Ae))),0<(Ae=(-Ne-Math.sqrt(me))/(2*Pe))&&Ae<1&&(je===0&&this.addX(z(de[je],ce[je],_e[je],Ee[je],Ae)),je===1&&this.addY(z(de[je],ce[je],_e[je],Ee[je],Ae))))}},G.prototype.addQuad=function(v,j,O,A,N,q){O=v+2/3*(O-v),A=j+2/3*(A-j),this.addBezier(v,j,O,A,O+1/3*(N-v),A+1/3*(q-j),N,q)},Q.prototype.moveTo=function(v,j){this.commands.push({type:"M",x:v,y:j})},Q.prototype.lineTo=function(v,j){this.commands.push({type:"L",x:v,y:j})},Q.prototype.curveTo=Q.prototype.bezierCurveTo=function(v,j,O,A,N,q){this.commands.push({type:"C",x1:v,y1:j,x2:O,y2:A,x:N,y:q})},Q.prototype.quadTo=Q.prototype.quadraticCurveTo=function(v,j,O,A){this.commands.push({type:"Q",x1:v,y1:j,x:O,y:A})},Q.prototype.close=Q.prototype.closePath=function(){this.commands.push({type:"Z"})},Q.prototype.extend=function(v){var j;if(v.commands)v=v.commands;else if(v instanceof G)return j=v,this.moveTo(j.x1,j.y1),this.lineTo(j.x2,j.y1),this.lineTo(j.x2,j.y2),this.lineTo(j.x1,j.y2),void this.close();Array.prototype.push.apply(this.commands,v)},Q.prototype.getBoundingBox=function(){for(var v=new G,j=0,O=0,A=0,N=0,q=0;q<this.commands.length;q++){var Y=this.commands[q];switch(Y.type){case"M":v.addPoint(Y.x,Y.y),j=A=Y.x,O=N=Y.y;break;case"L":v.addPoint(Y.x,Y.y),A=Y.x,N=Y.y;break;case"Q":v.addQuad(A,N,Y.x1,Y.y1,Y.x,Y.y),A=Y.x,N=Y.y;break;case"C":v.addBezier(A,N,Y.x1,Y.y1,Y.x2,Y.y2,Y.x,Y.y),A=Y.x,N=Y.y;break;case"Z":A=j,N=O;break;default:throw new Error("Unexpected path command "+Y.type)}}return v.isEmpty()&&v.addPoint(0,0),v},Q.prototype.draw=function(v){v.beginPath();for(var j=0;j<this.commands.length;j+=1){var O=this.commands[j];O.type==="M"?v.moveTo(O.x,O.y):O.type==="L"?v.lineTo(O.x,O.y):O.type==="C"?v.bezierCurveTo(O.x1,O.y1,O.x2,O.y2,O.x,O.y):O.type==="Q"?v.quadraticCurveTo(O.x1,O.y1,O.x,O.y):O.type==="Z"&&v.closePath()}this.fill&&(v.fillStyle=this.fill,v.fill()),this.stroke&&(v.strokeStyle=this.stroke,v.lineWidth=this.strokeWidth,v.stroke())},Q.prototype.toPathData=function(v){function j(){for(var q=arguments,Y="",re=0;re<arguments.length;re+=1){var de=q[re];0<=de&&0<re&&(Y+=" "),Y+=(de=de,Math.round(de)===de?""+Math.round(de):de.toFixed(v))}return Y}v=v!==void 0?v:2;for(var O="",A=0;A<this.commands.length;A+=1){var N=this.commands[A];N.type==="M"?O+="M"+j(N.x,N.y):N.type==="L"?O+="L"+j(N.x,N.y):N.type==="C"?O+="C"+j(N.x1,N.y1,N.x2,N.y2,N.x,N.y):N.type==="Q"?O+="Q"+j(N.x1,N.y1,N.x,N.y):N.type==="Z"&&(O+="Z")}return O},Q.prototype.toSVG=function(v){var j=(j='<path d="')+this.toPathData(v)+'"';return this.fill&&this.fill!=="black"&&(this.fill===null?j+=' fill="none"':j+=' fill="'+this.fill+'"'),this.stroke&&(j+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),j+="/>"},Q.prototype.toDOMElement=function(j){var j=this.toPathData(j),O=document.createElementNS("http://www.w3.org/2000/svg","path");return O.setAttribute("d",j),O};var D={fail:ie,argument:T,assert:T},U={},W={},$={};function ee(v){return function(){return v}}W.BYTE=function(v){return D.argument(0<=v&&v<=255,"Byte value should be between 0 and 255."),[v]},$.BYTE=ee(1),W.CHAR=function(v){return[v.charCodeAt(0)]},$.CHAR=ee(1),W.CHARARRAY=function(v){for(var j=[],O=0;O<v.length;O+=1)j[O]=v.charCodeAt(O);return j},$.CHARARRAY=function(v){return v.length},W.USHORT=function(v){return[v>>8&255,255&v]},$.USHORT=ee(2),W.SHORT=function(v){return[(v=32768<=v?-(65536-v):v)>>8&255,255&v]},$.SHORT=ee(2),W.UINT24=function(v){return[v>>16&255,v>>8&255,255&v]},$.UINT24=ee(3),W.ULONG=function(v){return[v>>24&255,v>>16&255,v>>8&255,255&v]},$.ULONG=ee(4),W.LONG=function(v){return[(v=2147483648<=v?-(4294967296-v):v)>>24&255,v>>16&255,v>>8&255,255&v]},$.LONG=ee(4),W.FIXED=W.ULONG,$.FIXED=$.ULONG,W.FWORD=W.SHORT,$.FWORD=$.SHORT,W.UFWORD=W.USHORT,$.UFWORD=$.USHORT,W.LONGDATETIME=function(v){return[0,0,0,0,v>>24&255,v>>16&255,v>>8&255,255&v]},$.LONGDATETIME=ee(8),W.TAG=function(v){return D.argument(v.length===4,"Tag should be exactly 4 ASCII characters."),[v.charCodeAt(0),v.charCodeAt(1),v.charCodeAt(2),v.charCodeAt(3)]},$.TAG=ee(4),W.Card8=W.BYTE,$.Card8=$.BYTE,W.Card16=W.USHORT,$.Card16=$.USHORT,W.OffSize=W.BYTE,$.OffSize=$.BYTE,W.SID=W.USHORT,$.SID=$.USHORT,W.NUMBER=function(v){return-107<=v&&v<=107?[v+139]:108<=v&&v<=1131?[247+((v-=108)>>8),255&v]:-1131<=v&&v<=-108?[251+((v=-v-108)>>8),255&v]:-32768<=v&&v<=32767?W.NUMBER16(v):W.NUMBER32(v)},$.NUMBER=function(v){return W.NUMBER(v).length},W.NUMBER16=function(v){return[28,v>>8&255,255&v]},$.NUMBER16=ee(3),W.NUMBER32=function(v){return[29,v>>24&255,v>>16&255,v>>8&255,255&v]},$.NUMBER32=ee(5),W.REAL=function(v){for(var j=v.toString(),O=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(j),A=(O&&(O=parseFloat("1e"+((O[2]?+O[2]:0)+O[1].length)),j=(Math.round(v*O)/O).toString()),""),N=0,q=j.length;N<q;N+=1){var Y=j[N];A+=Y==="e"?j[++N]==="-"?"c":"b":Y==="."?"a":Y==="-"?"e":Y}for(var re=[30],de=0,ce=(A+=1&A.length?"f":"ff").length;de<ce;de+=2)re.push(parseInt(A.substr(de,2),16));return re},$.REAL=function(v){return W.REAL(v).length},W.NAME=W.CHARARRAY,$.NAME=$.CHARARRAY,W.STRING=W.CHARARRAY,$.STRING=$.CHARARRAY,U.UTF8=function(v,j,O){for(var A=[],N=O,q=0;q<N;q++,j+=1)A[q]=v.getUint8(j);return String.fromCharCode.apply(null,A)},U.UTF16=function(v,j,O){for(var A=[],N=O/2,q=0;q<N;q++,j+=2)A[q]=v.getUint16(j);return String.fromCharCode.apply(null,A)},W.UTF16=function(v){for(var j=[],O=0;O<v.length;O+=1){var A=v.charCodeAt(O);j[j.length]=A>>8&255,j[j.length]=255&A}return j},$.UTF16=function(v){return 2*v.length};var ne,fe={"x-mac-croatian":"","x-mac-cyrillic":"","x-mac-gaelic":"","x-mac-greek":"","x-mac-icelandic":"","x-mac-inuit":"","x-mac-ce":"",macintosh:"","x-mac-romanian":"","x-mac-turkish":""},se=(U.MACSTRING=function(v,j,O,A){var N=fe[A];if(N!==void 0){for(var q="",Y=0;Y<O;Y++){var re=v.getUint8(j+Y);q+=re<=127?String.fromCharCode(re):N[127&re]}return q}},typeof WeakMap=="function"&&new WeakMap);function he(v){return-128<=v&&v<=127}W.MACSTRING=function(v,j){var O=function(Y){if(!ne)for(var re in ne={},fe)ne[re]=new String(re);var de=ne[Y];if(de!==void 0){if(se){var ce=se.get(de);if(ce!==void 0)return ce}var _e=fe[Y];if(_e!==void 0){for(var Ee={},je=0;je<_e.length;je++)Ee[_e.charCodeAt(je)]=je+128;return se&&se.set(de,Ee),Ee}}}(j);if(O!==void 0){for(var A=[],N=0;N<v.length;N++){var q=v.charCodeAt(N);if(128<=q&&(q=O[q])===void 0)return;A[N]=q}return A}},$.MACSTRING=function(v,j){return v=W.MACSTRING(v,j),v!==void 0?v.length:0},W.VARDELTAS=function(v){for(var A=0,j=[];A<v.length;)var O=v[A],A=(O===0?function(N,q,Y){for(var re=0,de=N.length;q<de&&re<64&&N[q]===0;)++q,++re;return Y.push(128|re-1),q}:-128<=O&&O<=127?function(N,q,Y){for(var re=0,de=N.length,ce=q;ce<de&&re<64;){var _e=N[ce];if(!he(_e)||_e===0&&ce+1<de&&N[ce+1]===0)break;++ce,++re}Y.push(re-1);for(var Ee=q;Ee<ce;++Ee)Y.push(N[Ee]+256&255);return ce}:function(N,q,Y){for(var re=0,de=N.length,ce=q;ce<de&&re<64;){var _e=N[ce];if(_e===0||he(_e)&&ce+1<de&&he(N[ce+1]))break;++ce,++re}Y.push(64|re-1);for(var Ee=q;Ee<ce;++Ee){var je=N[Ee];Y.push(je+65536>>8&255,je+256&255)}return ce})(v,A,j);return j},W.INDEX=function(v){for(var j=1,O=[j],A=[],N=0;N<v.length;N+=1){var q=W.OBJECT(v[N]);Array.prototype.push.apply(A,q),j+=q.length,O.push(j)}if(A.length===0)return[0,0];for(var Y=[],re=1+Math.floor(Math.log(j)/Math.log(2))/8|0,de=[void 0,W.BYTE,W.USHORT,W.UINT24,W.ULONG][re],ce=0;ce<O.length;ce+=1){var _e=de(O[ce]);Array.prototype.push.apply(Y,_e)}return Array.prototype.concat(W.Card16(v.length),W.OffSize(re),Y,A)},$.INDEX=function(v){return W.INDEX(v).length},W.DICT=function(v){for(var j=[],O=Object.keys(v),A=O.length,N=0;N<A;N+=1){var q=parseInt(O[N],0),Y=v[q];j=(j=j.concat(W.OPERAND(Y.value,Y.type))).concat(W.OPERATOR(q))}return j},$.DICT=function(v){return W.DICT(v).length},W.OPERATOR=function(v){return v<1200?[v]:[12,v-1200]},W.OPERAND=function(v,j){var O=[];if(Array.isArray(j))for(var A=0;A<j.length;A+=1)D.argument(v.length===j.length,"Not enough arguments given for type"+j),O=O.concat(W.OPERAND(v[A],j[A]));else if(j==="SID")O=O.concat(W.NUMBER(v));else if(j==="offset")O=O.concat(W.NUMBER32(v));else if(j==="number")O=O.concat(W.NUMBER(v));else{if(j!=="real")throw new Error("Unknown operand type "+j);O=O.concat(W.REAL(v))}return O},W.OP=W.BYTE,$.OP=$.BYTE;var ae=typeof WeakMap=="function"&&new WeakMap;function J(v,j,O){for(var A=0;A<j.length;A+=1){var N=j[A];this[N.name]=N.value}if(this.tableName=v,this.fields=j,O)for(var q=Object.keys(O),Y=0;Y<q.length;Y+=1){var re=q[Y],de=O[re];this[re]!==void 0&&(this[re]=de)}}function le(v,j,O){O===void 0&&(O=j.length);var A=new Array(j.length+1);A[0]={name:v+"Count",type:"USHORT",value:O};for(var N=0;N<j.length;N++)A[N+1]={name:v+N,type:"USHORT",value:j[N]};return A}function ye(v,j,O){var A=j.length,N=new Array(A+1);N[0]={name:v+"Count",type:"USHORT",value:A};for(var q=0;q<A;q++)N[q+1]={name:v+q,type:"TABLE",value:O(j[q],q)};return N}function ue(v,j,O){var A=j.length,N=[];N[0]={name:v+"Count",type:"USHORT",value:A};for(var q=0;q<A;q++)N=N.concat(O(j[q],q));return N}function ge(v){v.format===1?J.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(le("glyph",v.glyphs))):D.assert(!1,"Can't create coverage table format 2 yet.")}function be(v){J.call(this,"scriptListTable",ue("scriptRecord",v,function(j,O){var A=j.script,N=A.defaultLangSys;return D.assert(!!N,"Unable to write GSUB: script "+j.tag+" has no default language system."),[{name:"scriptTag"+O,type:"TAG",value:j.tag},{name:"script"+O,type:"TABLE",value:new J("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new J("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:N.reqFeatureIndex}].concat(le("featureIndex",N.featureIndexes)))}].concat(ue("langSys",A.langSysRecords,function(q,Y){var re=q.langSys;return[{name:"langSysTag"+Y,type:"TAG",value:q.tag},{name:"langSys"+Y,type:"TABLE",value:new J("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:re.reqFeatureIndex}].concat(le("featureIndex",re.featureIndexes)))}]})))}]}))}function Se(v){J.call(this,"featureListTable",ue("featureRecord",v,function(j,O){var A=j.feature;return[{name:"featureTag"+O,type:"TAG",value:j.tag},{name:"feature"+O,type:"TABLE",value:new J("featureTable",[{name:"featureParams",type:"USHORT",value:A.featureParams}].concat(le("lookupListIndex",A.lookupListIndexes)))}]}))}function Ie(v,j){J.call(this,"lookupListTable",ye("lookup",v,function(O){var A=j[O.lookupType];return D.assert(!!A,"Unable to write GSUB lookup type "+O.lookupType+" tables."),new J("lookupTable",[{name:"lookupType",type:"USHORT",value:O.lookupType},{name:"lookupFlag",type:"USHORT",value:O.lookupFlag}].concat(ye("subtable",O.subtables,A)))}))}W.CHARSTRING=function(v){if(ae){var j=ae.get(v);if(j!==void 0)return j}for(var q=[],O=v.length,A=0;A<O;A+=1)var N=v[A],q=q.concat(W[N.type](N.value));return ae&&ae.set(v,q),q},$.CHARSTRING=function(v){return W.CHARSTRING(v).length},W.OBJECT=function(v){var j=W[v.type];return D.argument(j!==void 0,"No encoding function for type "+v.type),j(v.value)},$.OBJECT=function(v){var j=$[v.type];return D.argument(j!==void 0,"No sizeOf function for type "+v.type),j(v.value)},W.TABLE=function(v){for(var j=[],O=v.fields.length,A=[],N=[],q=0;q<O;q+=1){var Y=v.fields[q],de=W[Y.type],re=(D.argument(de!==void 0,"No encoding function for field type "+Y.type+" ("+Y.name+")"),v[Y.name]),de=de(re=re===void 0?Y.value:re);Y.type==="TABLE"?(N.push(j.length),j=j.concat([0,0]),A.push(de)):j=j.concat(de)}for(var ce=0;ce<A.length;ce+=1){var _e=N[ce],Ee=j.length;D.argument(Ee<65536,"Table "+v.tableName+" too big."),j[_e]=Ee>>8,j[_e+1]=255&Ee,j=j.concat(A[ce])}return j},$.TABLE=function(v){for(var j=0,O=v.fields.length,A=0;A<O;A+=1){var N=v.fields[A],q=$[N.type],Y=(D.argument(q!==void 0,"No sizeOf function for field type "+N.type+" ("+N.name+")"),v[N.name]);j+=q(Y=Y===void 0?N.value:Y),N.type==="TABLE"&&(j+=2)}return j},W.RECORD=W.TABLE,$.RECORD=$.TABLE,W.LITERAL=function(v){return v},$.LITERAL=function(v){return v.length},J.prototype.encode=function(){return W.TABLE(this)},J.prototype.sizeOf=function(){return $.TABLE(this)};var Me={Table:J,Record:J,Coverage:(ge.prototype=Object.create(J.prototype)).constructor=ge,ScriptList:(be.prototype=Object.create(J.prototype)).constructor=be,FeatureList:(Se.prototype=Object.create(J.prototype)).constructor=Se,LookupList:(Ie.prototype=Object.create(J.prototype)).constructor=Ie,ushortList:le,tableList:ye,recordList:ue};function $e(v,j){return v.getUint8(j)}function qe(v,j){return v.getUint16(j,!1)}function Ge(v,j){return v.getUint32(j,!1)}function Ze(v,j){return v.getInt16(j,!1)+v.getUint16(j+2,!1)/65535}var ze={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function xe(v,j){this.data=v,this.offset=j,this.relativeOffset=0}xe.prototype.parseByte=function(){var v=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,v},xe.prototype.parseChar=function(){var v=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,v},xe.prototype.parseCard8=xe.prototype.parseByte,xe.prototype.parseCard16=xe.prototype.parseUShort=function(){var v=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,v},xe.prototype.parseSID=xe.prototype.parseUShort,xe.prototype.parseOffset16=xe.prototype.parseUShort,xe.prototype.parseShort=function(){var v=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,v},xe.prototype.parseF2Dot14=function(){var v=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,v},xe.prototype.parseOffset32=xe.prototype.parseULong=function(){var v=Ge(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,v},xe.prototype.parseFixed=function(){var v=Ze(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,v},xe.prototype.parseString=function(v){var j=this.data,O=this.offset+this.relativeOffset,A="";this.relativeOffset+=v;for(var N=0;N<v;N++)A+=String.fromCharCode(j.getUint8(O+N));return A},xe.prototype.parseTag=function(){return this.parseString(4)},xe.prototype.parseLongDateTime=function(){var v=Ge(this.data,this.offset+this.relativeOffset+4);return v-=2082844800,this.relativeOffset+=8,v},xe.prototype.parseVersion=function(v){var j=qe(this.data,this.offset+this.relativeOffset),O=qe(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,j+O/(v=v===void 0?4096:v)/10},xe.prototype.skip=function(v,j){this.relativeOffset+=ze[v]*(j=j===void 0?1:j)},xe.prototype.parseULongList=function(v){v===void 0&&(v=this.parseULong());for(var j=new Array(v),O=this.data,A=this.offset+this.relativeOffset,N=0;N<v;N++)j[N]=O.getUint32(A),A+=4;return this.relativeOffset+=4*v,j},xe.prototype.parseOffset16List=xe.prototype.parseUShortList=function(v){v===void 0&&(v=this.parseUShort());for(var j=new Array(v),O=this.data,A=this.offset+this.relativeOffset,N=0;N<v;N++)j[N]=O.getUint16(A),A+=2;return this.relativeOffset+=2*v,j},xe.prototype.parseShortList=function(v){for(var j=new Array(v),O=this.data,A=this.offset+this.relativeOffset,N=0;N<v;N++)j[N]=O.getInt16(A),A+=2;return this.relativeOffset+=2*v,j},xe.prototype.parseByteList=function(v){for(var j=new Array(v),O=this.data,A=this.offset+this.relativeOffset,N=0;N<v;N++)j[N]=O.getUint8(A++);return this.relativeOffset+=v,j},xe.prototype.parseList=function(v,j){j||(j=v,v=this.parseUShort());for(var O=new Array(v),A=0;A<v;A++)O[A]=j.call(this);return O},xe.prototype.parseList32=function(v,j){j||(j=v,v=this.parseULong());for(var O=new Array(v),A=0;A<v;A++)O[A]=j.call(this);return O},xe.prototype.parseRecordList=function(v,j){j||(j=v,v=this.parseUShort());for(var O=new Array(v),A=Object.keys(j),N=0;N<v;N++){for(var q={},Y=0;Y<A.length;Y++){var re=A[Y],de=j[re];q[re]=de.call(this)}O[N]=q}return O},xe.prototype.parseRecordList32=function(v,j){j||(j=v,v=this.parseULong());for(var O=new Array(v),A=Object.keys(j),N=0;N<v;N++){for(var q={},Y=0;Y<A.length;Y++){var re=A[Y],de=j[re];q[re]=de.call(this)}O[N]=q}return O},xe.prototype.parseStruct=function(v){if(typeof v=="function")return v.call(this);for(var j=Object.keys(v),O={},A=0;A<j.length;A++){var N=j[A],q=v[N];O[N]=q.call(this)}return O},xe.prototype.parseValueRecord=function(v){var j;if((v=v===void 0?this.parseUShort():v)!==0)return j={},1&v&&(j.xPlacement=this.parseShort()),2&v&&(j.yPlacement=this.parseShort()),4&v&&(j.xAdvance=this.parseShort()),8&v&&(j.yAdvance=this.parseShort()),16&v&&(j.xPlaDevice=void 0,this.parseShort()),32&v&&(j.yPlaDevice=void 0,this.parseShort()),64&v&&(j.xAdvDevice=void 0,this.parseShort()),128&v&&(j.yAdvDevice=void 0,this.parseShort()),j},xe.prototype.parseValueRecordList=function(){for(var v=this.parseUShort(),j=this.parseUShort(),O=new Array(j),A=0;A<j;A++)O[A]=this.parseValueRecord(v);return O},xe.prototype.parsePointer=function(v){var j=this.parseOffset16();if(0<j)return new xe(this.data,this.offset+j).parseStruct(v)},xe.prototype.parsePointer32=function(v){var j=this.parseOffset32();if(0<j)return new xe(this.data,this.offset+j).parseStruct(v)},xe.prototype.parseListOfLists=function(v){for(var j=this.parseOffset16List(),O=j.length,A=this.relativeOffset,N=new Array(O),q=0;q<O;q++){var Y=j[q];if(Y===0)N[q]=void 0;else if(this.relativeOffset=Y,v){for(var re=this.parseOffset16List(),de=new Array(re.length),ce=0;ce<re.length;ce++)this.relativeOffset=Y+re[ce],de[ce]=v.call(this);N[q]=de}else N[q]=this.parseUShortList()}return this.relativeOffset=A,N},xe.prototype.parseCoverage=function(){var v=this.offset+this.relativeOffset,j=this.parseUShort(),O=this.parseUShort();if(j===1)return{format:1,glyphs:this.parseUShortList(O)};if(j!==2)throw new Error("0x"+v.toString(16)+": Coverage format must be 1 or 2.");for(var A=new Array(O),N=0;N<O;N++)A[N]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:A}},xe.prototype.parseClassDef=function(){var v=this.offset+this.relativeOffset,j=this.parseUShort();if(j===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(j===2)return{format:2,ranges:this.parseRecordList({start:xe.uShort,end:xe.uShort,classId:xe.uShort})};throw new Error("0x"+v.toString(16)+": ClassDef format must be 1 or 2.")},xe.list=function(v,j){return function(){return this.parseList(v,j)}},xe.list32=function(v,j){return function(){return this.parseList32(v,j)}},xe.recordList=function(v,j){return function(){return this.parseRecordList(v,j)}},xe.recordList32=function(v,j){return function(){return this.parseRecordList32(v,j)}},xe.pointer=function(v){return function(){return this.parsePointer(v)}},xe.pointer32=function(v){return function(){return this.parsePointer32(v)}},xe.tag=xe.prototype.parseTag,xe.byte=xe.prototype.parseByte,xe.uShort=xe.offset16=xe.prototype.parseUShort,xe.uShortList=xe.prototype.parseUShortList,xe.uLong=xe.offset32=xe.prototype.parseULong,xe.uLongList=xe.prototype.parseULongList,xe.struct=xe.prototype.parseStruct,xe.coverage=xe.prototype.parseCoverage,xe.classDef=xe.prototype.parseClassDef;var Le={reserved:xe.uShort,reqFeatureIndex:xe.uShort,featureIndexes:xe.uShortList},Te=(xe.prototype.parseScriptList=function(){return this.parsePointer(xe.recordList({tag:xe.tag,script:xe.pointer({defaultLangSys:xe.pointer(Le),langSysRecords:xe.recordList({tag:xe.tag,langSys:xe.pointer(Le)})})}))||[]},xe.prototype.parseFeatureList=function(){return this.parsePointer(xe.recordList({tag:xe.tag,feature:xe.pointer({featureParams:xe.offset16,lookupListIndexes:xe.uShortList})}))||[]},xe.prototype.parseLookupList=function(v){return this.parsePointer(xe.list(xe.pointer(function(){var j=this.parseUShort(),O=(D.argument(1<=j&&j<=9,"GPOS/GSUB lookup type "+j+" unknown."),this.parseUShort()),A=16&O;return{lookupType:j,lookupFlag:O,subtables:this.parseList(xe.pointer(v[j])),markFilteringSet:A?this.parseUShort():void 0}})))||[]},xe.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var v=this.parseUShort(),j=this.parseUShort();return D.argument(v===1&&j<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:xe.offset32,featureTableSubstitutionOffset:xe.offset32})})||[]},{getByte:$e,getCard8:$e,getUShort:qe,getCard16:qe,getShort:function(v,j){return v.getInt16(j,!1)},getULong:Ge,getFixed:Ze,getTag:function(v,j){for(var O="",A=j;A<j+4;A+=1)O+=String.fromCharCode(v.getInt8(A));return O},getOffset:function(v,j,O){for(var A=0,N=0;N<O;N+=1)A=(A<<=8)+v.getUint8(j+N);return A},getBytes:function(v,j,O){for(var A=[],N=j;N<O;N+=1)A.push(v.getUint8(N));return A},bytesToString:function(v){for(var j="",O=0;O<v.length;O+=1)j+=String.fromCharCode(v[O]);return j},Parser:xe}),K={parse:function(v,j){for(var O={},A=(O.version=Te.getUShort(v,j),D.argument(O.version===0,"cmap table version should be 0."),O.numTables=Te.getUShort(v,j+2),-1),N=O.numTables-1;0<=N;--N){var q=Te.getUShort(v,j+4+8*N),Y=Te.getUShort(v,j+4+8*N+2);if(q===3&&(Y===0||Y===1||Y===10)||q===0&&(Y===0||Y===1||Y===2||Y===3||Y===4)){A=Te.getULong(v,j+4+8*N+4);break}}if(A===-1)throw new Error("No valid cmap sub-tables found.");var re=new Te.Parser(v,j+A);if(O.format=re.parseUShort(),O.format===12){var de,ce=O,_e=re;_e.parseUShort(),ce.length=_e.parseULong(),ce.language=_e.parseULong(),ce.groupCount=de=_e.parseULong(),ce.glyphIndexMap={};for(var Ee=0;Ee<de;Ee+=1)for(var je=_e.parseULong(),me=_e.parseULong(),Ne=_e.parseULong(),Pe=je;Pe<=me;Pe+=1)ce.glyphIndexMap[Pe]=Ne,Ne++}else{if(O.format!==4)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+O.format+").");var Ae=O,ke=v,Ce=j,lt=A;Ae.length=re.parseUShort(),Ae.language=re.parseUShort(),Ae.segCount=bt=re.parseUShort()>>1,re.skip("uShort",3),Ae.glyphIndexMap={};for(var bt,ut=new Te.Parser(ke,Ce+lt+14),ht=new Te.Parser(ke,Ce+lt+16+2*bt),jt=new Te.Parser(ke,Ce+lt+16+4*bt),Ut=new Te.Parser(ke,Ce+lt+16+6*bt),tr=Ce+lt+16+8*bt,lr=0;lr<bt-1;lr+=1)for(var wr=void 0,jr=ut.parseUShort(),cn=ht.parseUShort(),Ft=jt.parseShort(),zt=Ut.parseUShort(),Lt=cn;Lt<=jr;Lt+=1)zt!==0?(tr=(tr=Ut.offset+Ut.relativeOffset-2)+zt+2*(Lt-cn),(wr=Te.getUShort(ke,tr))!==0&&(wr=wr+Ft&65535)):wr=Lt+Ft&65535,Ae.glyphIndexMap[Lt]=wr}return O},make:function(v){for(var j=!0,O=v.length-1;0<O;--O)if(65535<v.get(O).unicode){console.log("Adding CMAP format 12 (needed!)"),j=!1;break}var A,N,q=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:j?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:j?12:20}],Y=(q=(q=j?q:q.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])).concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),new Me.Table("cmap",q));for(Y.segments=[],O=0;O<v.length;O+=1){for(var re=v.get(O),de=0;de<re.unicodes.length;de+=1)A=re.unicodes[de],N=O,Y.segments.push({end:A,start:A,delta:-(A-N),offset:0,glyphIndex:N});Y.segments=Y.segments.sort(function(Ce,lt){return Ce.start-lt.start})}Y.segments.push({end:65535,start:65535,delta:1,offset:0});var ce=Y.segments.length,_e=0,Ee=[],je=[],me=[],Ne=[],Pe=[],Ae=[];for(O=0;O<ce;O+=1){var ke=Y.segments[O];ke.end<=65535&&ke.start<=65535?(Ee=Ee.concat({name:"end_"+O,type:"USHORT",value:ke.end}),je=je.concat({name:"start_"+O,type:"USHORT",value:ke.start}),me=me.concat({name:"idDelta_"+O,type:"SHORT",value:ke.delta}),Ne=Ne.concat({name:"idRangeOffset_"+O,type:"USHORT",value:ke.offset}),ke.glyphId!==void 0&&(Pe=Pe.concat({name:"glyph_"+O,type:"USHORT",value:ke.glyphId}))):_e+=1,j||ke.glyphIndex===void 0||(Ae=(Ae=(Ae=Ae.concat({name:"cmap12Start_"+O,type:"ULONG",value:ke.start})).concat({name:"cmap12End_"+O,type:"ULONG",value:ke.end})).concat({name:"cmap12Glyph_"+O,type:"ULONG",value:ke.glyphIndex}))}return Y.segCountX2=2*(ce-_e),Y.searchRange=2*Math.pow(2,Math.floor(Math.log(ce-_e)/Math.log(2))),Y.entrySelector=Math.log(Y.searchRange/2)/Math.log(2),Y.rangeShift=Y.segCountX2-Y.searchRange,Y.fields=Y.fields.concat(Ee),Y.fields.push({name:"reservedPad",type:"USHORT",value:0}),Y.fields=Y.fields.concat(je),Y.fields=Y.fields.concat(me),Y.fields=Y.fields.concat(Ne),Y.fields=Y.fields.concat(Pe),Y.cmap4Length=14+2*Ee.length+2+2*je.length+2*me.length+2*Ne.length+2*Pe.length,j||(q=16+4*Ae.length,Y.cmap12Offset=20+Y.cmap4Length,Y.fields=Y.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:q},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:Ae.length/3}]),Y.fields=Y.fields.concat(Ae)),Y}},te=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],Z=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],oe=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],ve=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function we(v){this.font=v}function Oe(v){this.cmap=v}function Be(v,j){this.encoding=v,this.charset=j}function De(v){switch(v.version){case 1:this.names=ve.slice();break;case 2:this.names=new Array(v.numberOfGlyphs);for(var j=0;j<v.numberOfGlyphs;j++)v.glyphNameIndex[j]<ve.length?this.names[j]=ve[v.glyphNameIndex[j]]:this.names[j]=v.names[v.glyphNameIndex[j]-ve.length];break;case 2.5:this.names=new Array(v.numberOfGlyphs);for(var O=0;O<v.numberOfGlyphs;O++)this.names[O]=ve[O+v.glyphNameIndex[O]];break;default:this.names=[]}}we.prototype.charToGlyphIndex=function(v){var j=v.codePointAt(0),O=this.font.glyphs;if(O){for(var A=0;A<O.length;A+=1)for(var N=O.get(A),q=0;q<N.unicodes.length;q+=1)if(N.unicodes[q]===j)return A}return null},Oe.prototype.charToGlyphIndex=function(v){return this.cmap.glyphIndexMap[v.codePointAt(0)]||0},Be.prototype.charToGlyphIndex=function(v){return v=v.codePointAt(0),v=this.encoding[v],this.charset.indexOf(v)},De.prototype.nameToGlyphIndex=function(v){return this.names.indexOf(v)},De.prototype.glyphIndexToName=function(v){return this.names[v]};var He={line:function(v,j,O,A,N){v.beginPath(),v.moveTo(j,O),v.lineTo(A,N),v.stroke()}};function Xe(v){this.bindConstructorValues(v)}function ct(v,j,O){Object.defineProperty(v,j,{get:function(){return v.path,v[O]},set:function(A){v[O]=A},enumerable:!0,configurable:!0})}function rt(v,j){if(this.font=v,this.glyphs={},Array.isArray(j))for(var O=0;O<j.length;O++)this.glyphs[O]=j[O];this.length=j&&j.length||0}Xe.prototype.bindConstructorValues=function(v){var j;this.index=v.index||0,this.name=v.name||null,this.unicode=v.unicode||void 0,this.unicodes=v.unicodes||v.unicode!==void 0?[v.unicode]:[],v.xMin&&(this.xMin=v.xMin),v.yMin&&(this.yMin=v.yMin),v.xMax&&(this.xMax=v.xMax),v.yMax&&(this.yMax=v.yMax),v.advanceWidth&&(this.advanceWidth=v.advanceWidth),Object.defineProperty(this,"path",(v=v.path,j=v||new Q,{configurable:!0,get:function(){return j=typeof j=="function"?j():j},set:function(O){j=O}}))},Xe.prototype.addUnicode=function(v){this.unicodes.length===0&&(this.unicode=v),this.unicodes.push(v)},Xe.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},Xe.prototype.getPath=function(v,j,O,A,N){v=v!==void 0?v:0,j=j!==void 0?j:0,O=O!==void 0?O:72;for(var q,Y,re=(A=A||{}).xScale,de=A.yScale,ce=((q=A.hinting&&N&&N.hinting?this.path&&N.hinting.exec(this,O):q)?(Y=N.hinting.getCommands(q),v=Math.round(v),j=Math.round(j),re=de=1):(Y=this.path.commands,A=1/this.path.unitsPerEm*O,re===void 0&&(re=A),de===void 0&&(de=A)),new Q),_e=0;_e<Y.length;_e+=1){var Ee=Y[_e];Ee.type==="M"?ce.moveTo(v+Ee.x*re,j+-Ee.y*de):Ee.type==="L"?ce.lineTo(v+Ee.x*re,j+-Ee.y*de):Ee.type==="Q"?ce.quadraticCurveTo(v+Ee.x1*re,j+-Ee.y1*de,v+Ee.x*re,j+-Ee.y*de):Ee.type==="C"?ce.curveTo(v+Ee.x1*re,j+-Ee.y1*de,v+Ee.x2*re,j+-Ee.y2*de,v+Ee.x*re,j+-Ee.y*de):Ee.type==="Z"&&ce.closePath()}return ce},Xe.prototype.getContours=function(){if(this.points===void 0)return[];for(var v=[],j=[],O=0;O<this.points.length;O+=1){var A=this.points[O];j.push(A),A.lastPointOfContour&&(v.push(j),j=[])}return D.argument(j.length===0,"There are still points left in the current contour."),v},Xe.prototype.getMetrics=function(){for(var v=this.path.commands,j=[],O=[],A=0;A<v.length;A+=1){var N=v[A];N.type!=="Z"&&(j.push(N.x),O.push(N.y)),N.type!=="Q"&&N.type!=="C"||(j.push(N.x1),O.push(N.y1)),N.type==="C"&&(j.push(N.x2),O.push(N.y2))}var q={xMin:Math.min.apply(null,j),yMin:Math.min.apply(null,O),xMax:Math.max.apply(null,j),yMax:Math.max.apply(null,O),leftSideBearing:this.leftSideBearing};return isFinite(q.xMin)||(q.xMin=0),isFinite(q.xMax)||(q.xMax=this.advanceWidth),isFinite(q.yMin)||(q.yMin=0),isFinite(q.yMax)||(q.yMax=0),q.rightSideBearing=this.advanceWidth-q.leftSideBearing-(q.xMax-q.xMin),q},Xe.prototype.draw=function(v,j,O,A,N){this.getPath(j,O,A,N).draw(v)},Xe.prototype.drawPoints=function(v,j,O,A){function N(_e,Ee,je,me){var Ne=2*Math.PI;v.beginPath();for(var Pe=0;Pe<_e.length;Pe+=1)v.moveTo(Ee+_e[Pe].x*me,je+_e[Pe].y*me),v.arc(Ee+_e[Pe].x*me,je+_e[Pe].y*me,2,0,Ne,!1);v.closePath(),v.fill()}j=j!==void 0?j:0,O=O!==void 0?O:0;for(var A=1/this.path.unitsPerEm*(A=A!==void 0?A:24),q=[],Y=[],re=this.path,de=0;de<re.commands.length;de+=1){var ce=re.commands[de];ce.x!==void 0&&q.push({x:ce.x,y:-ce.y}),ce.x1!==void 0&&Y.push({x:ce.x1,y:-ce.y1}),ce.x2!==void 0&&Y.push({x:ce.x2,y:-ce.y2})}v.fillStyle="blue",N(q,j,O,A),v.fillStyle="red",N(Y,j,O,A)},Xe.prototype.drawMetrics=function(v,j,O,A){j=j!==void 0?j:0,O=O!==void 0?O:0,A=1/this.path.unitsPerEm*(A=A!==void 0?A:24),v.lineWidth=1,v.strokeStyle="black",He.line(v,j,-1e4,j,1e4),He.line(v,-1e4,O,1e4,O);var N=this.xMin||0,q=this.yMin||0,Y=this.xMax||0,re=this.yMax||0,de=this.advanceWidth||0;v.strokeStyle="blue",He.line(v,j+N*A,-1e4,j+N*A,1e4),He.line(v,j+Y*A,-1e4,j+Y*A,1e4),He.line(v,-1e4,O+-q*A,1e4,O+-q*A),He.line(v,-1e4,O+-re*A,1e4,O+-re*A),v.strokeStyle="green",He.line(v,j+de*A,-1e4,j+de*A,1e4)},rt.prototype.get=function(v){return typeof this.glyphs[v]=="function"&&(this.glyphs[v]=this.glyphs[v]()),this.glyphs[v]},rt.prototype.push=function(v,j){this.glyphs[v]=j,this.length++};var Je={GlyphSet:rt,glyphLoader:function(v,j){return new Xe({index:j,font:v})},ttfGlyphLoader:function(v,j,O,A,N,q){return function(){var Y=new Xe({index:j,font:v});return Y.path=function(){O(Y,A,N);var re=q(v.glyphs,Y);return re.unitsPerEm=v.unitsPerEm,re},ct(Y,"xMin","_xMin"),ct(Y,"xMax","_xMax"),ct(Y,"yMin","_yMin"),ct(Y,"yMax","_yMax"),Y}},cffGlyphLoader:function(v,j,O,A){return function(){var N=new Xe({index:j,font:v});return N.path=function(){var q=O(v,N,A);return q.unitsPerEm=v.unitsPerEm,q},N}}};function ft(v){return v=v.length<1240?107:v.length<33900?1131:32768,v}function ot(v,j,O){var A,N=[],q=[],Y=Te.getCard16(v,j);if(Y!==0){for(var re=Te.getByte(v,j+2),de=j+(Y+1)*re+2,ce=j+3,_e=0;_e<Y+1;_e+=1)N.push(Te.getOffset(v,ce,re)),ce+=re;A=de+N[Y]}else A=j+2;for(var Ee=0;Ee<N.length-1;Ee+=1){var je=Te.getBytes(v,de+N[Ee],de+N[Ee+1]);O&&(je=O(je)),q.push(je)}return{objects:q,startOffset:j,endOffset:A}}function Ct(v,j){if(j===28)return v.parseByte()<<8|v.parseByte();if(j===29)return v.parseByte()<<24|v.parseByte()<<16|v.parseByte()<<8|v.parseByte();if(j===30){for(var O=v,A="",N=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var Y=O.parseByte(),q=Y>>4,Y=15&Y;if(q==15||(A+=N[q],Y==15))break;A+=N[Y]}return parseFloat(A)}if(32<=j&&j<=246)return j-139;if(247<=j&&j<=250)return 256*(j-247)+v.parseByte()+108;if(251<=j&&j<=254)return 256*-(j-251)-v.parseByte()-108;throw new Error("Invalid b0 "+j)}function dt(v,j,O){var A=new Te.Parser(v,j=j!==void 0?j:0),N=[],q=[];for(O=O!==void 0?O:v.length;A.relativeOffset<O;){var Y=A.parseByte();Y<=21?(Y===12&&(Y=1200+A.parseByte()),N.push([Y,q]),q=[]):q.push(Ct(A,Y))}for(var re=N,de={},ce=0;ce<re.length;ce+=1){var _e=re[ce][0],Ee=re[ce][1],je=void 0,je=Ee.length===1?Ee[0]:Ee;if(de.hasOwnProperty(_e)&&!isNaN(de[_e]))throw new Error("Object "+de+" already has key "+_e);de[_e]=je}return de}function et(v,j){return j=j<=390?te[j]:v[j-391]}function it(v,j,O){for(var A,N={},q=0;q<j.length;q+=1){var Y=j[q];if(Array.isArray(Y.type)){var re=[];re.length=Y.type.length;for(var de=0;de<Y.type.length;de++)(A=v[Y.op]!==void 0?v[Y.op][de]:void 0)===void 0&&(A=Y.value!==void 0&&Y.value[de]!==void 0?Y.value[de]:null),Y.type[de]==="SID"&&(A=et(O,A)),re[de]=A;N[Y.name]=re}else(A=v[Y.op])===void 0&&(A=Y.value!==void 0?Y.value:null),Y.type==="SID"&&(A=et(O,A)),N[Y.name]=A}return N}var Ve=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],Ke=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function tt(v,j,O,A){return it(dt(v,j,O),Ke,A)}function at(v,j,O,A){for(var N=[],q=0;q<O.length;q+=1){var Y=new DataView(new Uint8Array(O[q]).buffer),Y=(re=A,it(dt(Y,0,Y.byteLength),Ve,re)),re=(Y._subrs=[],Y._subrsBias=0,Y.private[0]),de=Y.private[1];re!==0&&de!==0&&(re=tt(v,de+j,re,A),Y._defaultWidthX=re.defaultWidthX,Y._nominalWidthX=re.nominalWidthX,re.subrs!==0&&(de=ot(v,de+re.subrs+j),Y._subrs=de.objects,Y._subrsBias=ft(Y._subrs)),Y._privateDict=re),N.push(Y)}return N}function vt(v,j,O){var A,N,q,Y,re,de,ce,_e,Ee,je=new Q,me=[],Ne=0,Pe=!1,Ae=!1,ke=0,Ce=0,lt=(Ee=(v.isCIDFont?(re=v.tables.cff.topDict._fdSelect[j.index],re=v.tables.cff.topDict._fdArray[re],de=re._subrs,ce=re._subrsBias,_e=re._defaultWidthX,re):(de=v.tables.cff.topDict._subrs,ce=v.tables.cff.topDict._subrsBias,_e=v.tables.cff.topDict._defaultWidthX,v.tables.cff.topDict))._nominalWidthX,_e);function bt(ht,jt){Ae&&je.closePath(),je.moveTo(ht,jt),Ae=!0}function ut(){me.length%2==0||Pe||(lt=me.shift()+Ee),Ne+=me.length>>1,me.length=0,Pe=!0}return function ht(jt){for(var Ut,tr,lr,wr,jr,cn,Ft,zt,Lt,Sr,Zt,_r,Vt=0;Vt<jt.length;){var pr=jt[Vt];switch(Vt+=1,pr){case 1:case 3:ut();break;case 4:1<me.length&&!Pe&&(lt=me.shift()+Ee,Pe=!0),Ce+=me.pop(),bt(ke,Ce);break;case 5:for(;0<me.length;)ke+=me.shift(),Ce+=me.shift(),je.lineTo(ke,Ce);break;case 6:for(;0<me.length&&(ke+=me.shift(),je.lineTo(ke,Ce),me.length!==0);)Ce+=me.shift(),je.lineTo(ke,Ce);break;case 7:for(;0<me.length&&(Ce+=me.shift(),je.lineTo(ke,Ce),me.length!==0);)ke+=me.shift(),je.lineTo(ke,Ce);break;case 8:for(;0<me.length;)A=ke+me.shift(),N=Ce+me.shift(),q=A+me.shift(),Y=N+me.shift(),ke=q+me.shift(),Ce=Y+me.shift(),je.curveTo(A,N,q,Y,ke,Ce);break;case 10:jr=me.pop()+ce,(cn=de[jr])&&ht(cn);break;case 11:return;case 12:switch(pr=jt[Vt],Vt+=1,pr){case 35:A=ke+me.shift(),N=Ce+me.shift(),q=A+me.shift(),Y=N+me.shift(),Ft=q+me.shift(),zt=Y+me.shift(),Lt=Ft+me.shift(),Sr=zt+me.shift(),Zt=Lt+me.shift(),_r=Sr+me.shift(),ke=Zt+me.shift(),Ce=_r+me.shift(),me.shift(),je.curveTo(A,N,q,Y,Ft,zt),je.curveTo(Lt,Sr,Zt,_r,ke,Ce);break;case 34:A=ke+me.shift(),N=Ce,q=A+me.shift(),Y=N+me.shift(),Ft=q+me.shift(),zt=Y,Lt=Ft+me.shift(),Sr=Y,Zt=Lt+me.shift(),_r=Ce,ke=Zt+me.shift(),je.curveTo(A,N,q,Y,Ft,zt),je.curveTo(Lt,Sr,Zt,_r,ke,Ce);break;case 36:A=ke+me.shift(),N=Ce+me.shift(),q=A+me.shift(),Y=N+me.shift(),Ft=q+me.shift(),zt=Y,Lt=Ft+me.shift(),Sr=Y,Zt=Lt+me.shift(),_r=Sr+me.shift(),ke=Zt+me.shift(),je.curveTo(A,N,q,Y,Ft,zt),je.curveTo(Lt,Sr,Zt,_r,ke,Ce);break;case 37:A=ke+me.shift(),N=Ce+me.shift(),q=A+me.shift(),Y=N+me.shift(),Ft=q+me.shift(),zt=Y+me.shift(),Lt=Ft+me.shift(),Sr=zt+me.shift(),Zt=Lt+me.shift(),_r=Sr+me.shift(),Math.abs(Zt-ke)>Math.abs(_r-Ce)?ke=Zt+me.shift():Ce=_r+me.shift(),je.curveTo(A,N,q,Y,Ft,zt),je.curveTo(Lt,Sr,Zt,_r,ke,Ce);break;default:console.log("Glyph "+j.index+": unknown operator 1200"+pr),me.length=0}break;case 14:0<me.length&&!Pe&&(lt=me.shift()+Ee,Pe=!0),Ae&&(je.closePath(),Ae=!1);break;case 18:ut();break;case 19:case 20:ut(),Vt+=Ne+7>>3;break;case 21:2<me.length&&!Pe&&(lt=me.shift()+Ee,Pe=!0),Ce+=me.pop(),bt(ke+=me.pop(),Ce);break;case 22:1<me.length&&!Pe&&(lt=me.shift()+Ee,Pe=!0),bt(ke+=me.pop(),Ce);break;case 23:ut();break;case 24:for(;2<me.length;)A=ke+me.shift(),N=Ce+me.shift(),q=A+me.shift(),Y=N+me.shift(),ke=q+me.shift(),Ce=Y+me.shift(),je.curveTo(A,N,q,Y,ke,Ce);ke+=me.shift(),Ce+=me.shift(),je.lineTo(ke,Ce);break;case 25:for(;6<me.length;)ke+=me.shift(),Ce+=me.shift(),je.lineTo(ke,Ce);A=ke+me.shift(),N=Ce+me.shift(),q=A+me.shift(),Y=N+me.shift(),ke=q+me.shift(),Ce=Y+me.shift(),je.curveTo(A,N,q,Y,ke,Ce);break;case 26:for(me.length%2&&(ke+=me.shift());0<me.length;)A=ke,N=Ce+me.shift(),q=A+me.shift(),Y=N+me.shift(),ke=q,Ce=Y+me.shift(),je.curveTo(A,N,q,Y,ke,Ce);break;case 27:for(me.length%2&&(Ce+=me.shift());0<me.length;)A=ke+me.shift(),N=Ce,q=A+me.shift(),Y=N+me.shift(),ke=q+me.shift(),Ce=Y,je.curveTo(A,N,q,Y,ke,Ce);break;case 28:Ut=jt[Vt],tr=jt[Vt+1],me.push((Ut<<24|tr<<16)>>16),Vt+=2;break;case 29:jr=me.pop()+v.gsubrsBias,(cn=v.gsubrs[jr])&&ht(cn);break;case 30:for(;0<me.length&&(A=ke,N=Ce+me.shift(),q=A+me.shift(),Y=N+me.shift(),ke=q+me.shift(),Ce=Y+(me.length===1?me.shift():0),je.curveTo(A,N,q,Y,ke,Ce),me.length!==0);)A=ke+me.shift(),N=Ce,q=A+me.shift(),Y=N+me.shift(),Ce=Y+me.shift(),ke=q+(me.length===1?me.shift():0),je.curveTo(A,N,q,Y,ke,Ce);break;case 31:for(;0<me.length&&(A=ke+me.shift(),N=Ce,q=A+me.shift(),Y=N+me.shift(),Ce=Y+me.shift(),ke=q+(me.length===1?me.shift():0),je.curveTo(A,N,q,Y,ke,Ce),me.length!==0);)A=ke,N=Ce+me.shift(),q=A+me.shift(),Y=N+me.shift(),ke=q+me.shift(),Ce=Y+(me.length===1?me.shift():0),je.curveTo(A,N,q,Y,ke,Ce);break;default:pr<32?console.log("Glyph "+j.index+": unknown operator "+pr):pr<247?me.push(pr-139):pr<251?(Ut=jt[Vt],Vt+=1,me.push(256*(pr-247)+Ut+108)):pr<255?(Ut=jt[Vt],Vt+=1,me.push(256*-(pr-251)-Ut-108)):(Ut=jt[Vt],tr=jt[Vt+1],lr=jt[Vt+2],wr=jt[Vt+3],Vt+=4,me.push((Ut<<24|tr<<16|lr<<8|wr)/65536))}}}(O),j.advanceWidth=lt,je}function mt(v,j){var O,A=te.indexOf(v);return 0<=A&&(O=A),0<=(A=j.indexOf(v))?O=A+te.length:(O=te.length+j.length,j.push(v)),O}function Dt(v,j,O){for(var A={},N=0;N<v.length;N+=1){var q=v[N],Y=j[q.name];Y===void 0||function re(de,ce){if(de===ce)return 1;if(Array.isArray(de)&&Array.isArray(ce)&&de.length===ce.length){for(var _e=0;_e<de.length;_e+=1)if(!re(de[_e],ce[_e]))return;return 1}}(Y,q.value)||(q.type==="SID"&&(Y=mt(Y,O)),A[q.op]={name:q.name,type:q.type,value:Y})}return A}function er(v,j){var O=new Me.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return O.dict=Dt(Ve,v,j),O}function Rt(v){var j=new Me.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return j.topDicts=[{name:"topDict_0",type:"TABLE",value:v}],j}function At(v){for(var j=new Me.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),O=0;O<v.length;O+=1){var A=v.get(O),N=function(q){for(var Y=[],re=q.path,de=(Y.push({name:"width",type:"NUMBER",value:q.advanceWidth}),0),ce=0,_e=0;_e<re.commands.length;_e+=1){var Ee,je,me,Ne,Pe=void 0,Ae=void 0,ke=re.commands[_e];(ke=ke.type==="Q"?{type:"C",x:ke.x,y:ke.y,x1:1/3*de+2/3*ke.x1,y1:1/3*ce+2/3*ke.y1,x2:1/3*ke.x+2/3*ke.x1,y2:1/3*ke.y+2/3*ke.y1}:ke).type==="M"?(Pe=Math.round(ke.x-de),Ae=Math.round(ke.y-ce),Y.push({name:"dx",type:"NUMBER",value:Pe}),Y.push({name:"dy",type:"NUMBER",value:Ae}),Y.push({name:"rmoveto",type:"OP",value:21}),de=Math.round(ke.x),ce=Math.round(ke.y)):ke.type==="L"?(Pe=Math.round(ke.x-de),Ae=Math.round(ke.y-ce),Y.push({name:"dx",type:"NUMBER",value:Pe}),Y.push({name:"dy",type:"NUMBER",value:Ae}),Y.push({name:"rlineto",type:"OP",value:5}),de=Math.round(ke.x),ce=Math.round(ke.y)):ke.type==="C"&&(Ee=Math.round(ke.x1-de),je=Math.round(ke.y1-ce),me=Math.round(ke.x2-ke.x1),Ne=Math.round(ke.y2-ke.y1),Pe=Math.round(ke.x-ke.x2),Ae=Math.round(ke.y-ke.y2),Y.push({name:"dx1",type:"NUMBER",value:Ee}),Y.push({name:"dy1",type:"NUMBER",value:je}),Y.push({name:"dx2",type:"NUMBER",value:me}),Y.push({name:"dy2",type:"NUMBER",value:Ne}),Y.push({name:"dx",type:"NUMBER",value:Pe}),Y.push({name:"dy",type:"NUMBER",value:Ae}),Y.push({name:"rrcurveto",type:"OP",value:8}),de=Math.round(ke.x),ce=Math.round(ke.y))}return Y.push({name:"endchar",type:"OP",value:14}),Y}(A);j.charStrings.push({name:A.name,type:"CHARSTRING",value:N})}return j}var kt={parse:function(v,j,O){O.tables.cff={},re=v,A=j,(N={}).formatMajor=Te.getCard8(re,A),N.formatMinor=Te.getCard8(re,A+1),N.size=Te.getCard8(re,A+2),N.offsetSize=Te.getCard8(re,A+3),N.startOffset=A,N.endOffset=A+4;var re=ot(v,N.endOffset,Te.bytesToString),A=ot(v,re.endOffset),N=ot(v,A.endOffset,Te.bytesToString),re=ot(v,N.endOffset);if(O.gsubrs=re.objects,O.gsubrsBias=ft(O.gsubrs),(re=at(v,j,A.objects,N.objects)).length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+re.length);if(A=re[0],(O.tables.cff.topDict=A)._privateDict&&(O.defaultWidthX=A._privateDict.defaultWidthX,O.nominalWidthX=A._privateDict.nominalWidthX),A.ros[0]!==void 0&&A.ros[1]!==void 0&&(O.isCIDFont=!0),O.isCIDFont){var re=A.fdArray,q=A.fdSelect;if(re===0||q===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");re=at(v,j,ot(v,re+=j).objects,N.objects),A._fdArray=re,A._fdSelect=function(je,me,Ne,Pe){var Ae,ke=[],Ce=new Te.Parser(je,me);if((je=Ce.parseCard8())===0)for(var lt=0;lt<Ne;lt++){if(Pe<=(Ae=Ce.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+Ae+" (FD count "+Pe+")");ke.push(Ae)}else{if(je!==3)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+je);var bt,ut=Ce.parseCard16(),ht=Ce.parseCard16();if(ht!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+ht);for(var jt=0;jt<ut;jt++){if(Ae=Ce.parseCard8(),bt=Ce.parseCard16(),Pe<=Ae)throw new Error("CFF table CID Font FDSelect has bad FD index value "+Ae+" (FD count "+Pe+")");if(Ne<bt)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+bt);for(;ht<bt;ht++)ke.push(Ae);ht=bt}if(bt!==Ne)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+bt)}return ke}(v,q+=j,O.numGlyphs,re.length)}var q=j+A.private[1],re=tt(v,q,A.private[0],N.objects),Y=(O.defaultWidthX=re.defaultWidthX,O.nominalWidthX=re.nominalWidthX,re.subrs!==0?(q=ot(v,q+re.subrs),O.subrs=q.objects,O.subrsBias=ft(O.subrs)):(O.subrs=[],O.subrsBias=0),ot(v,j+A.charStrings)),re=(O.nGlyphs=Y.objects.length,function(_e,Ee,je,me){var Ne=new Te.Parser(_e,Ee),Pe=(--je,[".notdef"]);if((_e=Ne.parseCard8())===0)for(var Ae=0;Ae<je;Ae+=1)ke=Ne.parseSID(),Pe.push(et(me,ke));else if(_e===1)for(;Pe.length<=je;)for(var ke=Ne.parseSID(),Ce=Ne.parseCard8(),lt=0;lt<=Ce;lt+=1)Pe.push(et(me,ke)),ke+=1;else{if(_e!==2)throw new Error("Unknown charset format "+_e);for(;Pe.length<=je;){ke=Ne.parseSID(),Ce=Ne.parseCard16();for(var bt=0;bt<=Ce;bt+=1)Pe.push(et(me,ke)),ke+=1}}return Pe}(v,j+A.charset,O.nGlyphs,N.objects));A.encoding===0?O.cffEncoding=new Be(Z,re):A.encoding===1?O.cffEncoding=new Be(oe,re):O.cffEncoding=function(_e,Ee,je){var me={},Ne=new Te.Parser(_e,Ee);if((_e=Ne.parseCard8())===0)for(var Pe=Ne.parseCard8(),Ae=0;Ae<Pe;Ae+=1)me[Ce=Ne.parseCard8()]=Ae;else{if(_e!==1)throw new Error("Unknown encoding format "+_e);for(var ke=Ne.parseCard8(),Ce=1,lt=0;lt<ke;lt+=1)for(var bt=Ne.parseCard8(),ut=Ne.parseCard8(),ht=bt;ht<=bt+ut;ht+=1)me[ht]=Ce,Ce+=1}return new Be(me,je)}(v,j+A.encoding,re),O.encoding=O.encoding||O.cffEncoding,O.glyphs=new Je.GlyphSet(O);for(var de=0;de<O.nGlyphs;de+=1){var ce=Y.objects[de];O.glyphs.push(de,Je.cffGlyphLoader(O,de,vt,ce))}},make:function(v,_e){for(var O,A=new Me.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),N=1/_e.unitsPerEm,N={version:_e.version,fullName:_e.fullName,familyName:_e.familyName,weight:_e.weightName,fontBBox:_e.fontBBox||[0,0,0,0],fontMatrix:[N,0,0,N,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},q=[],Y=1;Y<v.length;Y+=1)O=v.get(Y),q.push(O.name);var re,de,ce=[],_e=(A.header=new Me.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),A.nameIndex=function(je){var me=new Me.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);me.names=[];for(var Ne=0;Ne<je.length;Ne+=1)me.names.push({name:"name_"+Ne,type:"NAME",value:je[Ne]});return me}([_e.postScriptName]),er(N,ce)),Ee=(A.topDictIndex=Rt(_e),A.globalSubrIndex=new Me.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),A.charsets=function(je,me){for(var Ne=new Me.Record("Charsets",[{name:"format",type:"Card8",value:0}]),Pe=0;Pe<je.length;Pe+=1){var Ae=mt(je[Pe],me);Ne.fields.push({name:"glyph_"+Pe,type:"SID",value:Ae})}return Ne}(q,ce),A.charStringsIndex=At(v),A.privateDict=(Ee={},re=ce,(de=new Me.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=Dt(Ke,Ee,re),de),A.stringIndex=function(je){var me=new Me.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);me.strings=[];for(var Ne=0;Ne<je.length;Ne+=1)me.strings.push({name:"string_"+Ne,type:"STRING",value:je[Ne]});return me}(ce),A.header.sizeOf()+A.nameIndex.sizeOf()+A.topDictIndex.sizeOf()+A.stringIndex.sizeOf()+A.globalSubrIndex.sizeOf());return N.charset=Ee,N.encoding=0,N.charStrings=N.charset+A.charsets.sizeOf(),N.private[1]=N.charStrings+A.charStringsIndex.sizeOf(),_e=er(N,ce),A.topDictIndex=Rt(_e),A}},br={parse:function(A,j){var O={},A=new Te.Parser(A,j);return O.version=A.parseVersion(),O.fontRevision=Math.round(1e3*A.parseFixed())/1e3,O.checkSumAdjustment=A.parseULong(),O.magicNumber=A.parseULong(),D.argument(O.magicNumber===1594834165,"Font header has wrong magic number."),O.flags=A.parseUShort(),O.unitsPerEm=A.parseUShort(),O.created=A.parseLongDateTime(),O.modified=A.parseLongDateTime(),O.xMin=A.parseShort(),O.yMin=A.parseShort(),O.xMax=A.parseShort(),O.yMax=A.parseShort(),O.macStyle=A.parseUShort(),O.lowestRecPPEM=A.parseUShort(),O.fontDirectionHint=A.parseShort(),O.indexToLocFormat=A.parseShort(),O.glyphDataFormat=A.parseShort(),O},make:function(v){var j=Math.round(new Date().getTime()/1e3)+2082844800,O=j;return v.createdTimestamp&&(O=v.createdTimestamp+2082844800),new Me.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:O},{name:"modified",type:"LONGDATETIME",value:j},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],v)}},pe={parse:function(A,j){var O={},A=new Te.Parser(A,j);return O.version=A.parseVersion(),O.ascender=A.parseShort(),O.descender=A.parseShort(),O.lineGap=A.parseShort(),O.advanceWidthMax=A.parseUShort(),O.minLeftSideBearing=A.parseShort(),O.minRightSideBearing=A.parseShort(),O.xMaxExtent=A.parseShort(),O.caretSlopeRise=A.parseShort(),O.caretSlopeRun=A.parseShort(),O.caretOffset=A.parseShort(),A.relativeOffset+=8,O.metricDataFormat=A.parseShort(),O.numberOfHMetrics=A.parseUShort(),O},make:function(v){return new Me.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],v)}},Ue={parse:function(v,j,O,A,N){for(var q,Y,re=new Te.Parser(v,j),de=0;de<A;de+=1){de<O&&(q=re.parseUShort(),Y=re.parseShort());var ce=N.get(de);ce.advanceWidth=q,ce.leftSideBearing=Y}},make:function(v){for(var j=new Me.Table("hmtx",[]),O=0;O<v.length;O+=1){var N=v.get(O),A=N.advanceWidth||0,N=N.leftSideBearing||0;j.fields.push({name:"advanceWidth_"+O,type:"USHORT",value:A}),j.fields.push({name:"leftSideBearing_"+O,type:"SHORT",value:N})}return j}},Ye={make:function(v){for(var j=new Me.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:v.length}]),O="",A=12+4*v.length,N=0;N<v.length;++N){var q=O.indexOf(v[N]);q<0&&(q=O.length,O+=v[N]),j.fields.push({name:"offset "+N,type:"USHORT",value:A+q}),j.fields.push({name:"length "+N,type:"USHORT",value:v[N].length})}return j.fields.push({name:"stringPool",type:"CHARARRAY",value:O}),j},parse:function(v,j){for(var O=new Te.Parser(v,j),A=O.parseULong(),N=(D.argument(A===1,"Unsupported ltag table version."),O.skip("uLong",1),O.parseULong()),q=[],Y=0;Y<N;Y++){for(var re="",de=j+O.parseUShort(),ce=O.parseUShort(),_e=de;_e<de+ce;++_e)re+=String.fromCharCode(v.getInt8(_e));q.push(re)}return q}},Fe={parse:function(A,j){var O={},A=new Te.Parser(A,j);return O.version=A.parseVersion(),O.numGlyphs=A.parseUShort(),O.version===1&&(O.maxPoints=A.parseUShort(),O.maxContours=A.parseUShort(),O.maxCompositePoints=A.parseUShort(),O.maxCompositeContours=A.parseUShort(),O.maxZones=A.parseUShort(),O.maxTwilightPoints=A.parseUShort(),O.maxStorage=A.parseUShort(),O.maxFunctionDefs=A.parseUShort(),O.maxInstructionDefs=A.parseUShort(),O.maxStackElements=A.parseUShort(),O.maxSizeOfInstructions=A.parseUShort(),O.maxComponentElements=A.parseUShort(),O.maxComponentDepth=A.parseUShort()),O},make:function(v){return new Me.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:v}])}},pt=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],Re={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},_t={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},Qe={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},yt="utf-16",We={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},Ot={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function Yt(v,j,O){switch(v){case 0:return yt;case 1:return Ot[O]||We[j];case 3:if(j===1||j===10)return yt}}function Gt(v){var j,O={};for(j in v)O[v[j]]=parseInt(j);return O}function Wt(v,j,O,A,N,q){return new Me.Record("NameRecord",[{name:"platformID",type:"USHORT",value:v},{name:"encodingID",type:"USHORT",value:j},{name:"languageID",type:"USHORT",value:O},{name:"nameID",type:"USHORT",value:A},{name:"length",type:"USHORT",value:N},{name:"offset",type:"USHORT",value:q}])}function or(v,j){if((O=function(q,Y){var re=q.length,de=Y.length-re+1;e:for(var ce=0;ce<de;ce++)for(;ce<de;ce++){for(var _e=0;_e<re;_e++)if(Y[ce+_e]!==q[_e])continue e;return ce}return-1}(v,j))<0)for(var O=j.length,A=0,N=v.length;A<N;++A)j.push(v[A]);return O}var dr={parse:function(v,j,O){for(var A={},N=new Te.Parser(v,j),j=N.parseUShort(),q=N.parseUShort(),Y=N.offset+N.parseUShort(),re=0;re<q;re++){var Ne=N.parseUShort(),de=N.parseUShort(),ce=N.parseUShort(),_e=N.parseUShort(),_e=pt[_e]||_e,Ee=N.parseUShort(),je=N.parseUShort(),me=function(Ae,ke,Ce){switch(Ae){case 0:if(ke===65535)return"und";if(Ce)return Ce[ke];break;case 1:return Re[ke];case 3:return Qe[ke]}}(Ne,ce,O),Ne=Yt(Ne,de,ce);Ne!==void 0&&me!==void 0&&(de=void 0,(de=Ne===yt?U.UTF16(v,Y+je,Ee):U.MACSTRING(v,Y+je,Ee,Ne))&&((ce=(ce=A[_e])===void 0?A[_e]={}:ce)[me]=de))}return j===1&&N.parseUShort(),A},make:function(v,j){var O,A=[],N={},q=Gt(pt);for(O in v){var Y=q[O];if(Y===void 0&&(Y=O),je=parseInt(Y),isNaN(je))throw new Error('Name table entry "'+O+'" does not exist, see nameTableNames for complete list.');N[je]=v[O],A.push(je)}for(var re=Gt(Re),de=Gt(Qe),ce=[],_e=[],Ee=0;Ee<A.length;Ee++){var je,me,Ne=N[je=A[Ee]];for(me in Ne){var Pe=Ne[me],bt=1,Ae=re[me],ke=_t[Ae],Ce=Yt(bt,ke,Ae),Ce=W.MACSTRING(Pe,Ce),lt=(Ce===void 0&&(bt=0,(Ae=j.indexOf(me))<0&&(Ae=j.length,j.push(me)),ke=4,Ce=W.UTF16(Pe)),or(Ce,_e)),bt=(ce.push(Wt(bt,ke,Ae,je,Ce.length,lt)),de[me]);bt!==void 0&&(Ae=or(ke=W.UTF16(Pe),_e),ce.push(Wt(3,1,bt,je,ke.length,Ae)))}}ce.sort(function(jt,Ut){return jt.platformID-Ut.platformID||jt.encodingID-Ut.encodingID||jt.languageID-Ut.languageID||jt.nameID-Ut.nameID});for(var ut=new Me.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:ce.length},{name:"stringOffset",type:"USHORT",value:6+12*ce.length}]),ht=0;ht<ce.length;ht++)ut.fields.push({name:"record_"+ht,type:"RECORD",value:ce[ht]});return ut.fields.push({name:"strings",type:"LITERAL",value:_e}),ut}},Or=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],qt={parse:function(v,j){var O={},A=new Te.Parser(v,j);O.version=A.parseUShort(),O.xAvgCharWidth=A.parseShort(),O.usWeightClass=A.parseUShort(),O.usWidthClass=A.parseUShort(),O.fsType=A.parseUShort(),O.ySubscriptXSize=A.parseShort(),O.ySubscriptYSize=A.parseShort(),O.ySubscriptXOffset=A.parseShort(),O.ySubscriptYOffset=A.parseShort(),O.ySuperscriptXSize=A.parseShort(),O.ySuperscriptYSize=A.parseShort(),O.ySuperscriptXOffset=A.parseShort(),O.ySuperscriptYOffset=A.parseShort(),O.yStrikeoutSize=A.parseShort(),O.yStrikeoutPosition=A.parseShort(),O.sFamilyClass=A.parseShort(),O.panose=[];for(var N=0;N<10;N++)O.panose[N]=A.parseByte();return O.ulUnicodeRange1=A.parseULong(),O.ulUnicodeRange2=A.parseULong(),O.ulUnicodeRange3=A.parseULong(),O.ulUnicodeRange4=A.parseULong(),O.achVendID=String.fromCharCode(A.parseByte(),A.parseByte(),A.parseByte(),A.parseByte()),O.fsSelection=A.parseUShort(),O.usFirstCharIndex=A.parseUShort(),O.usLastCharIndex=A.parseUShort(),O.sTypoAscender=A.parseShort(),O.sTypoDescender=A.parseShort(),O.sTypoLineGap=A.parseShort(),O.usWinAscent=A.parseUShort(),O.usWinDescent=A.parseUShort(),1<=O.version&&(O.ulCodePageRange1=A.parseULong(),O.ulCodePageRange2=A.parseULong()),2<=O.version&&(O.sxHeight=A.parseShort(),O.sCapHeight=A.parseShort(),O.usDefaultChar=A.parseUShort(),O.usBreakChar=A.parseUShort(),O.usMaxContent=A.parseUShort()),O},make:function(v){return new Me.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],v)},unicodeRanges:Or,getUnicodeRange:function(v){for(var j=0;j<Or.length;j+=1){var O=Or[j];if(v>=O.begin&&v<O.end)return j}return-1}},ll={parse:function(v,j){var O={},A=new Te.Parser(v,j);switch(O.version=A.parseVersion(),O.italicAngle=A.parseFixed(),O.underlinePosition=A.parseShort(),O.underlineThickness=A.parseShort(),O.isFixedPitch=A.parseULong(),O.minMemType42=A.parseULong(),O.maxMemType42=A.parseULong(),O.minMemType1=A.parseULong(),O.maxMemType1=A.parseULong(),O.version){case 1:O.names=ve.slice();break;case 2:O.numberOfGlyphs=A.parseUShort(),O.glyphNameIndex=new Array(O.numberOfGlyphs);for(var N=0;N<O.numberOfGlyphs;N++)O.glyphNameIndex[N]=A.parseUShort();O.names=[];for(var q,Y=0;Y<O.numberOfGlyphs;Y++)O.glyphNameIndex[Y]>=ve.length&&(q=A.parseChar(),O.names.push(A.parseString(q)));break;case 2.5:O.numberOfGlyphs=A.parseUShort(),O.offset=new Array(O.numberOfGlyphs);for(var re=0;re<O.numberOfGlyphs;re++)O.offset[re]=A.parseChar()}return O},make:function(){return new Me.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},ln=new Array(9),So=(ln[1]=function(){var v=this.offset+this.relativeOffset,j=this.parseUShort();return j===1?{substFormat:1,coverage:this.parsePointer(xe.coverage),deltaGlyphId:this.parseUShort()}:j===2?{substFormat:2,coverage:this.parsePointer(xe.coverage),substitute:this.parseOffset16List()}:void D.assert(!1,"0x"+v.toString(16)+": lookup type 1 format must be 1 or 2.")},ln[2]=function(){var v=this.parseUShort();return D.argument(v===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:v,coverage:this.parsePointer(xe.coverage),sequences:this.parseListOfLists()}},ln[3]=function(){var v=this.parseUShort();return D.argument(v===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:v,coverage:this.parsePointer(xe.coverage),alternateSets:this.parseListOfLists()}},ln[4]=function(){var v=this.parseUShort();return D.argument(v===1,"GSUB ligature table identifier-format must be 1"),{substFormat:v,coverage:this.parsePointer(xe.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}},{sequenceIndex:xe.uShort,lookupListIndex:xe.uShort});ln[5]=function(){var v,j,O=this.offset+this.relativeOffset,A=this.parseUShort();return A===1?{substFormat:A,coverage:this.parsePointer(xe.coverage),ruleSets:this.parseListOfLists(function(){var N=this.parseUShort(),q=this.parseUShort();return{input:this.parseUShortList(N-1),lookupRecords:this.parseRecordList(q,So)}})}:A===2?{substFormat:A,coverage:this.parsePointer(xe.coverage),classDef:this.parsePointer(xe.classDef),classSets:this.parseListOfLists(function(){var N=this.parseUShort(),q=this.parseUShort();return{classes:this.parseUShortList(N-1),lookupRecords:this.parseRecordList(q,So)}})}:A===3?(v=this.parseUShort(),j=this.parseUShort(),{substFormat:A,coverages:this.parseList(v,xe.pointer(xe.coverage)),lookupRecords:this.parseRecordList(j,So)}):void D.assert(!1,"0x"+O.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},ln[6]=function(){var v=this.offset+this.relativeOffset,j=this.parseUShort();return j===1?{substFormat:1,coverage:this.parsePointer(xe.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(So)}})}:j===2?{substFormat:2,coverage:this.parsePointer(xe.coverage),backtrackClassDef:this.parsePointer(xe.classDef),inputClassDef:this.parsePointer(xe.classDef),lookaheadClassDef:this.parsePointer(xe.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(So)}})}:j===3?{substFormat:3,backtrackCoverage:this.parseList(xe.pointer(xe.coverage)),inputCoverage:this.parseList(xe.pointer(xe.coverage)),lookaheadCoverage:this.parseList(xe.pointer(xe.coverage)),lookupRecords:this.parseRecordList(So)}:void D.assert(!1,"0x"+v.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},ln[7]=function(){var v=this.parseUShort(),v=(D.argument(v===1,"GSUB Extension Substitution subtable identifier-format must be 1"),this.parseUShort()),j=new xe(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:v,extension:ln[v].call(j)}},ln[8]=function(){var v=this.parseUShort();return D.argument(v===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:v,coverage:this.parsePointer(xe.coverage),backtrackCoverage:this.parseList(xe.pointer(xe.coverage)),lookaheadCoverage:this.parseList(xe.pointer(xe.coverage)),substitutes:this.parseUShortList()}};var Ns=new Array(9);Ns[1]=function(v){return v.substFormat===1?new Me.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Me.Coverage(v.coverage)},{name:"deltaGlyphID",type:"USHORT",value:v.deltaGlyphId}]):new Me.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Me.Coverage(v.coverage)}].concat(Me.ushortList("substitute",v.substitute)))},Ns[3]=function(v){return D.assert(v.substFormat===1,"Lookup type 3 substFormat must be 1."),new Me.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Me.Coverage(v.coverage)}].concat(Me.tableList("altSet",v.alternateSets,function(j){return new Me.Table("alternateSetTable",Me.ushortList("alternate",j))})))},Ns[4]=function(v){return D.assert(v.substFormat===1,"Lookup type 4 substFormat must be 1."),new Me.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Me.Coverage(v.coverage)}].concat(Me.tableList("ligSet",v.ligatureSets,function(j){return new Me.Table("ligatureSetTable",Me.tableList("ligature",j,function(O){return new Me.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:O.ligGlyph}].concat(Me.ushortList("component",O.components,O.components.length+1)))}))})))};var ul={parse:function(v,j){return j=(v=new xe(v,j=j||0)).parseVersion(1),D.argument(j===1||j===1.1,"Unsupported GSUB table version."),j===1?{version:j,scripts:v.parseScriptList(),features:v.parseFeatureList(),lookups:v.parseLookupList(ln)}:{version:j,scripts:v.parseScriptList(),features:v.parseFeatureList(),lookups:v.parseLookupList(ln),variations:v.parseFeatureVariationsList()}},make:function(v){return new Me.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Me.ScriptList(v.scripts)},{name:"features",type:"TABLE",value:new Me.FeatureList(v.features)},{name:"lookups",type:"TABLE",value:new Me.LookupList(v.lookups,Ns)}])}},cl={parse:function(v,j){for(var O=new Te.Parser(v,j),A=O.parseULong(),N=(D.argument(A===1,"Unsupported META table version."),O.parseULong(),O.parseULong(),O.parseULong()),q={},Y=0;Y<N;Y++){var re=O.parseTag(),ce=O.parseULong(),de=O.parseULong(),ce=U.UTF8(v,j+ce,de);q[re]=ce}return q},make:function(v){var j,O=Object.keys(v).length,A="",N=16+12*O,q=new Me.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:N},{name:"numTags",type:"ULONG",value:O}]);for(j in v){var Y=A.length;A+=v[j],q.fields.push({name:"tag "+j,type:"TAG",value:j}),q.fields.push({name:"offset "+j,type:"ULONG",value:N+Y}),q.fields.push({name:"length "+j,type:"ULONG",value:v[j].length})}return q.fields.push({name:"stringPool",type:"CHARARRAY",value:A}),q}};function dl(v){return Math.log(v)/Math.log(2)|0}function Ci(v){for(;v.length%4!=0;)v.push(0);for(var j=0,O=0;O<v.length;O+=4)j+=(v[O]<<24)+(v[O+1]<<16)+(v[O+2]<<8)+v[O+3];return j%=Math.pow(2,32)}function hl(v,j,O,A){return new Me.Record("Table Record",[{name:"tag",type:"TAG",value:v!==void 0?v:""},{name:"checkSum",type:"ULONG",value:j!==void 0?j:0},{name:"offset",type:"ULONG",value:O!==void 0?O:0},{name:"length",type:"ULONG",value:A!==void 0?A:0}])}function fl(v){for(var j=new Me.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),O=(j.tables=v,j.numTables=v.length,Math.pow(2,dl(j.numTables))),A=(j.searchRange=16*O,j.entrySelector=dl(O),j.rangeShift=16*j.numTables-j.searchRange,[]),N=[],q=j.sizeOf()+hl().sizeOf()*j.numTables;q%4!=0;)q+=1,N.push({name:"padding",type:"BYTE",value:0});for(var Y=0;Y<v.length;Y+=1){var re=v[Y],de=(D.argument(re.tableName.length===4,"Table name"+re.tableName+" is invalid."),re.sizeOf()),ce=hl(re.tableName,Ci(re.encode()),q,de);for(A.push({name:ce.tag+" Table Record",type:"RECORD",value:ce}),N.push({name:re.tableName+" table",type:"RECORD",value:re}),q+=de,D.argument(!isNaN(q),"Something went wrong calculating the offset.");q%4!=0;)q+=1,N.push({name:"padding",type:"BYTE",value:0})}return A.sort(function(_e,Ee){return _e.value.tag>Ee.value.tag?1:-1}),j.fields=j.fields.concat(A),j.fields=j.fields.concat(N),j}function pl(v,j,O){for(var A=0;A<j.length;A+=1){var N=v.charToGlyphIndex(j[A]);if(0<N)return v.glyphs.get(N).getMetrics()}return O}var hd={make:fl,fontToTable:function(v){for(var j,O=[],A=[],N=[],q=[],Y=[],re=[],de=[],ce=0,_e=0,Ee=0,je=0,me=0,Ne=0;Ne<v.glyphs.length;Ne+=1){var Pe=v.glyphs.get(Ne),Ae=0|Pe.unicode;if(isNaN(Pe.advanceWidth))throw new Error("Glyph "+Pe.name+" ("+Ne+"): advanceWidth is not a number.");(Ae<j||j===void 0)&&0<Ae&&(j=Ae),ce<Ae&&(ce=Ae);var Ae=qt.getUnicodeRange(Ae);if(Ae<32)_e|=1<<Ae;else if(Ae<64)Ee|=1<<Ae-32;else if(Ae<96)je|=1<<Ae-64;else{if(!(Ae<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");me|=1<<Ae-96}Pe.name!==".notdef"&&(Ae=Pe.getMetrics(),O.push(Ae.xMin),A.push(Ae.yMin),N.push(Ae.xMax),q.push(Ae.yMax),re.push(Ae.leftSideBearing),de.push(Ae.rightSideBearing),Y.push(Pe.advanceWidth))}var ke,Ce={xMin:Math.min.apply(null,O),yMin:Math.min.apply(null,A),xMax:Math.max.apply(null,N),yMax:Math.max.apply(null,q),advanceWidthMax:Math.max.apply(null,Y),advanceWidthAvg:function(pr){for(var rs=0,Mo=0;Mo<pr.length;Mo+=1)rs+=pr[Mo];return rs/pr.length}(Y),minLeftSideBearing:Math.min.apply(null,re),maxLeftSideBearing:Math.max.apply(null,re),minRightSideBearing:Math.min.apply(null,de)},lt=(Ce.ascender=v.ascender,Ce.descender=v.descender,br.make({flags:3,unitsPerEm:v.unitsPerEm,xMin:Ce.xMin,yMin:Ce.yMin,xMax:Ce.xMax,yMax:Ce.yMax,lowestRecPPEM:3,createdTimestamp:v.createdTimestamp})),bt=pe.make({ascender:Ce.ascender,descender:Ce.descender,advanceWidthMax:Ce.advanceWidthMax,minLeftSideBearing:Ce.minLeftSideBearing,minRightSideBearing:Ce.minRightSideBearing,xMaxExtent:Ce.maxLeftSideBearing+(Ce.xMax-Ce.xMin),numberOfHMetrics:v.glyphs.length}),ut=Fe.make(v.glyphs.length),ht=qt.make({xAvgCharWidth:Math.round(Ce.advanceWidthAvg),usWeightClass:v.tables.os2.usWeightClass,usWidthClass:v.tables.os2.usWidthClass,usFirstCharIndex:j,usLastCharIndex:ce,ulUnicodeRange1:_e,ulUnicodeRange2:Ee,ulUnicodeRange3:je,ulUnicodeRange4:me,fsSelection:v.tables.os2.fsSelection,sTypoAscender:Ce.ascender,sTypoDescender:Ce.descender,sTypoLineGap:0,usWinAscent:Ce.yMax,usWinDescent:Math.abs(Ce.yMin),ulCodePageRange1:1,sxHeight:pl(v,"xyvw",{yMax:Math.round(Ce.ascender/2)}).yMax,sCapHeight:pl(v,"HIKLEFJMNTZBDPRAGOQSUVWXY",Ce).yMax,usDefaultChar:v.hasChar(" ")?32:0,usBreakChar:v.hasChar(" ")?32:0}),jt=Ue.make(v.glyphs),Ut=K.make(v.glyphs),zt=v.getEnglishName("fontFamily"),Lt=v.getEnglishName("fontSubfamily"),Ft=zt+" "+Lt,tr=(tr=v.getEnglishName("postScriptName"))||zt.replace(/\s/g,"")+"-"+Lt,lr={};for(ke in v.names)lr[ke]=v.names[ke];lr.uniqueID||(lr.uniqueID={en:v.getEnglishName("manufacturer")+":"+Ft}),lr.postScriptName||(lr.postScriptName={en:tr}),lr.preferredFamily||(lr.preferredFamily=v.names.fontFamily),lr.preferredSubfamily||(lr.preferredSubfamily=v.names.fontSubfamily);var jr=[],wr=dr.make(lr,jr),jr=0<jr.length?Ye.make(jr):void 0,cn=ll.make(),Ft=kt.make(v.glyphs,{version:v.getEnglishName("version"),fullName:Ft,familyName:zt,weightName:Lt,postScriptName:tr,unitsPerEm:v.unitsPerEm,fontBBox:[0,Ce.yMin,Ce.ascender,Ce.advanceWidthMax]}),zt=v.metas&&0<Object.keys(v.metas).length?cl.make(v.metas):void 0,Lt=[lt,bt,ut,ht,wr,Ut,cn,Ft,jt];jr&&Lt.push(jr),v.tables.gsub&&Lt.push(ul.make(v.tables.gsub)),zt&&Lt.push(zt);for(var Sr=Ci((tr=fl(Lt)).encode()),Zt=tr.fields,_r=!1,Vt=0;Vt<Zt.length;Vt+=1)if(Zt[Vt].name==="head table"){Zt[Vt].value.checkSumAdjustment=2981146554-Sr,_r=!0;break}if(_r)return tr;throw new Error("Could not find head table with checkSum to adjust.")},computeCheckSum:Ci};function Oi(v,j){for(var O=0,A=v.length-1;O<=A;){var N=O+A>>>1,q=v[N].tag;if(q===j)return N;q<j?O=1+N:A=N-1}return-O-1}function ml(v,j){for(var O=0,A=v.length-1;O<=A;){var N=O+A>>>1,q=v[N];if(q===j)return N;q<j?O=1+N:A=N-1}return-O-1}function yl(v,j){for(var O=0,A=v.length-1;O<=A;){var N,q=O+A>>>1,Y=(N=v[q]).start;if(Y===j)return N;Y<j?O=1+q:A=q-1}if(0<O)return j>(N=v[O-1]).end?0:N}function Us(v,j){this.font=v,this.tableName=j}function Bs(v){Us.call(this,v,"gpos")}function pn(v){Us.call(this,v,"gsub")}function gl(v,j,O){for(var A=v.subtables,N=0;N<A.length;N++){var q=A[N];if(q.substFormat===j)return q}if(O)return A.push(O),O}function vl(v){for(var j=new ArrayBuffer(v.length),O=new Uint8Array(j),A=0;A<v.length;++A)O[A]=v[A];return j}function To(v,j){if(!v)throw j}function bl(v,j,O,A,N){var q=0<(j&A)?(q=v.parseByte(),O+(q=j&N?q:-q)):0<(j&N)?O:O+v.parseShort();return q}function fd(v,j,O){var A,N=new Te.Parser(j,O);if(v.numberOfContours=N.parseShort(),v._xMin=N.parseShort(),v._yMin=N.parseShort(),v._xMax=N.parseShort(),v._yMax=N.parseShort(),0<v.numberOfContours){for(var q=v.endPointIndices=[],Y=0;Y<v.numberOfContours;Y+=1)q.push(N.parseUShort());v.instructionLength=N.parseUShort(),v.instructions=[];for(var re=0;re<v.instructionLength;re+=1)v.instructions.push(N.parseByte());for(var de=q[q.length-1]+1,ce=[],_e=0;_e<de;_e+=1)if(A=N.parseByte(),ce.push(A),0<(8&A))for(var Ee=N.parseByte(),je=0;je<Ee;je+=1)ce.push(A),_e+=1;if(D.argument(ce.length===de,"Bad flags."),0<q.length){var me,Ne=[];if(0<de){for(var Pe=0;Pe<de;Pe+=1)A=ce[Pe],(me={}).onCurve=!!(1&A),me.lastPointOfContour=0<=q.indexOf(Pe),Ne.push(me);for(var Ae=0,ke=0;ke<de;ke+=1)A=ce[ke],(me=Ne[ke]).x=bl(N,A,Ae,2,16),Ae=me.x;for(var Ce=0,lt=0;lt<de;lt+=1)A=ce[lt],(me=Ne[lt]).y=bl(N,A,Ce,4,32),Ce=me.y}v.points=Ne}else v.points=[]}else if(v.numberOfContours===0)v.points=[];else{v.isComposite=!0,v.points=[],v.components=[];for(var bt=!0;bt;){ce=N.parseUShort();var ut={glyphIndex:N.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&ce)?0<(2&ce)?(ut.dx=N.parseShort(),ut.dy=N.parseShort()):ut.matchedPoints=[N.parseUShort(),N.parseUShort()]:0<(2&ce)?(ut.dx=N.parseChar(),ut.dy=N.parseChar()):ut.matchedPoints=[N.parseByte(),N.parseByte()],0<(8&ce)?ut.xScale=ut.yScale=N.parseF2Dot14():0<(64&ce)?(ut.xScale=N.parseF2Dot14(),ut.yScale=N.parseF2Dot14()):0<(128&ce)&&(ut.xScale=N.parseF2Dot14(),ut.scale01=N.parseF2Dot14(),ut.scale10=N.parseF2Dot14(),ut.yScale=N.parseF2Dot14()),v.components.push(ut),bt=!!(32&ce)}if(256&ce){v.instructionLength=N.parseUShort(),v.instructions=[];for(var ht=0;ht<v.instructionLength;ht+=1)v.instructions.push(N.parseByte())}}}function Pi(v,j){for(var O=[],A=0;A<v.length;A+=1){var N=v[A],N={x:j.xScale*N.x+j.scale01*N.y+j.dx,y:j.scale10*N.x+j.yScale*N.y+j.dy,onCurve:N.onCurve,lastPointOfContour:N.lastPointOfContour};O.push(N)}return O}function _l(v){var j=new Q;if(v)for(var O=function(Ee){for(var je=[],me=[],Ne=0;Ne<Ee.length;Ne+=1){var Pe=Ee[Ne];me.push(Pe),Pe.lastPointOfContour&&(je.push(me),me=[])}return D.argument(me.length===0,"There are still points left in the current contour."),je}(v),A=0;A<O.length;++A){var N,q=O[A],Y=q[q.length-1],re=q[0];Y.onCurve?j.moveTo(Y.x,Y.y):re.onCurve?j.moveTo(re.x,re.y):(N={x:.5*(Y.x+re.x),y:.5*(Y.y+re.y)},j.moveTo(N.x,N.y));for(var de=0;de<q.length;++de){var ce,_e=Y,Y=re,re=q[(de+1)%q.length];Y.onCurve?j.lineTo(Y.x,Y.y):(ce=re,_e.onCurve||(Y.x,_e.x,Y.y,_e.y),re.onCurve||(ce={x:.5*(Y.x+re.x),y:.5*(Y.y+re.y)}),j.quadraticCurveTo(Y.x,Y.y,ce.x,ce.y))}j.closePath()}return j}function pd(v,j){if(j.isComposite)for(var O=0;O<j.components.length;O+=1){var A=j.components[O],N=v.get(A.glyphIndex);if(N.getPath(),N.points){var q=void 0;if(A.matchedPoints===void 0)q=Pi(N.points,A);else{if(A.matchedPoints[0]>j.points.length-1||A.matchedPoints[1]>N.points.length-1)throw Error("Matched points out of range in "+j.name);var Y=j.points[A.matchedPoints[0]],re=N.points[A.matchedPoints[1]],A={xScale:A.xScale,scale01:A.scale01,scale10:A.scale10,yScale:A.yScale,dx:0,dy:0},re=Pi([re],A)[0];A.dx=Y.x-re.x,A.dy=Y.y-re.y,q=Pi(N.points,A)}j.points=j.points.concat(q)}}return _l(j.points)}(Bs.prototype=Us.prototype={searchTag:Oi,binSearch:ml,getTable:function(v){var j=this.font.tables[this.tableName];return j=!j&&v?this.font.tables[this.tableName]=this.createDefaultTable():j},getScriptNames:function(){var v=this.getTable();return v?v.scripts.map(function(j){return j.tag}):[]},getDefaultScriptName:function(){var v=this.getTable();if(v){for(var j=!1,O=0;O<v.scripts.length;O++){var A=v.scripts[O].tag;if(A==="DFLT")return A;A==="latn"&&(j=!0)}return j?"latn":void 0}},getScriptTable:function(v,j){var O,A=this.getTable(j);if(A)return O=A.scripts,0<=(A=Oi(A.scripts,v=v||"DFLT"))?O[A].script:j?(O.splice(-1-A,0,j={tag:v,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),j.script):void 0},getLangSysTable:function(N,j,O){var A,N=this.getScriptTable(N,O);if(N)return j&&j!=="dflt"&&j!=="DFLT"?0<=(A=Oi(N.langSysRecords,j))?N.langSysRecords[A].langSys:O?(N.langSysRecords.splice(-1-A,0,O={tag:j,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}}),O.langSys):void 0:N.defaultLangSys},getFeatureTable:function(v,j,O,A){if(v=this.getLangSysTable(v,j,A),v){for(var N,q=v.featureIndexes,Y=this.font.tables[this.tableName].features,re=0;re<q.length;re++)if((N=Y[q[re]]).tag===O)return N.feature;if(A)return j=Y.length,D.assert(j===0||O>=Y[j-1].tag,"Features must be added in alphabetical order."),Y.push(N={tag:O,feature:{params:0,lookupListIndexes:[]}}),q.push(j),N.feature}},getLookupTables:function(q,j,O,A,N){var q=this.getFeatureTable(q,j,O,N),Y=[];if(q){for(var re,de=q.lookupListIndexes,ce=this.font.tables[this.tableName].lookups,_e=0;_e<de.length;_e++)(re=ce[de[_e]]).lookupType===A&&Y.push(re);if(Y.length===0&&N)return j=ce.length,ce.push(re={lookupType:A,lookupFlag:0,subtables:[],markFilteringSet:void 0}),de.push(j),[re]}return Y},getGlyphClass:function(v,j){switch(v.format){case 1:return v.startGlyph<=j&&j<v.startGlyph+v.classes.length?v.classes[j-v.startGlyph]:0;case 2:var O=yl(v.ranges,j);return O?O.classId:0}},getCoverageIndex:function(v,j){switch(v.format){case 1:var O=ml(v.glyphs,j);return 0<=O?O:-1;case 2:return O=yl(v.ranges,j),O?O.index+j-O.start:-1}},expandCoverage:function(v){if(v.format===1)return v.glyphs;for(var j=[],O=v.ranges,A=0;A<O.length;A++)for(var N=O[A],q=N.start,Y=N.end,re=q;re<=Y;re++)j.push(re);return j}}).init=function(){var v=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(v)},Bs.prototype.getKerningValue=function(v,j,O){for(var A=0;A<v.length;A++)for(var N=v[A].subtables,q=0;q<N.length;q++){var Y=N[q],re=this.getCoverageIndex(Y.coverage,j);if(!(re<0))switch(Y.posFormat){case 1:for(var de=Y.pairSets[re],ce=0;ce<de.length;ce++){var _e=de[ce];if(_e.secondGlyph===O)return _e.value1&&_e.value1.xAdvance||0}break;case 2:var je=this.getGlyphClass(Y.classDef1,j),Ee=this.getGlyphClass(Y.classDef2,O),je=Y.classRecords[je][Ee];return je.value1&&je.value1.xAdvance||0}}return 0},Bs.prototype.getKerningTables=function(v,j){if(this.font.tables.gpos)return this.getLookupTables(v,j,"kern",2)},(pn.prototype=Us.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},pn.prototype.getSingle=function(v,j,O){for(var A=[],N=this.getLookupTables(j,O,v,1),q=0;q<N.length;q++)for(var Y=N[q].subtables,re=0;re<Y.length;re++){var de=Y[re],ce=this.expandCoverage(de.coverage),_e=void 0;if(de.substFormat===1)for(var Ee=de.deltaGlyphId,_e=0;_e<ce.length;_e++){var je=ce[_e];A.push({sub:je,by:je+Ee})}else{var me=de.substitute;for(_e=0;_e<ce.length;_e++)A.push({sub:ce[_e],by:me[_e]})}}return A},pn.prototype.getAlternates=function(v,j,O){for(var A=[],N=this.getLookupTables(j,O,v,3),q=0;q<N.length;q++)for(var Y=N[q].subtables,re=0;re<Y.length;re++)for(var de=Y[re],ce=this.expandCoverage(de.coverage),_e=de.alternateSets,Ee=0;Ee<ce.length;Ee++)A.push({sub:ce[Ee],by:_e[Ee]});return A},pn.prototype.getLigatures=function(v,j,O){for(var A=[],N=this.getLookupTables(j,O,v,4),q=0;q<N.length;q++)for(var Y=N[q].subtables,re=0;re<Y.length;re++)for(var de=Y[re],ce=this.expandCoverage(de.coverage),_e=de.ligatureSets,Ee=0;Ee<ce.length;Ee++)for(var je=ce[Ee],me=_e[Ee],Ne=0;Ne<me.length;Ne++){var Pe=me[Ne];A.push({sub:[je].concat(Pe.components),by:Pe.ligGlyph})}return A},pn.prototype.addSingle=function(v,j,O,A){O=gl(this.getLookupTables(O,A,v,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]}),D.assert(O.coverage.format===1,"Ligature: unable to modify coverage table format "+O.coverage.format),A=j.sub,v=this.binSearch(O.coverage.glyphs,A),v<0&&(O.coverage.glyphs.splice(v=-1-v,0,A),O.substitute.splice(v,0,0)),O.substitute[v]=j.by},pn.prototype.addAlternate=function(v,j,O,A){O=gl(this.getLookupTables(O,A,v,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]}),D.assert(O.coverage.format===1,"Ligature: unable to modify coverage table format "+O.coverage.format),A=j.sub,v=this.binSearch(O.coverage.glyphs,A),v<0&&(O.coverage.glyphs.splice(v=-1-v,0,A),O.alternateSets.splice(v,0,0)),O.alternateSets[v]=j.by},pn.prototype.addLigature=function(q,de,re,N){var re=this.getLookupTables(re,N,q,4,!0)[0],N=re.subtables[0],q=(N||(re.subtables[0]=N={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),D.assert(N.coverage.format===1,"Ligature: unable to modify coverage table format "+N.coverage.format),de.sub[0]),Y=de.sub.slice(1),re={ligGlyph:de.by,components:Y},de=this.binSearch(N.coverage.glyphs,q);if(0<=de){for(var ce=N.ligatureSets[de],_e=0;_e<ce.length;_e++)if(function(Ee,je){var me=Ee.length;if(me===je.length){for(var Ne=0;Ne<me;Ne++)if(Ee[Ne]!==je[Ne])return;return 1}}(ce[_e].components,Y))return;ce.push(re)}else N.coverage.glyphs.splice(de=-1-de,0,q),N.ligatureSets.splice(de,0,[re])},pn.prototype.getFeature=function(v,j,O){if(/ss\d\d/.test(v))return this.getSingle(v,j,O);switch(v){case"aalt":case"salt":return this.getSingle(v,j,O).concat(this.getAlternates(v,j,O));case"dlig":case"liga":case"rlig":return this.getLigatures(v,j,O)}},pn.prototype.add=function(v,j,O,A){if(/ss\d\d/.test(v))return this.addSingle(v,j,O,A);switch(v){case"aalt":case"salt":return typeof j.by=="number"?this.addSingle(v,j,O,A):this.addAlternate(v,j,O,A);case"dlig":case"liga":case"rlig":return this.addLigature(v,j,O,A)}};var xl={getPath:_l,parse:function(v,j,O,A){for(var N=new Je.GlyphSet(A),q=0;q<O.length-1;q+=1){var Y=O[q];Y!==O[q+1]?N.push(q,Je.ttfGlyphLoader(A,q,fd,v,j+Y,pd)):N.push(q,Je.glyphLoader(A,q))}return N}};function wl(v){this.font=v,this.getCommands=function(j){return xl.getPath(j).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function md(v){return v}function jl(v){return Math.sign(v)*Math.round(Math.abs(v))}function yd(v){return Math.sign(v)*Math.round(Math.abs(2*v))/2}function gd(v){return Math.sign(v)*(Math.round(Math.abs(v)+.5)-.5)}function vd(v){return Math.sign(v)*Math.ceil(Math.abs(v))}function bd(v){return Math.sign(v)*Math.floor(Math.abs(v))}function Sl(v){var j=this.srPeriod,O=this.srPhase,A=1;return v<0&&(v=-v,A=-1),v+=this.srThreshold-O,v=Math.trunc(v/j)*j,(v+=O)<0?O*A:v*A}var mn={x:1,y:0,axis:"x",distance:function(v,j,O,A){return(O?v.xo:v.x)-(A?j.xo:j.x)},interpolate:function(v,j,O,A){var N,q,Y,re,de,ce,_e;if(!A||A===this)return N=v.xo-j.xo,q=v.xo-O.xo,de=j.x-j.xo,ce=O.x-O.xo,(_e=(Y=Math.abs(N))+(re=Math.abs(q)))===0?void(v.x=v.xo+(de+ce)/2):void(v.x=v.xo+(de*re+ce*Y)/_e);N=A.distance(v,j,!0,!0),q=A.distance(v,O,!0,!0),de=A.distance(j,j,!1,!0),ce=A.distance(O,O,!1,!0),(_e=(Y=Math.abs(N))+(re=Math.abs(q)))===0?mn.setRelative(v,v,(de+ce)/2,A,!0):mn.setRelative(v,v,(de*re+ce*Y)/_e,A,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(v,j,O,A,N){var q,Y;A&&A!==this?(q=N?j.xo:j.x,Y=N?j.yo:j.y,q+=O*A.x,Y+=O*A.y,v.x=q+(v.y-Y)/A.normalSlope):v.x=(N?j.xo:j.x)+O},slope:0,touch:function(v){v.xTouched=!0},touched:function(v){return v.xTouched},untouch:function(v){v.xTouched=!1}},Tn={x:0,y:1,axis:"y",distance:function(v,j,O,A){return(O?v.yo:v.y)-(A?j.yo:j.y)},interpolate:function(v,j,O,A){var N,q,Y,re,de,ce,_e;if(!A||A===this)return N=v.yo-j.yo,q=v.yo-O.yo,de=j.y-j.yo,ce=O.y-O.yo,(_e=(Y=Math.abs(N))+(re=Math.abs(q)))===0?void(v.y=v.yo+(de+ce)/2):void(v.y=v.yo+(de*re+ce*Y)/_e);N=A.distance(v,j,!0,!0),q=A.distance(v,O,!0,!0),de=A.distance(j,j,!1,!0),ce=A.distance(O,O,!1,!0),(_e=(Y=Math.abs(N))+(re=Math.abs(q)))===0?Tn.setRelative(v,v,(de+ce)/2,A,!0):Tn.setRelative(v,v,(de*re+ce*Y)/_e,A,!0)},normalSlope:0,setRelative:function(v,j,O,A,N){var q,Y;A&&A!==this?(q=N?j.xo:j.x,Y=N?j.yo:j.y,q+=O*A.x,Y+=O*A.y,v.y=Y+A.normalSlope*(v.x-q)):v.y=(N?j.yo:j.y)+O},slope:Number.POSITIVE_INFINITY,touch:function(v){v.yTouched=!0},touched:function(v){return v.yTouched},untouch:function(v){v.yTouched=!1}};function Jo(v,j){this.x=v,this.y=j,this.axis=void 0,this.slope=j/v,this.normalSlope=-v/j,Object.freeze(this)}function es(v,j){var O=Math.sqrt(v*v+j*j);return j/=O,(v/=O)===1&&j===0?mn:v===0&&j===1?Tn:new Jo(v,j)}function En(v,j,O,A){this.x=this.xo=Math.round(64*v)/64,this.y=this.yo=Math.round(64*j)/64,this.lastPointOfContour=O,this.onCurve=A,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(mn),Object.freeze(Tn),Jo.prototype.distance=function(v,j,O,A){return this.x*mn.distance(v,j,O,A)+this.y*Tn.distance(v,j,O,A)},Jo.prototype.interpolate=function(v,N,q,A){var Y=A.distance(v,N,!0,!0),re=A.distance(v,q,!0,!0),N=A.distance(N,N,!1,!0),q=A.distance(q,q,!1,!0),Y=Math.abs(Y),re=Math.abs(re),de=Y+re;de===0?this.setRelative(v,v,(N+q)/2,A,!0):this.setRelative(v,v,(N*re+q*Y)/de,A,!0)},Jo.prototype.setRelative=function(v,q,de,ce,re){var Y=re?q.xo:q.x,re=re?q.yo:q.y,q=Y+de*(ce=ce||this).x,Y=re+de*ce.y,re=ce.normalSlope,de=this.slope,ce=v.x,_e=v.y;v.x=(de*ce-re*q+Y-_e)/(de-re),v.y=de*(v.x-ce)+_e},Jo.prototype.touch=function(v){v.xTouched=!0,v.yTouched=!0},En.prototype.nextTouched=function(v){for(var j=this.nextPointOnContour;!v.touched(j)&&j!==this;)j=j.nextPointOnContour;return j},En.prototype.prevTouched=function(v){for(var j=this.prevPointOnContour;!v.touched(j)&&j!==this;)j=j.prevPointOnContour;return j};var ts=Object.freeze(new En(0,0)),_d={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function Dn(v,j){switch(this.env=v,this.stack=[],this.prog=j,v){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=mn,this.round=jl}}function Gs(v){for(var j=v.tZone=new Array(v.gZone.length),O=0;O<j.length;O++)j[O]=new En(0,0)}function Tl(v,j){var O,A=v.prog,N=v.ip,q=1;do if((O=A[++N])===88)q++;else if(O===89)q--;else if(O===64)N+=A[N+1]+1;else if(O===65)N+=2*A[N+1]+1;else if(176<=O&&O<=183)N+=O-176+1;else if(184<=O&&O<=191)N+=2*(O-184+1);else if(j&&q===1&&O===27)break;while(0<q);v.ip=N}function El(v,j){d.DEBUG&&console.log(j.step,"SVTCA["+v.axis+"]"),j.fv=j.pv=j.dpv=v}function Ml(v,j){d.DEBUG&&console.log(j.step,"SPVTCA["+v.axis+"]"),j.pv=j.dpv=v}function kl(v,j){d.DEBUG&&console.log(j.step,"SFVTCA["+v.axis+"]"),j.fv=v}function Cl(v,j){var O,N=j.stack,A=N.pop(),N=N.pop(),q=j.z2[A],Y=j.z1[N];d.DEBUG&&console.log("SPVTL["+v+"]",A,N),A=v?(O=q.y-Y.y,Y.x-q.x):(O=Y.x-q.x,Y.y-q.y),j.pv=j.dpv=es(O,A)}function Ol(v,j){var O,N=j.stack,A=N.pop(),N=N.pop(),q=j.z2[A],Y=j.z1[N];d.DEBUG&&console.log("SFVTL["+v+"]",A,N),A=v?(O=q.y-Y.y,Y.x-q.x):(O=Y.x-q.x,Y.y-q.y),j.fv=es(O,A)}function Ai(v){d.DEBUG&&console.log(v.step,"POP[]"),v.stack.pop()}function Pl(v,j){var O=j.stack.pop(),A=j.z0[O],N=j.fv,q=j.pv,Y=(d.DEBUG&&console.log(j.step,"MDAP["+v+"]",O),q.distance(A,ts));v&&(Y=j.round(Y)),N.setRelative(A,ts,Y,q),N.touch(A),j.rp0=j.rp1=O}function Al(v,j){var O,A,N,q=j.z2,Y=q.length-2;d.DEBUG&&console.log(j.step,"IUP["+v.axis+"]");for(var re=0;re<Y;re++)O=q[re],v.touched(O)||(A=O.prevTouched(v))!==O&&(A===(N=O.nextTouched(v))&&v.setRelative(O,O,v.distance(A,A,!1,!0),v,!0),v.interpolate(O,A,N,v))}function Ll(v,j){for(var O=j.stack,A=v?j.rp1:j.rp2,N=(v?j.z0:j.z1)[A],q=j.fv,Y=j.pv,re=j.loop,de=j.z2;re--;){var ce=O.pop(),_e=de[ce],Ee=Y.distance(N,N,!1,!0);q.setRelative(_e,_e,Ee,Y),q.touch(_e),d.DEBUG&&console.log(j.step,(1<j.loop?"loop "+(j.loop-re)+": ":"")+"SHP["+(v?"rp1":"rp2")+"]",ce)}j.loop=1}function Rl(v,j){for(var O=j.stack,Y=v?j.rp1:j.rp2,A=(v?j.z0:j.z1)[Y],N=j.fv,q=j.pv,Y=O.pop(),re=j.z2[j.contours[Y]],de=re,ce=(d.DEBUG&&console.log(j.step,"SHC["+v+"]",Y),q.distance(A,A,!1,!0));de!==A&&N.setRelative(de,de,ce,q),(de=de.nextPointOnContour)!==re;);}function Dl(v,j){var O,A,re=j.stack,N=v?j.rp1:j.rp2,N=(v?j.z0:j.z1)[N],q=j.fv,Y=j.pv,re=re.pop();switch(d.DEBUG&&console.log(j.step,"SHZ["+v+"]",re),re){case 0:O=j.tZone;break;case 1:O=j.gZone;break;default:throw new Error("Invalid zone")}for(var de=Y.distance(N,N,!1,!0),ce=O.length-2,_e=0;_e<ce;_e++)A=O[_e],q.setRelative(A,A,de,Y)}function Il(v,j){var A=j.stack,O=A.pop()/64,A=A.pop(),N=j.z1[A],q=j.z0[j.rp0],Y=j.fv,re=j.pv;Y.setRelative(N,q,O,re),Y.touch(N),d.DEBUG&&console.log(j.step,"MSIRP["+v+"]",O,A),j.rp1=j.rp0,j.rp2=A,v&&(j.rp0=A)}function Fl(v,j){var O=j.stack,re=O.pop(),O=O.pop(),A=j.z0[O],N=j.fv,q=j.pv,Y=j.cvt[re],re=(d.DEBUG&&console.log(j.step,"MIAP["+v+"]",re,"(",Y,")",O),q.distance(A,ts));v&&(Math.abs(re-Y)<j.cvCutIn&&(re=Y),re=j.round(re)),N.setRelative(A,ts,re,q),j.zp0===0&&(A.xo=A.x,A.yo=A.y),N.touch(A),j.rp0=j.rp1=O}function Nl(v,j){var O=j.stack,A=O.pop(),N=j.z2[A];d.DEBUG&&console.log(j.step,"GC["+v+"]",A),O.push(64*j.dpv.distance(N,ts,v,!1))}function Ul(v,j){var A=j.stack,O=A.pop(),A=A.pop(),N=j.z1[O],q=j.z0[A],q=j.dpv.distance(q,N,v,v);d.DEBUG&&console.log(j.step,"MD["+v+"]",O,A,"->",q),j.stack.push(Math.round(64*q))}function Li(v,j){var O=j.stack,A=O.pop(),N=j.fv,q=j.pv,Y=j.ppem,re=j.deltaBase+16*(v-1),de=j.deltaShift,ce=j.z0;d.DEBUG&&console.log(j.step,"DELTAP["+v+"]",A,O);for(var _e=0;_e<A;_e++){var Ee=O.pop(),je=O.pop();re+((240&je)>>4)===Y&&(0<=(je=(15&je)-8)&&je++,d.DEBUG&&console.log(j.step,"DELTAPFIX",Ee,"by",je*de),Ee=ce[Ee],N.setRelative(Ee,Ee,je*de,q))}}function zs(v,j){var O=j.stack,A=O.pop();d.DEBUG&&console.log(j.step,"ROUND[]"),O.push(64*j.round(A/64))}function Ri(v,j){var O=j.stack,A=O.pop(),N=j.ppem,q=j.deltaBase+16*(v-1),Y=j.deltaShift;d.DEBUG&&console.log(j.step,"DELTAC["+v+"]",A,O);for(var re=0;re<A;re++){var de=O.pop(),ce=O.pop();q+((240&ce)>>4)===N&&(0<=(ce=(15&ce)-8)&&ce++,ce=ce*Y,d.DEBUG&&console.log(j.step,"DELTACFIX",de,"by",ce),j.cvt[de]+=ce)}}function Bl(v,j){var O,N=j.stack,A=N.pop(),N=N.pop(),q=j.z2[A],Y=j.z1[N];d.DEBUG&&console.log(j.step,"SDPVTL["+v+"]",A,N),A=v?(O=q.y-Y.y,Y.x-q.x):(O=Y.x-q.x,Y.y-q.y),j.dpv=es(O,A)}function In(v,j){var O=j.stack,A=j.prog,N=j.ip;d.DEBUG&&console.log(j.step,"PUSHB["+v+"]");for(var q=0;q<v;q++)O.push(A[++N]);j.ip=N}function Fn(v,j){var O=j.ip,A=j.prog,N=j.stack;d.DEBUG&&console.log(j.ip,"PUSHW["+v+"]");for(var q=0;q<v;q++){var Y=A[++O]<<8|A[++O];32768&Y&&(Y=-(1+(65535^Y))),N.push(Y)}j.ip=O}function st(v,j,O,A,N,q){var Y,re,ce=q.stack,de=v&&ce.pop(),ce=ce.pop(),_e=q.rp0,_e=q.z0[_e],Ee=q.z1[ce],je=q.minDis,me=q.fv,Ne=q.dpv,Pe=Y=Ne.distance(Ee,_e,!0,!0),Ae=0<=Pe?1:-1;Pe=Math.abs(Pe),v&&(re=q.cvt[de],A&&Math.abs(Pe-re)<q.cvCutIn&&(Pe=re)),O&&Pe<je&&(Pe=je),A&&(Pe=q.round(Pe)),me.setRelative(Ee,_e,Ae*Pe,Ne),me.touch(Ee),d.DEBUG&&console.log(q.step,(v?"MIRP[":"MDRP[")+(j?"M":"m")+(O?">":"_")+(A?"R":"_")+(N===0?"Gr":N===1?"Bl":N===2?"Wh":"")+"]",v?de+"("+q.cvt[de]+","+re+")":"",ce,"(d =",Y,"->",Ae*Pe,")"),q.rp1=q.rp0,q.rp2=ce,j&&(q.rp0=ce)}wl.prototype.exec=function(v,j){if(typeof j!="number")throw new Error("Point size is not a number!");if(!(2<this._errorState)){var O=this.font,A=this._prepState;if(!A||A.ppem!==j){var N=this._fpgmState;if(!N){Dn.prototype=_d,(N=this._fpgmState=new Dn("fpgm",O.tables.fpgm)).funcs=[],N.font=O,d.DEBUG&&(console.log("---EXEC FPGM---"),N.step=-1);try{Eo(N)}catch(ce){return console.log("Hinting error in FPGM:"+ce),void(this._errorState=3)}}Dn.prototype=N,(A=this._prepState=new Dn("prep",O.tables.prep)).ppem=j;var q=O.tables.cvt;if(q)for(var Y=A.cvt=new Array(q.length),re=j/O.unitsPerEm,de=0;de<q.length;de++)Y[de]=q[de]*re;else A.cvt=[];d.DEBUG&&(console.log("---EXEC PREP---"),A.step=-1);try{Eo(A)}catch(ce){this._errorState<2&&console.log("Hinting error in PREP:"+ce),this._errorState=2}}if(!(1<this._errorState))try{return xd(v,A)}catch(ce){this._errorState<1&&(console.log("Hinting error:"+ce),console.log("Note: further hinting errors are silenced")),this._errorState=1}}};var xd=function(v,j){var O=j.ppem/j.font.unitsPerEm,A=O,N=v.components;if(Dn.prototype=j,N){for(var q=j.font,Y=[],re=[],de=0;de<N.length;de++){var ce=N[de],_e=q.glyphs.get(ce.glyphIndex),Ee=new Dn("glyf",_e.instructions);d.DEBUG&&(console.log("---EXEC COMP "+de+"---"),Ee.step=-1),Gl(_e,Ee,O,A);for(var je=Math.round(ce.dx*O),me=Math.round(ce.dy*A),Ne=Ee.gZone,Pe=Ee.contours,Ae=0;Ae<Ne.length;Ae++){var ke=Ne[Ae];ke.xTouched=ke.yTouched=!1,ke.xo=ke.x=ke.x+je,ke.yo=ke.y=ke.y+me}var Ce=Y.length;Y.push.apply(Y,Ne);for(var lt=0;lt<Pe.length;lt++)re.push(Pe[lt]+Ce)}v.instructions&&!Ee.inhibitGridFit&&((Ee=new Dn("glyf",v.instructions)).gZone=Ee.z0=Ee.z1=Ee.z2=Y,Ee.contours=re,Y.push(new En(0,0),new En(Math.round(v.advanceWidth*O),0)),d.DEBUG&&(console.log("---EXEC COMPOSITE---"),Ee.step=-1),Eo(Ee),Y.length-=2)}else Ee=new Dn("glyf",v.instructions),d.DEBUG&&(console.log("---EXEC GLYPH---"),Ee.step=-1),Gl(v,Ee,O,A),Y=Ee.gZone;return Y},Gl=function(v,j,O,A){for(var N,q,Y,re=v.points||[],de=re.length,ce=j.gZone=j.z0=j.z1=j.z2=[],_e=j.contours=[],Ee=0;Ee<de;Ee++)N=re[Ee],ce[Ee]=new En(N.x*O,N.y*A,N.lastPointOfContour,N.onCurve);for(var je=0;je<de;je++)N=ce[je],q||(q=N,_e.push(je)),N.lastPointOfContour?((N.nextPointOnContour=q).prevPointOnContour=N,q=void 0):(Y=ce[je+1],(N.nextPointOnContour=Y).prevPointOnContour=N);if(!j.inhibitGridFit){if(d.DEBUG){console.log("PROCESSING GLYPH",j.stack);for(var me=0;me<de;me++)console.log(me,ce[me].x,ce[me].y)}if(ce.push(new En(0,0),new En(Math.round(v.advanceWidth*O),0)),Eo(j),ce.length-=2,d.DEBUG){console.log("FINISHED GLYPH",j.stack);for(var Ne=0;Ne<de;Ne++)console.log(Ne,ce[Ne].x,ce[Ne].y)}}},Eo=function(v){var j=v.prog;if(j){var O,A=j.length;for(v.ip=0;v.ip<A;v.ip++){if(d.DEBUG&&v.step++,!(O=wd[j[v.ip]]))throw new Error("unknown instruction: 0x"+Number(j[v.ip]).toString(16));O(v)}}},wd=[El.bind(void 0,Tn),El.bind(void 0,mn),Ml.bind(void 0,Tn),Ml.bind(void 0,mn),kl.bind(void 0,Tn),kl.bind(void 0,mn),Cl.bind(void 0,0),Cl.bind(void 0,1),Ol.bind(void 0,0),Ol.bind(void 0,1),function(v){var j=(O=v.stack).pop(),O=O.pop();d.DEBUG&&console.log(v.step,"SPVFS[]",j,O),v.pv=v.dpv=es(O,j)},function(v){var j=(O=v.stack).pop(),O=O.pop();d.DEBUG&&console.log(v.step,"SPVFS[]",j,O),v.fv=es(O,j)},function(v){var j=v.stack,O=v.pv;d.DEBUG&&console.log(v.step,"GPV[]"),j.push(16384*O.x),j.push(16384*O.y)},function(v){var j=v.stack,O=v.fv;d.DEBUG&&console.log(v.step,"GFV[]"),j.push(16384*O.x),j.push(16384*O.y)},function(v){v.fv=v.pv,d.DEBUG&&console.log(v.step,"SFVTPV[]")},function(j){var O=(Y=j.stack).pop(),A=Y.pop(),N=Y.pop(),q=Y.pop(),Y=Y.pop(),de=j.z0,_e=j.z1,re=de[O],de=de[A],ce=_e[N],_e=_e[q],j=j.z2[Y],O=(d.DEBUG&&console.log("ISECT[], ",O,A,N,q,Y),re.x),A=re.y,N=de.x,q=de.y,Y=ce.x,re=ce.y,de=_e.x,ce=_e.y,_e=(O-N)*(re-ce)-(A-q)*(Y-de),Ee=O*q-A*N,je=Y*ce-re*de;j.x=(Ee*(Y-de)-je*(O-N))/_e,j.y=(Ee*(re-ce)-je*(A-q))/_e},function(v){v.rp0=v.stack.pop(),d.DEBUG&&console.log(v.step,"SRP0[]",v.rp0)},function(v){v.rp1=v.stack.pop(),d.DEBUG&&console.log(v.step,"SRP1[]",v.rp1)},function(v){v.rp2=v.stack.pop(),d.DEBUG&&console.log(v.step,"SRP2[]",v.rp2)},function(v){var j=v.stack.pop();switch(d.DEBUG&&console.log(v.step,"SZP0[]",j),v.zp0=j){case 0:v.tZone||Gs(v),v.z0=v.tZone;break;case 1:v.z0=v.gZone;break;default:throw new Error("Invalid zone pointer")}},function(v){var j=v.stack.pop();switch(d.DEBUG&&console.log(v.step,"SZP1[]",j),v.zp1=j){case 0:v.tZone||Gs(v),v.z1=v.tZone;break;case 1:v.z1=v.gZone;break;default:throw new Error("Invalid zone pointer")}},function(v){var j=v.stack.pop();switch(d.DEBUG&&console.log(v.step,"SZP2[]",j),v.zp2=j){case 0:v.tZone||Gs(v),v.z2=v.tZone;break;case 1:v.z2=v.gZone;break;default:throw new Error("Invalid zone pointer")}},function(v){var j=v.stack.pop();switch(d.DEBUG&&console.log(v.step,"SZPS[]",j),v.zp0=v.zp1=v.zp2=j){case 0:v.tZone||Gs(v),v.z0=v.z1=v.z2=v.tZone;break;case 1:v.z0=v.z1=v.z2=v.gZone;break;default:throw new Error("Invalid zone pointer")}},function(v){v.loop=v.stack.pop(),d.DEBUG&&console.log(v.step,"SLOOP[]",v.loop)},function(v){d.DEBUG&&console.log(v.step,"RTG[]"),v.round=jl},function(v){d.DEBUG&&console.log(v.step,"RTHG[]"),v.round=gd},function(v){var j=v.stack.pop();d.DEBUG&&console.log(v.step,"SMD[]",j),v.minDis=j/64},function(v){d.DEBUG&&console.log(v.step,"ELSE[]"),Tl(v,!1)},function(v){var j=v.stack.pop();d.DEBUG&&console.log(v.step,"JMPR[]",j),v.ip+=j-1},function(v){var j=v.stack.pop();d.DEBUG&&console.log(v.step,"SCVTCI[]",j),v.cvCutIn=j/64},void 0,void 0,function(v){var j=v.stack;d.DEBUG&&console.log(v.step,"DUP[]"),j.push(j[j.length-1])},Ai,function(v){d.DEBUG&&console.log(v.step,"CLEAR[]"),v.stack.length=0},function(v){var j=v.stack,O=j.pop(),A=j.pop();d.DEBUG&&console.log(v.step,"SWAP[]"),j.push(O),j.push(A)},function(v){var j=v.stack;d.DEBUG&&console.log(v.step,"DEPTH[]"),j.push(j.length)},function(v){var j=v.stack,O=j.pop();d.DEBUG&&console.log(v.step,"CINDEX[]",O),j.push(j[j.length-O])},function(v){var j=v.stack,O=j.pop();d.DEBUG&&console.log(v.step,"MINDEX[]",O),j.push(j.splice(j.length-O,1)[0])},void 0,void 0,void 0,function(v){var j=(A=v.stack).pop(),O=A.pop(),A=(d.DEBUG&&console.log(v.step,"LOOPCALL[]",j,O),v.ip),N=v.prog;v.prog=v.funcs[j];for(var q=0;q<O;q++)Eo(v),d.DEBUG&&console.log(++v.step,q+1<O?"next loopcall":"done loopcall",q);v.ip=A,v.prog=N},function(v){var j=v.stack.pop(),O=(d.DEBUG&&console.log(v.step,"CALL[]",j),v.ip),A=v.prog;v.prog=v.funcs[j],Eo(v),v.ip=O,v.prog=A,d.DEBUG&&console.log(++v.step,"returning from",j)},function(v){if(v.env!=="fpgm")throw new Error("FDEF not allowed here");var A=v.stack,j=v.prog,O=v.ip,A=A.pop(),N=O;for(d.DEBUG&&console.log(v.step,"FDEF[]",A);j[++O]!==45;);v.ip=O,v.funcs[A]=j.slice(N+1,O)},void 0,Pl.bind(void 0,0),Pl.bind(void 0,1),Al.bind(void 0,Tn),Al.bind(void 0,mn),Ll.bind(void 0,0),Ll.bind(void 0,1),Rl.bind(void 0,0),Rl.bind(void 0,1),Dl.bind(void 0,0),Dl.bind(void 0,1),function(v){for(var j=v.stack,O=v.loop,A=v.fv,N=j.pop()/64,q=v.z2;O--;){var Y=j.pop(),re=q[Y];d.DEBUG&&console.log(v.step,(1<v.loop?"loop "+(v.loop-O)+": ":"")+"SHPIX[]",Y,N),A.setRelative(re,re,N),A.touch(re)}v.loop=1},function(v){for(var j=v.stack,O=v.rp1,A=v.rp2,N=v.loop,q=v.z0[O],Y=v.z1[A],re=v.fv,de=v.dpv,ce=v.z2;N--;){var _e=j.pop(),Ee=ce[_e];d.DEBUG&&console.log(v.step,(1<v.loop?"loop "+(v.loop-N)+": ":"")+"IP[]",_e,O,"<->",A),re.interpolate(Ee,q,Y,de),re.touch(Ee)}v.loop=1},Il.bind(void 0,0),Il.bind(void 0,1),function(v){for(var j=v.stack,O=v.rp0,A=v.z0[O],N=v.loop,q=v.fv,Y=v.pv,re=v.z1;N--;){var de=j.pop(),ce=re[de];d.DEBUG&&console.log(v.step,(1<v.loop?"loop "+(v.loop-N)+": ":"")+"ALIGNRP[]",de),q.setRelative(ce,A,0,Y),q.touch(ce)}v.loop=1},function(v){d.DEBUG&&console.log(v.step,"RTDG[]"),v.round=yd},Fl.bind(void 0,0),Fl.bind(void 0,1),function(v){var j=v.prog,O=v.ip,A=v.stack,N=j[++O];d.DEBUG&&console.log(v.step,"NPUSHB[]",N);for(var q=0;q<N;q++)A.push(j[++O]);v.ip=O},function(v){var j=v.ip,O=v.prog,A=v.stack,N=O[++j];d.DEBUG&&console.log(v.step,"NPUSHW[]",N);for(var q=0;q<N;q++){var Y=O[++j]<<8|O[++j];32768&Y&&(Y=-(1+(65535^Y))),A.push(Y)}v.ip=j},function(v){var A=v.stack,j=(j=v.store)||(v.store=[]),O=A.pop(),A=A.pop();d.DEBUG&&console.log(v.step,"WS",O,A),j[A]=O},function(N){var j=N.stack,O=N.store,A=j.pop(),N=(d.DEBUG&&console.log(N.step,"RS",A),O&&O[A]||0);j.push(N)},function(v){var j=(O=v.stack).pop(),O=O.pop();d.DEBUG&&console.log(v.step,"WCVTP",j,O),v.cvt[O]=j/64},function(v){var j=v.stack,O=j.pop();d.DEBUG&&console.log(v.step,"RCVT",O),j.push(64*v.cvt[O])},Nl.bind(void 0,0),Nl.bind(void 0,1),void 0,Ul.bind(void 0,0),Ul.bind(void 0,1),function(v){d.DEBUG&&console.log(v.step,"MPPEM[]"),v.stack.push(v.ppem)},void 0,function(v){d.DEBUG&&console.log(v.step,"FLIPON[]"),v.autoFlip=!0},void 0,void 0,function(v){var j=v.stack,O=j.pop(),A=j.pop();d.DEBUG&&console.log(v.step,"LT[]",O,A),j.push(A<O?1:0)},function(v){var j=v.stack,O=j.pop(),A=j.pop();d.DEBUG&&console.log(v.step,"LTEQ[]",O,A),j.push(A<=O?1:0)},function(v){var j=v.stack,O=j.pop(),A=j.pop();d.DEBUG&&console.log(v.step,"GT[]",O,A),j.push(O<A?1:0)},function(v){var j=v.stack,O=j.pop(),A=j.pop();d.DEBUG&&console.log(v.step,"GTEQ[]",O,A),j.push(O<=A?1:0)},function(v){var j=v.stack,O=j.pop(),A=j.pop();d.DEBUG&&console.log(v.step,"EQ[]",O,A),j.push(O===A?1:0)},function(v){var j=v.stack,O=j.pop(),A=j.pop();d.DEBUG&&console.log(v.step,"NEQ[]",O,A),j.push(O!==A?1:0)},function(v){var j=v.stack,O=j.pop();d.DEBUG&&console.log(v.step,"ODD[]",O),j.push(Math.trunc(O)%2?1:0)},function(v){var j=v.stack,O=j.pop();d.DEBUG&&console.log(v.step,"EVEN[]",O),j.push(Math.trunc(O)%2?0:1)},function(v){var j=v.stack.pop();d.DEBUG&&console.log(v.step,"IF[]",j),j||(Tl(v,!0),d.DEBUG&&console.log(v.step,"EIF[]"))},function(v){d.DEBUG&&console.log(v.step,"EIF[]")},function(v){var j=v.stack,O=j.pop(),A=j.pop();d.DEBUG&&console.log(v.step,"AND[]",O,A),j.push(O&&A?1:0)},function(v){var j=v.stack,O=j.pop(),A=j.pop();d.DEBUG&&console.log(v.step,"OR[]",O,A),j.push(O||A?1:0)},function(v){var j=v.stack,O=j.pop();d.DEBUG&&console.log(v.step,"NOT[]",O),j.push(O?0:1)},Li.bind(void 0,1),function(v){var j=v.stack.pop();d.DEBUG&&console.log(v.step,"SDB[]",j),v.deltaBase=j},function(v){var j=v.stack.pop();d.DEBUG&&console.log(v.step,"SDS[]",j),v.deltaShift=Math.pow(.5,j)},function(v){var j=v.stack,O=j.pop(),A=j.pop();d.DEBUG&&console.log(v.step,"ADD[]",O,A),j.push(A+O)},function(v){var j=v.stack,O=j.pop(),A=j.pop();d.DEBUG&&console.log(v.step,"SUB[]",O,A),j.push(A-O)},function(v){var j=v.stack,O=j.pop(),A=j.pop();d.DEBUG&&console.log(v.step,"DIV[]",O,A),j.push(64*A/O)},function(v){var j=v.stack,O=j.pop(),A=j.pop();d.DEBUG&&console.log(v.step,"MUL[]",O,A),j.push(A*O/64)},function(v){var j=v.stack,O=j.pop();d.DEBUG&&console.log(v.step,"ABS[]",O),j.push(Math.abs(O))},function(v){var j=v.stack,O=j.pop();d.DEBUG&&console.log(v.step,"NEG[]",O),j.push(-O)},function(v){var j=v.stack,O=j.pop();d.DEBUG&&console.log(v.step,"FLOOR[]",O),j.push(64*Math.floor(O/64))},function(v){var j=v.stack,O=j.pop();d.DEBUG&&console.log(v.step,"CEILING[]",O),j.push(64*Math.ceil(O/64))},zs.bind(void 0,0),zs.bind(void 0,1),zs.bind(void 0,2),zs.bind(void 0,3),void 0,void 0,void 0,void 0,function(v){var j=(O=v.stack).pop(),O=O.pop();d.DEBUG&&console.log(v.step,"WCVTF[]",j,O),v.cvt[O]=j*v.ppem/v.font.unitsPerEm},Li.bind(void 0,2),Li.bind(void 0,3),Ri.bind(void 0,1),Ri.bind(void 0,2),Ri.bind(void 0,3),function(v){var j,O=v.stack.pop();switch(d.DEBUG&&console.log(v.step,"SROUND[]",O),v.round=Sl,192&O){case 0:j=.5;break;case 64:j=1;break;case 128:j=2;break;default:throw new Error("invalid SROUND value")}switch(v.srPeriod=j,48&O){case 0:v.srPhase=0;break;case 16:v.srPhase=.25*j;break;case 32:v.srPhase=.5*j;break;case 48:v.srPhase=.75*j;break;default:throw new Error("invalid SROUND value")}v.srThreshold=(O&=15)===0?0:(O/8-.5)*j},function(v){var j,O=v.stack.pop();switch(d.DEBUG&&console.log(v.step,"S45ROUND[]",O),v.round=Sl,192&O){case 0:j=Math.sqrt(2)/2;break;case 64:j=Math.sqrt(2);break;case 128:j=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(v.srPeriod=j,48&O){case 0:v.srPhase=0;break;case 16:v.srPhase=.25*j;break;case 32:v.srPhase=.5*j;break;case 48:v.srPhase=.75*j;break;default:throw new Error("invalid S45ROUND value")}v.srThreshold=(O&=15)===0?0:(O/8-.5)*j},void 0,void 0,function(v){d.DEBUG&&console.log(v.step,"ROFF[]"),v.round=md},void 0,function(v){d.DEBUG&&console.log(v.step,"RUTG[]"),v.round=vd},function(v){d.DEBUG&&console.log(v.step,"RDTG[]"),v.round=bd},Ai,Ai,void 0,void 0,void 0,void 0,void 0,function(v){var j=v.stack.pop();d.DEBUG&&console.log(v.step,"SCANCTRL[]",j)},Bl.bind(void 0,0),Bl.bind(void 0,1),function(v){var j=v.stack,O=j.pop(),A=0;d.DEBUG&&console.log(v.step,"GETINFO[]",O),1&O&&(A=35),32&O&&(A|=4096),j.push(A)},void 0,function(v){var j=v.stack,O=j.pop(),A=j.pop(),N=j.pop();d.DEBUG&&console.log(v.step,"ROLL[]"),j.push(A),j.push(O),j.push(N)},function(v){var j=v.stack,O=j.pop(),A=j.pop();d.DEBUG&&console.log(v.step,"MAX[]",O,A),j.push(Math.max(A,O))},function(v){var j=v.stack,O=j.pop(),A=j.pop();d.DEBUG&&console.log(v.step,"MIN[]",O,A),j.push(Math.min(A,O))},function(v){var j=v.stack.pop();d.DEBUG&&console.log(v.step,"SCANTYPE[]",j)},function(v){var j=v.stack.pop(),O=v.stack.pop();switch(d.DEBUG&&console.log(v.step,"INSTCTRL[]",j,O),j){case 1:return void(v.inhibitGridFit=!!O);case 2:return void(v.ignoreCvt=!!O);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,In.bind(void 0,1),In.bind(void 0,2),In.bind(void 0,3),In.bind(void 0,4),In.bind(void 0,5),In.bind(void 0,6),In.bind(void 0,7),In.bind(void 0,8),Fn.bind(void 0,1),Fn.bind(void 0,2),Fn.bind(void 0,3),Fn.bind(void 0,4),Fn.bind(void 0,5),Fn.bind(void 0,6),Fn.bind(void 0,7),Fn.bind(void 0,8),st.bind(void 0,0,0,0,0,0),st.bind(void 0,0,0,0,0,1),st.bind(void 0,0,0,0,0,2),st.bind(void 0,0,0,0,0,3),st.bind(void 0,0,0,0,1,0),st.bind(void 0,0,0,0,1,1),st.bind(void 0,0,0,0,1,2),st.bind(void 0,0,0,0,1,3),st.bind(void 0,0,0,1,0,0),st.bind(void 0,0,0,1,0,1),st.bind(void 0,0,0,1,0,2),st.bind(void 0,0,0,1,0,3),st.bind(void 0,0,0,1,1,0),st.bind(void 0,0,0,1,1,1),st.bind(void 0,0,0,1,1,2),st.bind(void 0,0,0,1,1,3),st.bind(void 0,0,1,0,0,0),st.bind(void 0,0,1,0,0,1),st.bind(void 0,0,1,0,0,2),st.bind(void 0,0,1,0,0,3),st.bind(void 0,0,1,0,1,0),st.bind(void 0,0,1,0,1,1),st.bind(void 0,0,1,0,1,2),st.bind(void 0,0,1,0,1,3),st.bind(void 0,0,1,1,0,0),st.bind(void 0,0,1,1,0,1),st.bind(void 0,0,1,1,0,2),st.bind(void 0,0,1,1,0,3),st.bind(void 0,0,1,1,1,0),st.bind(void 0,0,1,1,1,1),st.bind(void 0,0,1,1,1,2),st.bind(void 0,0,1,1,1,3),st.bind(void 0,1,0,0,0,0),st.bind(void 0,1,0,0,0,1),st.bind(void 0,1,0,0,0,2),st.bind(void 0,1,0,0,0,3),st.bind(void 0,1,0,0,1,0),st.bind(void 0,1,0,0,1,1),st.bind(void 0,1,0,0,1,2),st.bind(void 0,1,0,0,1,3),st.bind(void 0,1,0,1,0,0),st.bind(void 0,1,0,1,0,1),st.bind(void 0,1,0,1,0,2),st.bind(void 0,1,0,1,0,3),st.bind(void 0,1,0,1,1,0),st.bind(void 0,1,0,1,1,1),st.bind(void 0,1,0,1,1,2),st.bind(void 0,1,0,1,1,3),st.bind(void 0,1,1,0,0,0),st.bind(void 0,1,1,0,0,1),st.bind(void 0,1,1,0,0,2),st.bind(void 0,1,1,0,0,3),st.bind(void 0,1,1,0,1,0),st.bind(void 0,1,1,0,1,1),st.bind(void 0,1,1,0,1,2),st.bind(void 0,1,1,0,1,3),st.bind(void 0,1,1,1,0,0),st.bind(void 0,1,1,1,0,1),st.bind(void 0,1,1,1,0,2),st.bind(void 0,1,1,1,0,3),st.bind(void 0,1,1,1,1,0),st.bind(void 0,1,1,1,1,1),st.bind(void 0,1,1,1,1,2),st.bind(void 0,1,1,1,1,3)],jd=Array.from||function(v){return v.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function It(v){(v=v||{}).empty||(To(v.familyName,"When creating a new Font object, familyName is required."),To(v.styleName,"When creating a new Font object, styleName is required."),To(v.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),To(v.ascender,"When creating a new Font object, ascender is required."),To(v.descender,"When creating a new Font object, descender is required."),To(v.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:v.familyName||" "},fontSubfamily:{en:v.styleName||" "},fullName:{en:v.fullName||v.familyName+" "+v.styleName},postScriptName:{en:v.postScriptName||(v.familyName+v.styleName).replace(/\s/g,"")},designer:{en:v.designer||" "},designerURL:{en:v.designerURL||" "},manufacturer:{en:v.manufacturer||" "},manufacturerURL:{en:v.manufacturerURL||" "},license:{en:v.license||" "},licenseURL:{en:v.licenseURL||" "},version:{en:v.version||"Version 0.1"},description:{en:v.description||" "},copyright:{en:v.copyright||" "},trademark:{en:v.trademark||" "}},this.unitsPerEm=v.unitsPerEm||1e3,this.ascender=v.ascender,this.descender=v.descender,this.createdTimestamp=v.createdTimestamp,this.tables={os2:{usWeightClass:v.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:v.widthClass||this.usWidthClasses.MEDIUM,fsSelection:v.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new Je.GlyphSet(this,v.glyphs||[]),this.encoding=new we(this),this.position=new Bs(this),this.substitution=new pn(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting||(this.outlinesFormat==="truetype"?this._hinting=new wl(this):void 0)}})}function zl(v,j){var O,A=JSON.stringify(v),N=256;for(O in j){var q=parseInt(O);if(q&&!(q<256)){if(JSON.stringify(j[O])===A)return q;N<=q&&(N=q+1)}}return j[N]=v,N}It.prototype.hasChar=function(v){return this.encoding.charToGlyphIndex(v)!==null},It.prototype.charToGlyphIndex=function(v){return this.encoding.charToGlyphIndex(v)},It.prototype.charToGlyph=function(v){return v=this.charToGlyphIndex(v),this.glyphs.get(v)||this.glyphs.get(0)},It.prototype.stringToGlyphs=function(v,j){j=j||this.defaultRenderOptions;for(var O=jd(v),A=[],N=0;N<O.length;N+=1){var q=O[N];A.push(this.charToGlyphIndex(q))}var Y=A.length;if(j.features){var v=j.script||this.substitution.getDefaultScriptName(),re=[];j.features.liga&&(re=re.concat(this.substitution.getFeature("liga",v,j.language))),j.features.rlig&&(re=re.concat(this.substitution.getFeature("rlig",v,j.language)));for(var de=0;de<Y;de+=1)for(var ce=0;ce<re.length;ce++){for(var _e=re[ce],Ee=_e.sub,je=Ee.length,me=0;me<je&&Ee[me]===A[de+me];)me++;me===je&&(A.splice(de,je,_e.by),Y=Y-je+1)}}for(var Ne=new Array(Y),Pe=this.glyphs.get(0),Ae=0;Ae<Y;Ae+=1)Ne[Ae]=this.glyphs.get(A[Ae])||Pe;return Ne},It.prototype.nameToGlyphIndex=function(v){return this.glyphNames.nameToGlyphIndex(v)},It.prototype.nameToGlyph=function(v){return v=this.nameToGlyphIndex(v),this.glyphs.get(v)||this.glyphs.get(0)},It.prototype.glyphIndexToName=function(v){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(v):""},It.prototype.getKerningValue=function(v,j){v=v.index||v,j=j.index||j;var O=this.position.defaultKerningTables;return O?this.position.getKerningValue(O,v,j):this.kerningPairs[v+","+j]||0},It.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},It.prototype.forEachGlyph=function(v,j,O,A,N,q){j=j!==void 0?j:0,O=O!==void 0?O:0,N=N||this.defaultRenderOptions;var Y,re=1/this.unitsPerEm*(A=A!==void 0?A:72),de=this.stringToGlyphs(v,N);N.kerning&&(v=N.script||this.position.getDefaultScriptName(),Y=this.position.getKerningTables(v,N.language));for(var ce=0;ce<de.length;ce+=1){var _e=de[ce];q.call(this,_e,j,O,A,N),_e.advanceWidth&&(j+=_e.advanceWidth*re),N.kerning&&ce<de.length-1&&(j+=(Y?this.position.getKerningValue(Y,_e.index,de[ce+1].index):this.getKerningValue(_e,de[ce+1]))*re),N.letterSpacing?j+=N.letterSpacing*A:N.tracking&&(j+=N.tracking/1e3*A)}return j},It.prototype.getPath=function(v,j,O,A,N){var q=new Q;return this.forEachGlyph(v,j,O,A,N,function(Y,re,de,ce){Y=Y.getPath(re,de,ce,N,this),q.extend(Y)}),q},It.prototype.getPaths=function(v,j,O,A,N){var q=[];return this.forEachGlyph(v,j,O,A,N,function(Y,re,de,ce){Y=Y.getPath(re,de,ce,N,this),q.push(Y)}),q},It.prototype.getAdvanceWidth=function(v,j,O){return this.forEachGlyph(v,0,0,j,O,function(){})},It.prototype.draw=function(v,j,O,A,N,q){this.getPath(j,O,A,N,q).draw(v)},It.prototype.drawPoints=function(v,j,O,A,N,q){this.forEachGlyph(j,O,A,N,q,function(Y,re,de,ce){Y.drawPoints(v,re,de,ce)})},It.prototype.drawMetrics=function(v,j,O,A,N,q){this.forEachGlyph(j,O,A,N,q,function(Y,re,de,ce){Y.drawMetrics(v,re,de,ce)})},It.prototype.getEnglishName=function(v){if(v=this.names[v],v)return v.en},It.prototype.validate=function(){var v=this;function j(O){O=v.getEnglishName(O),O&&O.trim().length}j("fontFamily"),j("weightName"),j("manufacturer"),j("copyright"),j("version"),this.unitsPerEm},It.prototype.toTables=function(){return hd.fontToTable(this)},It.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},It.prototype.toArrayBuffer=function(){for(var v=this.toTables().encode(),j=new ArrayBuffer(v.length),O=new Uint8Array(j),A=0;A<v.length;A++)O[A]=v[A];return j},It.prototype.download=function(v){var j=this.getEnglishName("fontFamily"),O=this.getEnglishName("fontSubfamily"),A=(v=v||j.replace(/\s/g,"")+"-"+O+".otf",this.toArrayBuffer());typeof window<"u"?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,A.byteLength,function(N){N.root.getFile(v,{create:!0},function(q){q.createWriter(function(Y){var re=new DataView(A),re=new Blob([re],{type:"font/opentype"});Y.write(re),Y.addEventListener("writeend",function(){location.href=q.toURL()},!1)})})},function(N){throw new Error(N.name+": "+N.message)})):(j=t("fs"),O=function(N){for(var q=new s(N.byteLength),Y=new Uint8Array(N),re=0;re<q.length;++re)q[re]=Y[re];return q}(A),j.writeFileSync(v,O))},It.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},It.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},It.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var Sd={make:function(v,j){var O=new Me.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:v.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:v.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*v.axes.length}]);O.offsetToData=O.sizeOf();for(var A,N,q,Y=0;Y<v.axes.length;Y++)O.fields=O.fields.concat((A=Y,N=v.axes[Y],q=j,q=zl(N.name,j),[{name:"tag_"+A,type:"TAG",value:N.tag},{name:"minValue_"+A,type:"FIXED",value:N.minValue<<16},{name:"defaultValue_"+A,type:"FIXED",value:N.defaultValue<<16},{name:"maxValue_"+A,type:"FIXED",value:N.maxValue<<16},{name:"flags_"+A,type:"USHORT",value:0},{name:"nameID_"+A,type:"USHORT",value:q}]));for(var re=0;re<v.instances.length;re++)O.fields=O.fields.concat(function(de,ce,_e,Ee){for(var je=[{name:"nameID_"+de,type:"USHORT",value:zl(ce.name,Ee)},{name:"flags_"+de,type:"USHORT",value:0}],me=0;me<_e.length;++me){var Ne=_e[me].tag;je.push({name:"axis_"+de+" "+Ne,type:"FIXED",value:ce.coordinates[Ne]<<16})}return je}(re,v.instances[re],v.axes,j));return O},parse:function(v,j,O){for(var A,N,q,Y,re=new Te.Parser(v,j),de=re.parseULong(),ce=(D.argument(de===65536,"Unsupported fvar table version."),re.parseOffset16()),_e=(re.skip("uShort",1),re.parseUShort()),Ee=re.parseUShort(),je=re.parseUShort(),me=re.parseUShort(),Ne=[],Pe=0;Pe<_e;Pe++)Ne.push((A=v,N=j+ce+Pe*Ee,q=O,Y={},A=new Te.Parser(A,N),Y.tag=A.parseTag(),Y.minValue=A.parseFixed(),Y.defaultValue=A.parseFixed(),Y.maxValue=A.parseFixed(),A.skip("uShort",1),Y.name=q[A.parseUShort()]||{},Y));for(var Ae=[],ke=j+ce+_e*Ee,Ce=0;Ce<je;Ce++)Ae.push(function(lt,bt,ut,ht){var jt={},Ut=new Te.Parser(lt,bt);jt.name=ht[Ut.parseUShort()]||{},Ut.skip("uShort",1),jt.coordinates={};for(var tr=0;tr<ut.length;++tr)jt.coordinates[ut[tr].tag]=Ut.parseFixed();return jt}(v,ke+Ce*me,Ne,O));return{axes:Ne,instances:Ae}}},un=new Array(10);un[1]=function(){var v=this.offset+this.relativeOffset,j=this.parseUShort();return j===1?{posFormat:1,coverage:this.parsePointer(xe.coverage),value:this.parseValueRecord()}:j===2?{posFormat:2,coverage:this.parsePointer(xe.coverage),values:this.parseValueRecordList()}:void D.assert(!1,"0x"+v.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},un[2]=function(){var v,j,O,A,q=this.offset+this.relativeOffset,N=this.parseUShort(),q=(D.assert(N===1||N===2,"0x"+q.toString(16)+": GPOS lookup type 2 format must be 1 or 2."),this.parsePointer(xe.coverage)),Y=this.parseUShort(),re=this.parseUShort();return N===1?{posFormat:N,coverage:q,valueFormat1:Y,valueFormat2:re,pairSets:this.parseList(xe.pointer(xe.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(Y),value2:this.parseValueRecord(re)}})))}:N===2?(v=this.parsePointer(xe.classDef),j=this.parsePointer(xe.classDef),O=this.parseUShort(),A=this.parseUShort(),{posFormat:N,coverage:q,valueFormat1:Y,valueFormat2:re,classDef1:v,classDef2:j,class1Count:O,class2Count:A,classRecords:this.parseList(O,xe.list(A,function(){return{value1:this.parseValueRecord(Y),value2:this.parseValueRecord(re)}}))}):void 0},un[3]=function(){return{error:"GPOS Lookup 3 not supported"}},un[4]=function(){return{error:"GPOS Lookup 4 not supported"}},un[5]=function(){return{error:"GPOS Lookup 5 not supported"}},un[6]=function(){return{error:"GPOS Lookup 6 not supported"}},un[7]=function(){return{error:"GPOS Lookup 7 not supported"}},un[8]=function(){return{error:"GPOS Lookup 8 not supported"}},un[9]=function(){return{error:"GPOS Lookup 9 not supported"}};var Td=new Array(10),Ed={parse:function(v,j){return j=(v=new xe(v,j=j||0)).parseVersion(1),D.argument(j===1||j===1.1,"Unsupported GPOS table version "+j),j===1?{version:j,scripts:v.parseScriptList(),features:v.parseFeatureList(),lookups:v.parseLookupList(un)}:{version:j,scripts:v.parseScriptList(),features:v.parseFeatureList(),lookups:v.parseLookupList(un),variations:v.parseFeatureVariationsList()}},make:function(v){return new Me.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Me.ScriptList(v.scripts)},{name:"features",type:"TABLE",value:new Me.FeatureList(v.features)},{name:"lookups",type:"TABLE",value:new Me.LookupList(v.lookups,Td)}])}},Md={parse:function(v,j){if(v=new Te.Parser(v,j),(j=v.parseUShort())===0){var O=v,A={},Ee=(O.skip("uShort"),O.parseUShort()),N=(D.argument(Ee===0,"Unsupported kern sub-table version."),O.skip("uShort",2),O.parseUShort());O.skip("uShort",3);for(var q=0;q<N;q+=1){var Y=O.parseUShort(),re=O.parseUShort(),de=O.parseShort();A[Y+","+re]=de}return A}if(j!==1)throw new Error("Unsupported kern table version ("+j+").");var ce=v,_e={},Ee=(ce.skip("uShort"),1<ce.parseULong()&&console.warn("Only the first kern subtable is supported."),ce.skip("uLong"),255&ce.parseUShort());if(ce.skip("uShort"),Ee==0){var je=ce.parseUShort();ce.skip("uShort",3);for(var me=0;me<je;me+=1){var Ne=ce.parseUShort(),Pe=ce.parseUShort(),Ae=ce.parseShort();_e[Ne+","+Pe]=Ae}}return _e}},kd={parse:function(v,j,O,A){for(var N=new Te.Parser(v,j),q=A?N.parseUShort:N.parseULong,Y=[],re=0;re<O+1;re+=1){var de=q.call(N);A&&(de*=2),Y.push(de)}return Y}};function Cd(v,j){t("fs").readFile(v,function(O,A){if(O)return j(O.message);j(null,vl(A))})}function Od(v,j){var O=new XMLHttpRequest;O.open("get",v,!0),O.responseType="arraybuffer",O.onload=function(){return O.response?j(null,O.response):j("Font could not be loaded: "+O.statusText)},O.onerror=function(){j("Font could not be loaded")},O.send()}function Vl(v,j){for(var O=[],A=12,N=0;N<j;N+=1){var q=Te.getTag(v,A),Y=Te.getULong(v,A+4),re=Te.getULong(v,A+8),de=Te.getULong(v,A+12);O.push({tag:q,checksum:Y,offset:re,length:de,compression:!1}),A+=16}return O}function ar(O,j){if(j.compression!=="WOFF")return{data:O,offset:j.offset};var O=new Uint8Array(O.buffer,j.offset+2,j.compressedLength-2),A=new Uint8Array(j.length);if(H(O,A),A.byteLength!==j.length)throw new Error("Decompression error: "+j.tag+" decompressed length doesn't match recorded length");return{data:new DataView(A.buffer,0),offset:0}}function Di(Ce){var j,O,A,N,q,Y,re,de,ce,_e,Ee,je,me,Ne,Pe=new It({empty:!0}),Ae=new DataView(Ce,0),ke=[],Ce=Te.getTag(Ae,0);if(Ce==="\0\0\0"||Ce==="true"||Ce==="typ1")Pe.outlinesFormat="truetype",ke=Vl(Ae,A=Te.getUShort(Ae,4));else if(Ce==="OTTO")Pe.outlinesFormat="cff",ke=Vl(Ae,A=Te.getUShort(Ae,4));else{if(Ce!=="wOFF")throw new Error("Unsupported OpenType signature "+Ce);var lt=Te.getTag(Ae,4);if(lt==="\0\0\0")Pe.outlinesFormat="truetype";else{if(lt!=="OTTO")throw new Error("Unsupported OpenType flavor "+Ce);Pe.outlinesFormat="cff"}ke=function(zt,Lt){for(var Sr=[],Zt=44,_r=0;_r<Lt;_r+=1){var Vt=Te.getTag(zt,Zt),pr=Te.getULong(zt,Zt+4),rs=Te.getULong(zt,Zt+8),Mo=Te.getULong(zt,Zt+12),Hl=void 0,Hl=rs<Mo&&"WOFF";Sr.push({tag:Vt,offset:pr,compression:Hl,compressedLength:rs,length:Mo}),Zt+=20}return Sr}(Ae,A=Te.getUShort(Ae,12))}for(var bt=0;bt<A;bt+=1){var ut=ke[bt],ht=void 0;switch(ut.tag){case"cmap":ht=ar(Ae,ut),Pe.tables.cmap=K.parse(ht.data,ht.offset),Pe.encoding=new Oe(Pe.tables.cmap);break;case"cvt ":ht=ar(Ae,ut),Ne=new Te.Parser(ht.data,ht.offset),Pe.tables.cvt=Ne.parseShortList(ut.length/2);break;case"fvar":q=ut;break;case"fpgm":ht=ar(Ae,ut),Ne=new Te.Parser(ht.data,ht.offset),Pe.tables.fpgm=Ne.parseByteList(ut.length);break;case"head":ht=ar(Ae,ut),Pe.tables.head=br.parse(ht.data,ht.offset),Pe.unitsPerEm=Pe.tables.head.unitsPerEm,j=Pe.tables.head.indexToLocFormat;break;case"hhea":ht=ar(Ae,ut),Pe.tables.hhea=pe.parse(ht.data,ht.offset),Pe.ascender=Pe.tables.hhea.ascender,Pe.descender=Pe.tables.hhea.descender,Pe.numberOfHMetrics=Pe.tables.hhea.numberOfHMetrics;break;case"hmtx":ce=ut;break;case"ltag":ht=ar(Ae,ut),O=Ye.parse(ht.data,ht.offset);break;case"maxp":ht=ar(Ae,ut),Pe.tables.maxp=Fe.parse(ht.data,ht.offset),Pe.numGlyphs=Pe.tables.maxp.numGlyphs;break;case"name":je=ut;break;case"OS/2":ht=ar(Ae,ut),Pe.tables.os2=qt.parse(ht.data,ht.offset);break;case"post":ht=ar(Ae,ut),Pe.tables.post=ll.parse(ht.data,ht.offset),Pe.glyphNames=new De(Pe.tables.post);break;case"prep":ht=ar(Ae,ut),Ne=new Te.Parser(ht.data,ht.offset),Pe.tables.prep=Ne.parseByteList(ut.length);break;case"glyf":Y=ut;break;case"loca":Ee=ut;break;case"CFF ":N=ut;break;case"kern":_e=ut;break;case"GPOS":re=ut;break;case"GSUB":de=ut;break;case"meta":me=ut}}if(lt=ar(Ae,je),Pe.tables.name=dr.parse(lt.data,lt.offset,O),Pe.names=Pe.tables.name,Y&&Ee)Ce=j===0,lt=ar(Ae,Ee),lt=kd.parse(lt.data,lt.offset,Pe.numGlyphs,Ce),Ce=ar(Ae,Y),Pe.glyphs=xl.parse(Ce.data,Ce.offset,lt,Pe);else{if(!N)throw new Error("Font doesn't contain TrueType or CFF outlines.");Ce=ar(Ae,N),kt.parse(Ce.data,Ce.offset,Pe)}for(var lt=ar(Ae,ce),jt=(Ue.parse(lt.data,lt.offset,Pe.numberOfHMetrics,Pe.numGlyphs,Pe.glyphs),Pe),Ut=jt.tables.cmap.glyphIndexMap,tr=Object.keys(Ut),lr=0;lr<tr.length;lr+=1){var wr,jr=tr[lr],cn=Ut[jr];(wr=jt.glyphs.get(cn)).addUnicode(parseInt(jr))}for(var Ft=0;Ft<jt.glyphs.length;Ft+=1)wr=jt.glyphs.get(Ft),jt.cffEncoding?jt.isCIDFont?wr.name="gid"+Ft:wr.name=jt.cffEncoding.charset[Ft]:jt.glyphNames.names&&(wr.name=jt.glyphNames.glyphIndexToName(Ft));return _e?(Ce=ar(Ae,_e),Pe.kerningPairs=Md.parse(Ce.data,Ce.offset)):Pe.kerningPairs={},re&&(lt=ar(Ae,re),Pe.tables.gpos=Ed.parse(lt.data,lt.offset),Pe.position.init()),de&&(Ce=ar(Ae,de),Pe.tables.gsub=ul.parse(Ce.data,Ce.offset)),q&&(lt=ar(Ae,q),Pe.tables.fvar=Sd.parse(lt.data,lt.offset,Pe.names)),me&&(Ce=ar(Ae,me),Pe.tables.meta=cl.parse(Ce.data,Ce.offset),Pe.metas=Pe.tables.meta),Pe}d.Font=It,d.Glyph=Xe,d.Path=Q,d.BoundingBox=G,d._parse=Te,d.parse=Di,d.load=function(v,j){(typeof window>"u"?Cd:Od)(v,function(O,A){if(O)return j(O);var N;try{N=Di(A)}catch(q){return j(q,null)}return j(null,N)})},d.loadSync=function(v){return Di(vl(t("fs").readFileSync(v)))},Object.defineProperty(d,"__esModule",{value:!0})},n(typeof b=="object"&&_!==void 0?b:l.opentype={})}).call(this,t("buffer").Buffer)},{buffer:4,fs:2}],258:[function(t,_,b){(function(s){function l(m,p){for(var r=0,o=m.length-1;0<=o;o--){var a=m[o];a==="."?m.splice(o,1):a===".."?(m.splice(o,1),r++):r&&(m.splice(o,1),r--)}if(p)for(;r--;)m.unshift("..");return m}function n(m,p){if(m.filter)return m.filter(p);for(var r=[],o=0;o<m.length;o++)p(m[o],o,m)&&r.push(m[o]);return r}b.resolve=function(){for(var m="",p=!1,r=arguments.length-1;-1<=r&&!p;r--){var o=0<=r?arguments[r]:s.cwd();if(typeof o!="string")throw new TypeError("Arguments to path.resolve must be strings");o&&(m=o+"/"+m,p=o.charAt(0)==="/")}return(p?"/":"")+(m=l(n(m.split("/"),function(a){return!!a}),!p).join("/"))||"."},b.normalize=function(m){var p=b.isAbsolute(m),r=d(m,-1)==="/";return(m=(m=l(n(m.split("/"),function(o){return!!o}),!p).join("/"))||p?m:".")&&r&&(m+="/"),(p?"/":"")+m},b.isAbsolute=function(m){return m.charAt(0)==="/"},b.join=function(){var m=Array.prototype.slice.call(arguments,0);return b.normalize(n(m,function(p,r){if(typeof p!="string")throw new TypeError("Arguments to path.join must be strings");return p}).join("/"))},b.relative=function(m,p){function r(f){for(var y=0;y<f.length&&f[y]==="";y++);for(var x=f.length-1;0<=x&&f[x]==="";x--);return x<y?[]:f.slice(y,x-y+1)}m=b.resolve(m).substr(1),p=b.resolve(p).substr(1);for(var o=r(m.split("/")),a=r(p.split("/")),i=Math.min(o.length,a.length),h=i,c=0;c<i;c++)if(o[c]!==a[c]){h=c;break}for(var u=[],c=h;c<o.length;c++)u.push("..");return(u=u.concat(a.slice(h))).join("/")},b.sep="/",b.delimiter=":",b.dirname=function(m){if(typeof m!="string"&&(m+=""),m.length===0)return".";for(var p=m.charCodeAt(0)===47,r=-1,o=!0,a=m.length-1;1<=a;--a)if(m.charCodeAt(a)===47){if(!o){r=a;break}}else o=!1;return r===-1?p?"/":".":p&&r===1?"/":m.slice(0,r)},b.basename=function(m,p){return m=function(r){typeof r!="string"&&(r+="");for(var o=0,a=-1,i=!0,h=r.length-1;0<=h;--h)if(r.charCodeAt(h)===47){if(!i){o=h+1;break}}else a===-1&&(i=!1,a=h+1);return a===-1?"":r.slice(o,a)}(m),m=p&&m.substr(-1*p.length)===p?m.substr(0,m.length-p.length):m},b.extname=function(m){typeof m!="string"&&(m+="");for(var p=-1,r=0,o=-1,a=!0,i=0,h=m.length-1;0<=h;--h){var c=m.charCodeAt(h);if(c===47){if(a)continue;r=h+1;break}o===-1&&(a=!1,o=h+1),c===46?p===-1?p=h:i!==1&&(i=1):p!==-1&&(i=-1)}return p===-1||o===-1||i===0||i===1&&p===o-1&&p===r+1?"":m.slice(p,o)};var d="ab".substr(-1)==="b"?function(m,p,r){return m.substr(p,r)}:function(m,p,r){return p<0&&(p=m.length+p),m.substr(p,r)}}).call(this,t("_process"))},{_process:259}],259:[function(t,n,b){var s,l,n=n.exports={};function d(){throw new Error("setTimeout has not been defined")}function m(){throw new Error("clearTimeout has not been defined")}try{s=typeof setTimeout=="function"?setTimeout:d}catch{s=d}try{l=typeof clearTimeout=="function"?clearTimeout:m}catch{l=m}function p(y){if(s===setTimeout)return setTimeout(y,0);if((s===d||!s)&&setTimeout)return(s=setTimeout)(y,0);try{return s(y,0)}catch{try{return s.call(null,y,0)}catch{return s.call(this,y,0)}}}var r,o=[],a=!1,i=-1;function h(){a&&r&&(a=!1,r.length?o=r.concat(o):i=-1,o.length&&c())}function c(){if(!a){for(var y=p(h),x=(a=!0,o.length);x;){for(r=o,o=[];++i<x;)r&&r[i].run();i=-1,x=o.length}r=null,a=!1,function(M){if(l===clearTimeout)return clearTimeout(M);if((l===m||!l)&&clearTimeout)return(l=clearTimeout)(M);try{l(M)}catch{try{return l.call(null,M)}catch{return l.call(this,M)}}}(y)}}function u(y,x){this.fun=y,this.array=x}function f(){}n.nextTick=function(y){var x=new Array(arguments.length-1);if(1<arguments.length)for(var M=1;M<arguments.length;M++)x[M-1]=arguments[M];o.push(new u(y,x)),o.length!==1||a||p(c)},u.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=f,n.addListener=f,n.once=f,n.off=f,n.removeListener=f,n.removeAllListeners=f,n.emit=f,n.prependListener=f,n.prependOnceListener=f,n.listeners=function(y){return[]},n.binding=function(y){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(y){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},{}],260:[function(t,_,b){_=function(s){var l,n=Object.prototype,d=n.hasOwnProperty,w=typeof Symbol=="function"?Symbol:{},m=w.iterator||"@@iterator",p=w.asyncIterator||"@@asyncIterator",r=w.toStringTag||"@@toStringTag";function o(V,U,z,W){var Q,ie,T,D,U=U&&U.prototype instanceof y?U:y,U=Object.create(U.prototype),W=new F(W||[]);return U._invoke=(Q=V,ie=z,T=W,D=i,function($,ee){if(D===c)throw new Error("Generator is already running");if(D===u){if($==="throw")throw ee;return B()}for(T.method=$,T.arg=ee;;){var ne=T.delegate;if(ne&&(ne=function fe(se,he){var ae=se.iterator[he.method];if(ae===l){if(he.delegate=null,he.method==="throw"){if(se.iterator.return&&(he.method="return",he.arg=l,fe(se,he),he.method==="throw"))return f;he.method="throw",he.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}if(ae=a(ae,se.iterator,he.arg),ae.type==="throw")return he.method="throw",he.arg=ae.arg,he.delegate=null,f;if(ae=ae.arg,!ae)return he.method="throw",he.arg=new TypeError("iterator result is not an object"),he.delegate=null,f;{if(!ae.done)return ae;he[se.resultName]=ae.value,he.next=se.nextLoc,he.method!=="return"&&(he.method="next",he.arg=l)}return he.delegate=null,f}(ne,T),ne)){if(ne===f)continue;return ne}if(T.method==="next")T.sent=T._sent=T.arg;else if(T.method==="throw"){if(D===i)throw D=u,T.arg;T.dispatchException(T.arg)}else T.method==="return"&&T.abrupt("return",T.arg);if(D=c,ne=a(Q,ie,T),ne.type==="normal"){if(D=T.done?u:h,ne.arg!==f)return{value:ne.arg,done:T.done}}else ne.type==="throw"&&(D=u,T.method="throw",T.arg=ne.arg)}}),U}function a(V,H,z){try{return{type:"normal",arg:V.call(H,z)}}catch(G){return{type:"throw",arg:G}}}s.wrap=o;var i="suspendedStart",h="suspendedYield",c="executing",u="completed",f={};function y(){}function x(){}function M(){}var w={},E=(w[m]=function(){return this},Object.getPrototypeOf),E=E&&E(E(I([]))),C=(E&&E!==n&&d.call(E,m)&&(w=E),M.prototype=y.prototype=Object.create(w));function L(V){["next","throw","return"].forEach(function(H){V[H]=function(z){return this._invoke(H,z)}})}function k(V){var H;this._invoke=function(z,G){function Q(){return new Promise(function(ie,T){(function D(fe,W,$,ee){var ne,fe=a(V[fe],V,W);if(fe.type!=="throw")return(W=(ne=fe.arg).value)&&typeof W=="object"&&d.call(W,"__await")?Promise.resolve(W.__await).then(function(se){D("next",se,$,ee)},function(se){D("throw",se,$,ee)}):Promise.resolve(W).then(function(se){ne.value=se,$(ne)},function(se){return D("throw",se,$,ee)});ee(fe.arg)})(z,G,ie,T)})}return H=H?H.then(Q,Q):Q()}}function R(V){var H={tryLoc:V[0]};1 in V&&(H.catchLoc=V[1]),2 in V&&(H.finallyLoc=V[2],H.afterLoc=V[3]),this.tryEntries.push(H)}function P(V){var H=V.completion||{};H.type="normal",delete H.arg,V.completion=H}function F(V){this.tryEntries=[{tryLoc:"root"}],V.forEach(R,this),this.reset(!0)}function I(V){if(V){var H,z=V[m];if(z)return z.call(V);if(typeof V.next=="function")return V;if(!isNaN(V.length))return H=-1,(z=function G(){for(;++H<V.length;)if(d.call(V,H))return G.value=V[H],G.done=!1,G;return G.value=l,G.done=!0,G}).next=z}return{next:B}}function B(){return{value:l,done:!0}}return(x.prototype=C.constructor=M).constructor=x,M[r]=x.displayName="GeneratorFunction",s.isGeneratorFunction=function(V){return V=typeof V=="function"&&V.constructor,!!V&&(V===x||(V.displayName||V.name)==="GeneratorFunction")},s.mark=function(V){return Object.setPrototypeOf?Object.setPrototypeOf(V,M):(V.__proto__=M,r in V||(V[r]="GeneratorFunction")),V.prototype=Object.create(C),V},s.awrap=function(V){return{__await:V}},L(k.prototype),k.prototype[p]=function(){return this},s.AsyncIterator=k,s.async=function(V,H,z,G){var Q=new k(o(V,H,z,G));return s.isGeneratorFunction(H)?Q:Q.next().then(function(ie){return ie.done?ie.value:Q.next()})},L(C),C[r]="Generator",C[m]=function(){return this},C.toString=function(){return"[object Generator]"},s.keys=function(V){var H,z=[];for(H in V)z.push(H);return z.reverse(),function G(){for(;z.length;){var Q=z.pop();if(Q in V)return G.value=Q,G.done=!1,G}return G.done=!0,G}},s.values=I,F.prototype={constructor:F,reset:function(V){if(this.prev=0,this.next=0,this.sent=this._sent=l,this.done=!1,this.delegate=null,this.method="next",this.arg=l,this.tryEntries.forEach(P),!V)for(var H in this)H.charAt(0)==="t"&&d.call(this,H)&&!isNaN(+H.slice(1))&&(this[H]=l)},stop:function(){this.done=!0;var V=this.tryEntries[0].completion;if(V.type==="throw")throw V.arg;return this.rval},dispatchException:function(V){if(this.done)throw V;var H=this;function z(U,W){return ie.type="throw",ie.arg=V,H.next=U,W&&(H.method="next",H.arg=l),!!W}for(var G=this.tryEntries.length-1;0<=G;--G){var Q=this.tryEntries[G],ie=Q.completion;if(Q.tryLoc==="root")return z("end");if(Q.tryLoc<=this.prev){var T=d.call(Q,"catchLoc"),D=d.call(Q,"finallyLoc");if(T&&D){if(this.prev<Q.catchLoc)return z(Q.catchLoc,!0);if(this.prev<Q.finallyLoc)return z(Q.finallyLoc)}else if(T){if(this.prev<Q.catchLoc)return z(Q.catchLoc,!0)}else{if(!D)throw new Error("try statement without catch or finally");if(this.prev<Q.finallyLoc)return z(Q.finallyLoc)}}}},abrupt:function(V,H){for(var z=this.tryEntries.length-1;0<=z;--z){var G=this.tryEntries[z];if(G.tryLoc<=this.prev&&d.call(G,"finallyLoc")&&this.prev<G.finallyLoc){var Q=G;break}}var ie=(Q=Q&&(V==="break"||V==="continue")&&Q.tryLoc<=H&&H<=Q.finallyLoc?null:Q)?Q.completion:{};return ie.type=V,ie.arg=H,Q?(this.method="next",this.next=Q.finallyLoc,f):this.complete(ie)},complete:function(V,H){if(V.type==="throw")throw V.arg;return V.type==="break"||V.type==="continue"?this.next=V.arg:V.type==="return"?(this.rval=this.arg=V.arg,this.method="return",this.next="end"):V.type==="normal"&&H&&(this.next=H),f},finish:function(V){for(var H=this.tryEntries.length-1;0<=H;--H){var z=this.tryEntries[H];if(z.finallyLoc===V)return this.complete(z.completion,z.afterLoc),P(z),f}},catch:function(V){for(var H=this.tryEntries.length-1;0<=H;--H){var z,G,Q=this.tryEntries[H];if(Q.tryLoc===V)return(z=Q.completion).type==="throw"&&(G=z.arg,P(Q)),G}throw new Error("illegal catch attempt")},delegateYield:function(V,H,z){return this.delegate={iterator:I(V),resultName:H,nextLoc:z},this.method==="next"&&(this.arg=l),f}},s}(typeof _=="object"?_.exports:{});try{regeneratorRuntime=_}catch{Function("r","regeneratorRuntime = r")(_)}},{}],261:[function(t,_,b){(function(s){var l,n,d,m,p,r,o,a,i,h;function c(P){if(typeof P!="string"&&(P=String(P)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(P))throw new TypeError("Invalid character in header field name");return P.toLowerCase()}function u(P){return P=typeof P!="string"?String(P):P}function f(P){var F={next:function(){var I=P.shift();return{done:I===void 0,value:I}}};return n&&(F[Symbol.iterator]=function(){return F}),F}function y(P){this.map={},P instanceof y?P.forEach(function(F,I){this.append(I,F)},this):Array.isArray(P)?P.forEach(function(F){this.append(F[0],F[1])},this):P&&Object.getOwnPropertyNames(P).forEach(function(F){this.append(F,P[F])},this)}function x(P){if(P.bodyUsed)return Promise.reject(new TypeError("Already read"));P.bodyUsed=!0}function M(P){return new Promise(function(F,I){P.onload=function(){F(P.result)},P.onerror=function(){I(P.error)}})}function w(P){var F=new FileReader,I=M(F);return F.readAsArrayBuffer(P),I}function E(P){var F;return P.slice?P.slice(0):((F=new Uint8Array(P.byteLength)).set(new Uint8Array(P)),F.buffer)}function C(){return this.bodyUsed=!1,this._initBody=function(P){if(this._bodyInit=P)if(typeof P=="string")this._bodyText=P;else if(d&&Blob.prototype.isPrototypeOf(P))this._bodyBlob=P;else if(m&&FormData.prototype.isPrototypeOf(P))this._bodyFormData=P;else if(l&&URLSearchParams.prototype.isPrototypeOf(P))this._bodyText=P.toString();else if(p&&d&&o(P))this._bodyArrayBuffer=E(P.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!p||!ArrayBuffer.prototype.isPrototypeOf(P)&&!a(P))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=E(P)}else this._bodyText="";this.headers.get("content-type")||(typeof P=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l&&URLSearchParams.prototype.isPrototypeOf(P)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},d&&(this.blob=function(){var P=x(this);if(P)return P;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?x(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(w)}),this.text=function(){var P,F,I=x(this);if(I)return I;if(this._bodyBlob)return I=this._bodyBlob,P=new FileReader,F=M(P),P.readAsText(I),F;if(this._bodyArrayBuffer)return Promise.resolve(function(B){for(var V=new Uint8Array(B),H=new Array(V.length),z=0;z<V.length;z++)H[z]=String.fromCharCode(V[z]);return H.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},m&&(this.formData=function(){return this.text().then(k)}),this.json=function(){return this.text().then(JSON.parse)},this}function L(P,F){var I,B=(F=F||{}).body;if(P instanceof L){if(P.bodyUsed)throw new TypeError("Already read");this.url=P.url,this.credentials=P.credentials,F.headers||(this.headers=new y(P.headers)),this.method=P.method,this.mode=P.mode,B||P._bodyInit==null||(B=P._bodyInit,P.bodyUsed=!0)}else this.url=String(P);if(this.credentials=F.credentials||this.credentials||"omit",!F.headers&&this.headers||(this.headers=new y(F.headers)),this.method=(P=F.method||this.method||"GET",I=P.toUpperCase(),-1<i.indexOf(I)?I:P),this.mode=F.mode||this.mode||null,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&B)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(B)}function k(P){var F=new FormData;return P.trim().split("&").forEach(function(I){var B;I&&(B=(I=I.split("=")).shift().replace(/\+/g," "),I=I.join("=").replace(/\+/g," "),F.append(decodeURIComponent(B),decodeURIComponent(I)))}),F}function R(P,F){F=F||{},this.type="default",this.status=F.status===void 0?200:F.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in F?F.statusText:"OK",this.headers=new y(F.headers),this.url=F.url||"",this._initBody(P)}s.fetch||(l="URLSearchParams"in s,n="Symbol"in s&&"iterator"in Symbol,d="FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch{return!1}}(),m="FormData"in s,(p="ArrayBuffer"in s)&&(r=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=function(P){return P&&DataView.prototype.isPrototypeOf(P)},a=ArrayBuffer.isView||function(P){return P&&-1<r.indexOf(Object.prototype.toString.call(P))}),y.prototype.append=function(P,F){P=c(P),F=u(F);var I=this.map[P];this.map[P]=I?I+","+F:F},y.prototype.delete=function(P){delete this.map[c(P)]},y.prototype.get=function(P){return P=c(P),this.has(P)?this.map[P]:null},y.prototype.has=function(P){return this.map.hasOwnProperty(c(P))},y.prototype.set=function(P,F){this.map[c(P)]=u(F)},y.prototype.forEach=function(P,F){for(var I in this.map)this.map.hasOwnProperty(I)&&P.call(F,this.map[I],I,this)},y.prototype.keys=function(){var P=[];return this.forEach(function(F,I){P.push(I)}),f(P)},y.prototype.values=function(){var P=[];return this.forEach(function(F){P.push(F)}),f(P)},y.prototype.entries=function(){var P=[];return this.forEach(function(F,I){P.push([I,F])}),f(P)},n&&(y.prototype[Symbol.iterator]=y.prototype.entries),i=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],L.prototype.clone=function(){return new L(this,{body:this._bodyInit})},C.call(L.prototype),C.call(R.prototype),R.prototype.clone=function(){return new R(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new y(this.headers),url:this.url})},R.error=function(){var P=new R(null,{status:0,statusText:""});return P.type="error",P},h=[301,302,303,307,308],R.redirect=function(P,F){if(h.indexOf(F)===-1)throw new RangeError("Invalid status code");return new R(null,{status:F,headers:{location:P}})},s.Headers=y,s.Request=L,s.Response=R,s.fetch=function(P,F){return new Promise(function(I,B){var V=new L(P,F),H=new XMLHttpRequest;H.onload=function(){var z,G={status:H.status,statusText:H.statusText,headers:(G=H.getAllResponseHeaders()||"",z=new y,G.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(T){var T=T.split(":"),D=T.shift().trim();D&&(T=T.join(":").trim(),z.append(D,T))}),z)},Q=(G.url="responseURL"in H?H.responseURL:G.headers.get("X-Request-URL"),"response"in H?H.response:H.responseText);I(new R(Q,G))},H.onerror=function(){B(new TypeError("Network request failed"))},H.ontimeout=function(){B(new TypeError("Network request failed"))},H.open(V.method,V.url,!0),V.credentials==="include"?H.withCredentials=!0:V.credentials==="omit"&&(H.withCredentials=!1),"responseType"in H&&d&&(H.responseType="blob"),V.headers.forEach(function(z,G){H.setRequestHeader(G,z)}),H.send(V._bodyInit===void 0?null:V._bodyInit)})},s.fetch.polyfill=!0)})(typeof self<"u"?self:this)},{}],262:[function(t,_,b){t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var s,l=d(t("../core/main")),n=d(t("../color/color_conversion"));function d(r){return r&&r.__esModule?r:{default:r}}var m=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],p=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];l.default.prototype._rgbColorName=function(i){var o,a,i=n.default._rgbaToHSBA(i),h=[(s=i)[0],i[1],i[2]];h[0]!==0&&(h[0]=Math.round(100*h[0]),(i=h[0].toString().split(""))[a=i.length-1]=parseInt(i[a]),i[a]<2.5?i[a]=0:2.5<=i[a]&&i[a]<7.5&&(i[a]=5),i.length===2?(i[0]=parseInt(i[0]),7.5<=i[a]&&(i[a]=0,i[0]=i[0]+1),h[0]=10*i[0]+i[1]):7.5<=i[a]?h[0]=10:h[0]=i[a]),h[2]=h[2]/255;for(var c=h.length-1;1<=c;c--)h[c]<=.25?h[c]=0:.25<h[c]&&h[c]<.75?h[c]=.5:h[c]=1;if(h[0]===0&&h[1]===0&&h[2]===1){for(var u=2;0<=u;u--)s[u]=Math.round(1e4*s[u])/1e4;for(var f=0;f<m.length;f++){if(m[f].h===s[0]&&m[f].s===s[1]&&m[f].b===s[2]){o=m[f].name;break}o="white"}}else for(var y=0;y<p.length;y++)if(p[y].h===h[0]&&p[y].s===h[1]&&p[y].b===h[2]){o=p[y].name;break}return o},t=l.default,b.default=t},{"../color/color_conversion":268,"../core/main":283,"core-js/modules/es.function.name":174,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.split":206}],263:[function(t,_,b){t("core-js/modules/es.array.concat"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.replace"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var s=(t=t("../core/main"))&&t.__esModule?t:{default:t},l="_Description",n="_fallbackDesc",d="_fallbackTable",m="_Label",p="_labelDesc",r="_labelTable";function o(a){if(a==="label"||a==="fallback")throw new Error("description should not be LABEL or FALLBACK");return a.endsWith(".")||a.endsWith(";")||a.endsWith(",")||a.endsWith("?")||a.endsWith("!")||(a+="."),a}s.default.prototype.describe=function(a,i){var h;s.default._validateParameters("describe",arguments),typeof a=="string"&&(h=this.canvas.id,a=o(a),this.dummyDOM||(this.dummyDOM=document.getElementById(h).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==a&&(this.descriptions.fallback.innerHTML=a):this._describeHTML("fallback",a),i===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==a&&(this.descriptions.label.innerHTML=a):this._describeHTML("label",a)))},s.default.prototype.describeElement=function(a,i,h){var c,u;s.default._validateParameters("describeElement",arguments),typeof i=="string"&&typeof a=="string"&&(c=this.canvas.id,i=o(i),u=function(f){if(f==="label"||f==="fallback")throw new Error("element name should not be LABEL or FALLBACK");return f.endsWith(".")||f.endsWith(";")||f.endsWith(",")?f=f.replace(/.$/,":"):f.endsWith(":")||(f+=":"),f}(a),a=a.replace(/[^a-zA-Z0-9]/g,""),u='<th scope="row">'.concat(u,"</th><td>").concat(i,"</td>"),this.dummyDOM||(this.dummyDOM=document.getElementById(c).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[a]?this.descriptions.fallbackElements[a].innerHTML!==u&&(this.descriptions.fallbackElements[a].innerHTML=u):this._describeElementHTML("fallback",a,u),h===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[a]?this.descriptions.labelElements[a].innerHTML!==u&&(this.descriptions.labelElements[a].innerHTML=u):this._describeElementHTML("label",a,u)))},s.default.prototype._describeHTML=function(a,i){var h,c=this.canvas.id;a==="fallback"?(this.dummyDOM.querySelector("#".concat(c+l))?this.dummyDOM.querySelector("#"+c+d).insertAdjacentHTML("beforebegin",'<p id="'.concat(c+n,'"></p>')):(h='<div id="'.concat(c).concat(l,'" role="region" aria-label="Canvas Description"><p id="').concat(c).concat(n,'"></p></div>'),this.dummyDOM.querySelector("#".concat(c,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(c,"accessibleOutput")).insertAdjacentHTML("beforebegin",h):this.dummyDOM.querySelector("#".concat(c)).innerHTML=h),this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(c).concat(n)),this.descriptions.fallback.innerHTML=i):a==="label"&&(this.dummyDOM.querySelector("#".concat(c+m))?this.dummyDOM.querySelector("#".concat(c+r))&&this.dummyDOM.querySelector("#".concat(c+r)).insertAdjacentHTML("beforebegin",'<p id="'.concat(c).concat(p,'"></p>')):(h='<div id="'.concat(c).concat(m,'" class="p5Label"><p id="').concat(c).concat(p,'"></p></div>'),this.dummyDOM.querySelector("#".concat(c,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(c,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",h):this.dummyDOM.querySelector("#"+c).insertAdjacentHTML("afterend",h)),this.descriptions.label=this.dummyDOM.querySelector("#"+c+p),this.descriptions.label.innerHTML=i)},s.default.prototype._describeElementHTML=function(a,i,h){var c,u=this.canvas.id;a==="fallback"?(this.dummyDOM.querySelector("#".concat(u+l))?this.dummyDOM.querySelector("#"+u+d)||this.dummyDOM.querySelector("#"+u+n).insertAdjacentHTML("afterend",'<table id="'.concat(u).concat(d,'"><caption>Canvas elements and their descriptions</caption></table>')):(c='<div id="'.concat(u).concat(l,'" role="region" aria-label="Canvas Description"><table id="').concat(u).concat(d,'"><caption>Canvas elements and their descriptions</caption></table></div>'),this.dummyDOM.querySelector("#".concat(u,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(u,"accessibleOutput")).insertAdjacentHTML("beforebegin",c):this.dummyDOM.querySelector("#"+u).innerHTML=c),(c=document.createElement("tr")).id=u+"_fte_"+i,this.dummyDOM.querySelector("#"+u+d).appendChild(c),this.descriptions.fallbackElements[i]=this.dummyDOM.querySelector("#".concat(u).concat("_fte_").concat(i)),this.descriptions.fallbackElements[i].innerHTML=h):a==="label"&&(this.dummyDOM.querySelector("#".concat(u+m))?this.dummyDOM.querySelector("#".concat(u+r))||this.dummyDOM.querySelector("#"+u+p).insertAdjacentHTML("afterend",'<table id="'.concat(u+r,'"></table>')):(c='<div id="'.concat(u).concat(m,'" class="p5Label"><table id="').concat(u).concat(r,'"></table></div>'),this.dummyDOM.querySelector("#".concat(u,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(u,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",c):this.dummyDOM.querySelector("#"+u).insertAdjacentHTML("afterend",c)),(a=document.createElement("tr")).id=u+"_lte_"+i,this.dummyDOM.querySelector("#"+u+r).appendChild(a),this.descriptions.labelElements[i]=this.dummyDOM.querySelector("#".concat(u).concat("_lte_").concat(i)),this.descriptions.labelElements[i].innerHTML=h)},t=s.default,b.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.ends-with":198,"core-js/modules/es.string.replace":204}],264:[function(t,_,b){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.map"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.map"),t("core-js/modules/es.string.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype._updateGridOutput=function(s){var l,n,d,m;this.dummyDOM.querySelector("#".concat(s,"_summary"))&&(l=this._accessibleOutputs[s],d=function(p,r,o,a){return r="".concat(r," canvas, ").concat(o," by ").concat(a," pixels, contains ").concat(p[0]),r=(p[0]===1?"".concat(r," shape: "):"".concat(r," shapes: ")).concat(p[1]),r}((n=function(p,r){var o,a="",i="",h=0;for(o in r){var c,u=0;for(c in r[o]){var f='<li id="'.concat(p,"shape").concat(h,'">').concat(r[o][c].color," ").concat(o,",");o==="line"?f+=" location = ".concat(r[o][c].pos,", length = ").concat(r[o][c].length," pixels"):(f+=" location = ".concat(r[o][c].pos),o!=="point"&&(f+=", area = ".concat(r[o][c].area," %")),f+="</li>"),a+=f,u++,h++}i=1<u?"".concat(i," ").concat(u," ").concat(o,"s"):"".concat(i," ").concat(u," ").concat(o)}return{numShapes:[h,i],details:a}}(s,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),m=function(p,r){var o,a,i=0,h="",c=Array.from(Array(10),function(){return Array(10)});for(o in r)for(var u in r[o]){var f=void 0;f=o!=="line"?'<a href="#'.concat(p,"shape").concat(i,'">').concat(r[o][u].color," ").concat(o,"</a>"):'<a href="#'.concat(p,"shape").concat(i,'">').concat(r[o][u].color," ").concat(o," midpoint</a>"),r[o][u].loc.locY<c.length&&r[o][u].loc.locX<c[r[o][u].loc.locY].length&&(c[r[o][u].loc.locY][r[o][u].loc.locX]?c[r[o][u].loc.locY][r[o][u].loc.locX]=c[r[o][u].loc.locY][r[o][u].loc.locX]+"  "+f:c[r[o][u].loc.locY][r[o][u].loc.locX]=f,i++)}for(a in c){var y,x="<tr>";for(y in c[a])x+="<td>",c[a][y]!==void 0&&(x+=c[a][y]),x+="</td>";h=h+x+"</tr>"}return h}(s,this.ingredients.shapes),d!==l.summary.innerHTML&&(l.summary.innerHTML=d),m!==l.map.innerHTML&&(l.map.innerHTML=m),n.details!==l.shapeDetails.innerHTML&&(l.shapeDetails.innerHTML=n.details),this._accessibleOutputs[s]=l)},t=t.default,b.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.from":162,"core-js/modules/es.array.map":168,"core-js/modules/es.string.iterator":200}],265:[function(t,_,b){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.to-fixed"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var s=(t=t("../core/main"))&&t.__esModule?t:{default:t};function l(d){return function(m){if(Array.isArray(m)){for(var p=0,r=new Array(m.length);p<m.length;p++)r[p]=m[p];return r}}(d)||function(m){if(Symbol.iterator in Object(m)||Object.prototype.toString.call(m)==="[object Arguments]")return Array.from(m)}(d)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function n(d,m,p){return m=Math.floor(d[0]/m*10),d=Math.floor(d[1]/p*10),m===10&&(m-=1),d===10&&(d-=1),{locX:m,locY:d}}s.default.prototype.textOutput=function(d){s.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),d===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},s.default.prototype.gridOutput=function(d){s.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),d===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},s.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},s.default.prototype._createOutput=function(d,m){var p,r,o,a=this.canvas.id,i=(this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:"",pBackground:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(a).parentNode),"");m==="Fallback"?(p=a+d,this.dummyDOM.querySelector("#".concat(r=a+"accessibleOutput"))||(this.dummyDOM.querySelector("#".concat(a,"_Description"))?this.dummyDOM.querySelector("#".concat(a,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(r,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(a)).innerHTML='<div id="'.concat(r,'" role="region" aria-label="Canvas Outputs"></div>'))):m==="Label"&&(p=a+d+(i=m),this.dummyDOM.querySelector("#".concat(r=a+"accessibleOutput"+m))||(this.dummyDOM.querySelector("#".concat(a,"_Label"))?this.dummyDOM.querySelector("#".concat(a,"_Label")):this.dummyDOM.querySelector("#".concat(a))).insertAdjacentHTML("afterend",'<div id="'.concat(r,'"></div>'))),this._accessibleOutputs[p]={},d==="textOutput"?(i="#".concat(a,"gridOutput").concat(i),o='<div id="'.concat(p,'">Text Output<div id="').concat(p,'Summary" aria-label="text output summary"><p id="').concat(p,'_summary"></p><ul id="').concat(p,'_list"></ul></div><table id="').concat(p,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(i)?this.dummyDOM.querySelector(i).insertAdjacentHTML("beforebegin",o):this.dummyDOM.querySelector("#".concat(r)).innerHTML=o,this._accessibleOutputs[p].list=this.dummyDOM.querySelector("#".concat(p,"_list"))):d==="gridOutput"&&(i="#".concat(a,"textOutput").concat(i),o='<div id="'.concat(p,'">Grid Output<p id="').concat(p,'_summary" aria-label="grid output summary"><table id="').concat(p,'_map" summary="grid output content"></table><ul id="').concat(p,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(i)?this.dummyDOM.querySelector(i).insertAdjacentHTML("afterend",o):this.dummyDOM.querySelector("#".concat(r)).innerHTML=o,this._accessibleOutputs[p].map=this.dummyDOM.querySelector("#".concat(p,"_map"))),this._accessibleOutputs[p].shapeDetails=this.dummyDOM.querySelector("#".concat(p,"_shapeDetails")),this._accessibleOutputs[p].summary=this.dummyDOM.querySelector("#".concat(p,"_summary"))},s.default.prototype._updateAccsOutput=function(){var d=this.canvas.id;JSON.stringify(this.ingredients.shapes)===this.ingredients.pShapes&&this.ingredients.colors.background===this.ingredients.pBackground||(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(d+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(d+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(d+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(d+"gridOutputLabel"))},s.default.prototype._accsBackground=function(d){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.pBackground=this.ingredients.colors.background,this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==d&&(this.ingredients.colors.backgroundRGBA=d,this.ingredients.colors.background=this._rgbColorName(d))},s.default.prototype._accsCanvasColors=function(d,m){d==="fill"?this.ingredients.colors.fillRGBA!==m&&(this.ingredients.colors.fillRGBA=m,this.ingredients.colors.fill=this._rgbColorName(m)):d==="stroke"&&this.ingredients.colors.strokeRGBA!==m&&(this.ingredients.colors.strokeRGBA=m,this.ingredients.colors.stroke=this._rgbColorName(m))},s.default.prototype._accsOutput=function(d,m){d==="ellipse"&&m[2]===m[3]?d="circle":d==="rectangle"&&m[2]===m[3]&&(d="square");var p,r,o={},a=!0,i=function(c,u){var f;return c=c==="rectangle"||c==="ellipse"||c==="arc"||c==="circle"||c==="square"?(f=Math.round(u[0]+u[2]/2),Math.round(u[1]+u[3]/2)):c==="triangle"?(f=(u[0]+u[2]+u[4])/3,(u[1]+u[3]+u[5])/3):c==="quadrilateral"?(f=(u[0]+u[2]+u[4]+u[6])/4,(u[1]+u[3]+u[5]+u[7])/4):c==="line"?(f=(u[0]+u[2])/2,(u[1]+u[3])/2):(f=u[0],u[1]),[f,c]}(d,m);if(d==="line"?(o.color=this.ingredients.colors.stroke,o.length=Math.round(this.dist(m[0],m[1],m[2],m[3])),p=this._getPos(m[0],[1]),r=this._getPos(m[2],[3]),o.loc=n(i,this.width,this.height),o.pos=p===r?"at ".concat(p):"from ".concat(p," to ").concat(r)):(d==="point"?o.color=this.ingredients.colors.stroke:(o.color=this.ingredients.colors.fill,o.area=this._getArea(d,m)),o.pos=this._getPos.apply(this,l(i)),o.loc=n(i,this.width,this.height)),this.ingredients.shapes[d]){if(this.ingredients.shapes[d]!==[o]){for(var h in this.ingredients.shapes[d])JSON.stringify(this.ingredients.shapes[d][h])===JSON.stringify(o)&&(a=!1);a===!0&&this.ingredients.shapes[d].push(o)}}else this.ingredients.shapes[d]=[o]},s.default.prototype._getPos=function(r,p){var r=new DOMPointReadOnly(r,p),p=this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform(),r=r.matrixTransform(p),p=r.x,r=r.y,o=this.width*this._pixelDensity,a=this.height*this._pixelDensity;return p<.4*o?r<.4*a?"top left":.6*a<r?"bottom left":"mid left":.6*o<p?r<.4*a?"top right":.6*a<r?"bottom right":"mid right":r<.4*a?"top middle":.6*a<r?"bottom middle":"middle"},s.default.prototype._getArea=function(d,m){var p,r,o=0,a=(d==="arc"?(o=(p=((m[5]-m[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI))*m[2]*m[3]/8,m[6]!=="open"&&m[6]!=="chord"||(r=m[0],u=m[1],a=m[0]+m[2]/2*Math.cos(m[4]).toFixed(2),f=m[1]+m[3]/2*Math.sin(m[4]).toFixed(2),h=m[0]+m[2]/2*Math.cos(m[5]).toFixed(2),i=m[1]+m[3]/2*Math.sin(m[5]).toFixed(2),r=Math.abs(r*(f-i)+a*(i-u)+h*(u-f))/2,p>Math.PI?o+=r:o-=r)):d==="ellipse"||d==="circle"?o=3.14*m[2]/2*m[3]/2:d==="line"||d==="point"?o=0:d==="quadrilateral"?o=Math.abs((m[6]+m[0])*(m[7]-m[1])+(m[0]+m[2])*(m[1]-m[3])+(m[2]+m[4])*(m[3]-m[5])+(m[4]+m[6])*(m[5]-m[7]))/2:d==="rectangle"||d==="square"?o=m[2]*m[3]:d==="triangle"&&(o=Math.abs(m[0]*(m[3]-m[5])+m[2]*(m[5]-m[1])+m[4]*(m[1]-m[3]))/2),this.width*this._pixelDensity),i=this.height*this._pixelDensity,h=[new DOMPoint(0,0),new DOMPoint(a,0),new DOMPoint(a,i),new DOMPoint(0,i)],c=(this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform()).inverse(),u=h.map(function(y){return y.matrixTransform(c)}),f=Math.abs((u[3].x+u[0].x)*(u[3].y-u[0].y)+(u[0].x+u[1].x)*(u[0].y-u[1].y)+(u[1].x+u[2].x)*(u[1].y-u[2].y)+(u[2].x+u[3].x)*(u[2].y-u[3].y))/2;return Math.round(100*o/f)},t=s.default,b.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],266:[function(t,_,b){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.concat"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype._updateTextOutput=function(s){var l,n,d,m;this.dummyDOM.querySelector("#".concat(s,"_summary"))&&(l=this._accessibleOutputs[s],d=function(p,r,o,a){return o="Your output is a, ".concat(o," by ").concat(a," pixels, ").concat(r," canvas containing the following"),o=p===1?"".concat(o," shape:"):"".concat(o," ").concat(p," shapes:"),o}((n=function(p,r){var o,a="",i=0;for(o in r)for(var h in r[o]){var c='<li><a href="#'.concat(p,"shape").concat(i,'">').concat(r[o][h].color," ").concat(o,"</a>");o==="line"?c+=", ".concat(r[o][h].pos,", ").concat(r[o][h].length," pixels long.</li>"):(c+=", at ".concat(r[o][h].pos),o!=="point"&&(c+=", covering ".concat(r[o][h].area,"% of the canvas")),c+=".</li>"),a+=c,i++}return{numShapes:i,listShapes:a}}(s,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),m=function(p,r){var o,a="",i=0;for(o in r)for(var h in r[o]){var c='<tr id="'.concat(p,"shape").concat(i,'"><th>').concat(r[o][h].color," ").concat(o,"</th>");o==="line"?c+="<td>location = ".concat(r[o][h].pos,"</td><td>length = ").concat(r[o][h].length," pixels</td></tr>"):(c+="<td>location = ".concat(r[o][h].pos,"</td>"),o!=="point"&&(c+="<td> area = ".concat(r[o][h].area,"%</td>")),c+="</tr>"),a+=c,i++}return a}(s,this.ingredients.shapes),d!==l.summary.innerHTML&&(l.summary.innerHTML=d),n.listShapes!==l.list.innerHTML&&(l.list.innerHTML=n.listShapes),m!==l.shapeDetails.innerHTML&&(l.shapeDetails.innerHTML=m),this._accessibleOutputs[s]=l)},t=t.default,b.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153}],267:[function(t,_,b){var s=(s=t("./core/main"))&&s.__esModule?s:{default:s};t("./core/constants"),t("./core/environment"),t("./core/friendly_errors/stacktrace"),t("./core/friendly_errors/validate_params"),t("./core/friendly_errors/file_errors"),t("./core/friendly_errors/fes_core"),t("./core/friendly_errors/sketch_reader"),t("./core/helpers"),t("./core/legacy"),t("./core/preload"),t("./core/p5.Element"),t("./core/p5.Graphics"),t("./core/p5.Renderer"),t("./core/p5.Renderer2D"),t("./core/rendering"),t("./core/shim"),t("./core/structure"),t("./core/transform"),t("./core/shape/2d_primitives"),t("./core/shape/attributes"),t("./core/shape/curves"),t("./core/shape/vertex"),t("./accessibility/outputs"),t("./accessibility/textOutput"),t("./accessibility/gridOutput"),t("./accessibility/color_namer"),t("./color/color_conversion"),t("./color/creating_reading"),t("./color/p5.Color"),t("./color/setting"),t("./data/p5.TypedDict"),t("./data/local_storage.js"),t("./dom/dom"),t("./accessibility/describe"),t("./events/acceleration"),t("./events/keyboard"),t("./events/mouse"),t("./events/touch"),t("./image/filters"),t("./image/image"),t("./image/loading_displaying"),t("./image/p5.Image"),t("./image/pixels"),t("./io/files"),t("./io/p5.Table"),t("./io/p5.TableRow"),t("./io/p5.XML"),t("./math/calculation"),t("./math/math"),t("./math/noise"),t("./math/p5.Vector"),t("./math/random"),t("./math/trigonometry"),t("./typography/attributes"),t("./typography/loading_displaying"),t("./typography/p5.Font"),t("./utilities/array_functions"),t("./utilities/conversion"),t("./utilities/string_functions"),t("./utilities/time_date"),t("./webgl/3d_primitives"),t("./webgl/interaction"),t("./webgl/light"),t("./webgl/loading"),t("./webgl/material"),t("./webgl/p5.Camera"),t("./webgl/p5.DataArray"),t("./webgl/p5.Geometry"),t("./webgl/p5.Matrix"),t("./webgl/p5.Quat"),t("./webgl/p5.RendererGL.Immediate"),t("./webgl/p5.RendererGL"),t("./webgl/p5.RendererGL.Retained"),t("./webgl/p5.Framebuffer"),t("./webgl/p5.Shader"),t("./webgl/p5.RenderBuffer"),t("./webgl/p5.Texture"),t("./webgl/text"),t("./core/init"),_.exports=s.default},{"./accessibility/color_namer":262,"./accessibility/describe":263,"./accessibility/gridOutput":264,"./accessibility/outputs":265,"./accessibility/textOutput":266,"./color/color_conversion":268,"./color/creating_reading":269,"./color/p5.Color":270,"./color/setting":271,"./core/constants":272,"./core/environment":273,"./core/friendly_errors/fes_core":274,"./core/friendly_errors/file_errors":275,"./core/friendly_errors/sketch_reader":276,"./core/friendly_errors/stacktrace":277,"./core/friendly_errors/validate_params":278,"./core/helpers":279,"./core/init":280,"./core/legacy":282,"./core/main":283,"./core/p5.Element":284,"./core/p5.Graphics":285,"./core/p5.Renderer":286,"./core/p5.Renderer2D":287,"./core/preload":288,"./core/rendering":289,"./core/shape/2d_primitives":290,"./core/shape/attributes":291,"./core/shape/curves":292,"./core/shape/vertex":293,"./core/shim":294,"./core/structure":295,"./core/transform":296,"./data/local_storage.js":297,"./data/p5.TypedDict":298,"./dom/dom":299,"./events/acceleration":300,"./events/keyboard":301,"./events/mouse":302,"./events/touch":303,"./image/filters":304,"./image/image":305,"./image/loading_displaying":306,"./image/p5.Image":307,"./image/pixels":308,"./io/files":309,"./io/p5.Table":310,"./io/p5.TableRow":311,"./io/p5.XML":312,"./math/calculation":313,"./math/math":314,"./math/noise":315,"./math/p5.Vector":316,"./math/random":317,"./math/trigonometry":318,"./typography/attributes":319,"./typography/loading_displaying":320,"./typography/p5.Font":321,"./utilities/array_functions":322,"./utilities/conversion":323,"./utilities/string_functions":324,"./utilities/time_date":325,"./webgl/3d_primitives":326,"./webgl/interaction":328,"./webgl/light":329,"./webgl/loading":330,"./webgl/material":331,"./webgl/p5.Camera":332,"./webgl/p5.DataArray":333,"./webgl/p5.Framebuffer":334,"./webgl/p5.Geometry":335,"./webgl/p5.Matrix":336,"./webgl/p5.Quat":337,"./webgl/p5.RenderBuffer":338,"./webgl/p5.RendererGL":341,"./webgl/p5.RendererGL.Immediate":339,"./webgl/p5.RendererGL.Retained":340,"./webgl/p5.Shader":342,"./webgl/p5.Texture":343,"./webgl/text":344}],268:[function(t,_,b){Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.ColorConversion={_hsbaToHSLA:function(s){var l=s[0],n=s[1],d=s[2],m=(2-n)*d/2;return m!=0&&(m==1?n=0:m<.5?n/=2-n:n=n*d/(2-2*m)),[l,n,m,s[3]]},_hsbaToRGBA:function(s){var l,n,d,m,p,r=6*s[0],o=s[1],a=s[2];return o===0?[a,a,a,s[3]]:(n=a*(1-o),d=a*(1-o*(r-(l=Math.floor(r)))),o=a*(1-o*(1+l-r)),r=l===1?(m=d,p=a,n):l===2?(m=n,p=a,o):l===3?(m=n,p=d,a):l===4?(m=o,p=n,a):l===5?(m=a,p=n,d):(m=a,p=o,n),[m,p,r,s[3]])},_hslaToHSBA:function(s){var l=s[0],n=s[1],d=s[2],m=d<.5?(1+n)*d:d+n-d*n;return[l,n=2*(m-d)/m,m,s[3]]},_hslaToRGBA:function(s){var l,n=6*s[0],d=s[1],m=s[2];return d===0?[m,m,m,s[3]]:[(l=function(p,r,o){return p<0?p+=6:6<=p&&(p-=6),p<1?r+(o-r)*p:p<3?o:p<4?r+(o-r)*(4-p):r})(2+n,d=2*m-(m=m<.5?(1+d)*m:m+d-m*d),m),l(n,d,m),l(n-2,d,m),s[3]]},_rgbaToHSBA:function(s){var l,n,d=s[0],m=s[1],p=s[2],r=Math.max(d,m,p),o=r-Math.min(d,m,p);return o==0?n=l=0:(n=o/r,d===r?l=(m-p)/o:m===r?l=2+(p-d)/o:p===r&&(l=4+(d-m)/o),l<0?l+=6:6<=l&&(l-=6)),[l/6,n,r,s[3]]},_rgbaToHSLA:function(s){var l,n,d=s[0],m=s[1],p=s[2],r=Math.max(d,m,p),a=Math.min(d,m,p),o=r+a,a=r-a;return a==0?n=l=0:(n=o<1?a/o:a/(2-o),d===r?l=(m-p)/a:m===r?l=2+(p-d)/a:p===r&&(l=4+(d-m)/a),l<0?l+=6:6<=l&&(l-=6)),[l/6,n,o/2,s[3]]}},t=t.default.ColorConversion,b.default=t},{"../core/main":283}],269:[function(t,_,b){function s(r){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(r)}function l(r){return(l=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(o){return s(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":s(o)})(r)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.map"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var n=(p=t("../core/main"))&&p.__esModule?p:{default:p},d=function(r){if(r&&r.__esModule)return r;if(r===null||l(r)!=="object"&&typeof r!="function")return{default:r};var o=m();if(o&&o.has(r))return o.get(r);var a,i={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in r){var c;Object.prototype.hasOwnProperty.call(r,a)&&((c=h?Object.getOwnPropertyDescriptor(r,a):null)&&(c.get||c.set)?Object.defineProperty(i,a,c):i[a]=r[a])}return i.default=r,o&&o.set(r,i),i}(t("../core/constants"));function m(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,m=function(){return r},r)}t("./p5.Color"),t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),n.default.prototype.alpha=function(r){return n.default._validateParameters("alpha",arguments),this.color(r)._getAlpha()},n.default.prototype.blue=function(r){return n.default._validateParameters("blue",arguments),this.color(r)._getBlue()},n.default.prototype.brightness=function(r){return n.default._validateParameters("brightness",arguments),this.color(r)._getBrightness()},n.default.prototype.color=function(){for(var r,o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return n.default._validateParameters("color",a),a[0]instanceof n.default.Color?a[0]:(r=Array.isArray(a[0])?a[0]:a,new n.default.Color(this,r))},n.default.prototype.green=function(r){return n.default._validateParameters("green",arguments),this.color(r)._getGreen()},n.default.prototype.hue=function(r){return n.default._validateParameters("hue",arguments),this.color(r)._getHue()},n.default.prototype.lerpColor=function(r,o,a){n.default._validateParameters("lerpColor",arguments);var i,h,c,u=this._colorMode,f=this._colorMaxes;if(u===d.RGB)h=r.levels.map(function(y){return y/255}),c=o.levels.map(function(y){return y/255});else if(u===d.HSB)r._getBrightness(),o._getBrightness(),h=r.hsba,c=o.hsba;else{if(u!==d.HSL)throw new Error("".concat(u," cannot be used for interpolation."));r._getLightness(),o._getLightness(),h=r.hsla,c=o.hsla}return a=Math.max(Math.min(a,1),0),this.lerp===void 0&&(this.lerp=function(y,x,M){return M*(x-y)+y}),u===d.RGB?i=this.lerp(h[0],c[0],a):(.5<Math.abs(h[0]-c[0])&&(h[0]>c[0]?c[0]+=1:h[0]+=1),1<=(i=this.lerp(h[0],c[0],a))&&--i),r=this.lerp(h[1],c[1],a),o=this.lerp(h[2],c[2],a),h=this.lerp(h[3],c[3],a),i*=f[u][0],r*=f[u][1],o*=f[u][2],h*=f[u][3],this.color(i,r,o,h)},n.default.prototype.lightness=function(r){return n.default._validateParameters("lightness",arguments),this.color(r)._getLightness()},n.default.prototype.red=function(r){return n.default._validateParameters("red",arguments),this.color(r)._getRed()},n.default.prototype.saturation=function(r){return n.default._validateParameters("saturation",arguments),this.color(r)._getSaturation()};var p=n.default;b.default=p},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"./p5.Color":270,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],270:[function(i,_,b){function s(y){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(y)}function l(y){return(l=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(x){return s(x)}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":s(x)})(y)}i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.includes"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.array.join"),i("core-js/modules/es.array.map"),i("core-js/modules/es.array.slice"),i("core-js/modules/es.object.get-own-property-descriptor"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.regexp.constructor"),i("core-js/modules/es.regexp.exec"),i("core-js/modules/es.regexp.to-string"),i("core-js/modules/es.string.includes"),i("core-js/modules/es.string.iterator"),i("core-js/modules/es.string.trim"),i("core-js/modules/es.weak-map"),i("core-js/modules/web.dom-collections.iterator"),i("core-js/modules/es.array.includes"),i("core-js/modules/es.array.join"),i("core-js/modules/es.array.map"),i("core-js/modules/es.array.slice"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.regexp.constructor"),i("core-js/modules/es.regexp.exec"),i("core-js/modules/es.regexp.to-string"),i("core-js/modules/es.string.includes"),i("core-js/modules/es.string.trim"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var n=r(i("../core/main")),d=function(y){if(y&&y.__esModule)return y;if(y===null||l(y)!=="object"&&typeof y!="function")return{default:y};var x=p();if(x&&x.has(y))return x.get(y);var M,w={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(M in y){var C;Object.prototype.hasOwnProperty.call(y,M)&&((C=E?Object.getOwnPropertyDescriptor(y,M):null)&&(C.get||C.set)?Object.defineProperty(w,M,C):w[M]=y[M])}return w.default=y,x&&x.set(y,w),w}(i("../core/constants")),m=r(i("./color_conversion"));function p(){var y;return typeof WeakMap!="function"?null:(y=new WeakMap,p=function(){return y},y)}function r(y){return y&&y.__esModule?y:{default:y}}function o(y,x){for(var M=0;M<x.length;M++){var w=x[M];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(y,w.key,w)}}var a={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},i=/\s*/,f=/(\d{1,3})/,h=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,c=new RegExp("".concat(h.source,"%")),u={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",f.source,",",f.source,",",f.source,"\\)$"].join(i.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",c.source,",",c.source,",",c.source,"\\)$"].join(i.source),"i"),RGBA:new RegExp(["^rgba\\(",f.source,",",f.source,",",f.source,",",h.source,"\\)$"].join(i.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",c.source,",",c.source,",",c.source,",",h.source,"\\)$"].join(i.source),"i"),HSL:new RegExp(["^hsl\\(",f.source,",",c.source,",",c.source,"\\)$"].join(i.source),"i"),HSLA:new RegExp(["^hsla\\(",f.source,",",c.source,",",c.source,",",h.source,"\\)$"].join(i.source),"i"),HSB:new RegExp(["^hsb\\(",f.source,",",c.source,",",c.source,"\\)$"].join(i.source),"i"),HSBA:new RegExp(["^hsba\\(",f.source,",",c.source,",",c.source,",",h.source,"\\)$"].join(i.source),"i")},f=(n.default.Color=function(){function y(E,C){if(!(this instanceof y))throw new TypeError("Cannot call a class as a function");if(this._storeModeAndMaxes(E._colorMode,E._colorMaxes),![d.RGB,d.HSL,d.HSB].includes(this.mode))throw new Error("".concat(this.mode," is an invalid colorMode."));this._array=y._parseInputs.apply(this,C),this._calculateLevels()}var x,M,w;return x=y,w=[{key:"_parseInputs",value:function(E,C,L,k){var R,P=arguments.length,F=this.mode,I=this.maxes[F],B=[];if(3<=P){for(B[0]=E/I[0],B[1]=C/I[1],B[2]=L/I[2],B[3]=typeof k=="number"?k/I[3]:1,R=B.length-1;0<=R;--R){var V=B[R];V<0?B[R]=0:1<V&&(B[R]=1)}return F===d.HSL?m.default._hslaToRGBA(B):F===d.HSB?m.default._hsbaToRGBA(B):B}if(P===1&&typeof E=="string"){if(L=E.trim().toLowerCase(),a[L])return y._parseInputs.call(this,a[L]);if(u.HEX3.test(L))return(B=u.HEX3.exec(L).slice(1).map(function(H){return parseInt(H+H,16)/255}))[3]=1,B;if(u.HEX6.test(L))return(B=u.HEX6.exec(L).slice(1).map(function(H){return parseInt(H,16)/255}))[3]=1,B;if(u.HEX4.test(L))return B=u.HEX4.exec(L).slice(1).map(function(H){return parseInt(H+H,16)/255});if(u.HEX8.test(L))return B=u.HEX8.exec(L).slice(1).map(function(H){return parseInt(H,16)/255});if(u.RGB.test(L))return(B=u.RGB.exec(L).slice(1).map(function(H){return H/255}))[3]=1,B;if(u.RGB_PERCENT.test(L))return(B=u.RGB_PERCENT.exec(L).slice(1).map(function(H){return parseFloat(H)/100}))[3]=1,B;if(u.RGBA.test(L))return B=u.RGBA.exec(L).slice(1).map(function(H,z){return z===3?parseFloat(H):H/255});if(u.RGBA_PERCENT.test(L))return B=u.RGBA_PERCENT.exec(L).slice(1).map(function(H,z){return z===3?parseFloat(H):parseFloat(H)/100});if(u.HSL.test(L)?(B=u.HSL.exec(L).slice(1).map(function(H,z){return z===0?parseInt(H,10)/360:parseInt(H,10)/100}))[3]=1:u.HSLA.test(L)&&(B=u.HSLA.exec(L).slice(1).map(function(H,z){return z===0?parseInt(H,10)/360:z===3?parseFloat(H):parseInt(H,10)/100})),(B=B.map(function(H){return Math.max(Math.min(H,1),0)})).length)return m.default._hslaToRGBA(B);if(u.HSB.test(L)?(B=u.HSB.exec(L).slice(1).map(function(H,z){return z===0?parseInt(H,10)/360:parseInt(H,10)/100}))[3]=1:u.HSBA.test(L)&&(B=u.HSBA.exec(L).slice(1).map(function(H,z){return z===0?parseInt(H,10)/360:z===3?parseFloat(H):parseInt(H,10)/100})),B.length){for(R=B.length-1;0<=R;--R)B[R]=Math.max(Math.min(B[R],1),0);return m.default._hsbaToRGBA(B)}B=[1,1,1,1]}else{if(P!==1&&P!==2||typeof E!="number")throw new Error("".concat(arguments,"is not a valid color representation."));B[0]=E/I[2],B[1]=E/I[2],B[2]=E/I[2],B[3]=typeof C=="number"?C/I[3]:1,B=B.map(function(H){return Math.max(Math.min(H,1),0)})}return B}}],(M=[{key:"toString",value:function(E){var C=this.levels,L=this._array,k=L[3];switch(E){case"#rrggbb":return"#".concat(C[0]<16?"0".concat(C[0].toString(16)):C[0].toString(16),C[1]<16?"0".concat(C[1].toString(16)):C[1].toString(16),C[2]<16?"0".concat(C[2].toString(16)):C[2].toString(16));case"#rrggbbaa":return"#".concat(C[0]<16?"0".concat(C[0].toString(16)):C[0].toString(16),C[1]<16?"0".concat(C[1].toString(16)):C[1].toString(16),C[2]<16?"0".concat(C[2].toString(16)):C[2].toString(16),C[3]<16?"0".concat(C[3].toString(16)):C[3].toString(16));case"#rgb":return"#".concat(Math.round(15*L[0]).toString(16),Math.round(15*L[1]).toString(16),Math.round(15*L[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*L[0]).toString(16),Math.round(15*L[1]).toString(16),Math.round(15*L[2]).toString(16),Math.round(15*L[3]).toString(16));case"rgb":return"rgb(".concat(C[0],", ",C[1],", ",C[2],")");case"rgb%":return"rgb(".concat((100*L[0]).toPrecision(3),"%, ",(100*L[1]).toPrecision(3),"%, ",(100*L[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*L[0]).toPrecision(3),"%, ",(100*L[1]).toPrecision(3),"%, ",(100*L[2]).toPrecision(3),"%, ",(100*L[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=m.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[d.HSB][0],", ",this.hsba[1]*this.maxes[d.HSB][1],", ",this.hsba[2]*this.maxes[d.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=m.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=m.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[d.HSB][0],", ",this.hsba[1]*this.maxes[d.HSB][1],", ",this.hsba[2]*this.maxes[d.HSB][2],", ",k,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=m.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*k).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=m.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[d.HSL][0],", ",this.hsla[1]*this.maxes[d.HSL][1],", ",this.hsla[2]*this.maxes[d.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=m.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=m.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[d.HSL][0],", ",this.hsla[1]*this.maxes[d.HSL][1],", ",this.hsla[2]*this.maxes[d.HSL][2],", ",k,")");case"hsla%":return this.hsla||(this.hsla=m.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*k).toPrecision(3),"%)");default:return"rgba(".concat(C[0],",",C[1],",",C[2],",",k,")")}}},{key:"setRed",value:function(E){this._array[0]=E/this.maxes[d.RGB][0],this._calculateLevels()}},{key:"setGreen",value:function(E){this._array[1]=E/this.maxes[d.RGB][1],this._calculateLevels()}},{key:"setBlue",value:function(E){this._array[2]=E/this.maxes[d.RGB][2],this._calculateLevels()}},{key:"setAlpha",value:function(E){this._array[3]=E/this.maxes[this.mode][3],this._calculateLevels()}},{key:"_calculateLevels",value:function(){for(var E=this._array,C=this.levels=new Array(E.length),L=E.length-1;0<=L;--L)C[L]=Math.round(255*E[L]);this.hsla=null,this.hsba=null}},{key:"_getAlpha",value:function(){return this._array[3]*this.maxes[this.mode][3]}},{key:"_storeModeAndMaxes",value:function(E,C){this.mode=E,this.maxes=C}},{key:"_getMode",value:function(){return this.mode}},{key:"_getMaxes",value:function(){return this.maxes}},{key:"_getBlue",value:function(){return this._array[2]*this.maxes[d.RGB][2]}},{key:"_getBrightness",value:function(){return this.hsba||(this.hsba=m.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[d.HSB][2]}},{key:"_getGreen",value:function(){return this._array[1]*this.maxes[d.RGB][1]}},{key:"_getHue",value:function(){return this.mode===d.HSB?(this.hsba||(this.hsba=m.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[d.HSB][0]):(this.hsla||(this.hsla=m.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[d.HSL][0])}},{key:"_getLightness",value:function(){return this.hsla||(this.hsla=m.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[d.HSL][2]}},{key:"_getRed",value:function(){return this._array[0]*this.maxes[d.RGB][0]}},{key:"_getSaturation",value:function(){return this.mode===d.HSB?(this.hsba||(this.hsba=m.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[d.HSB][1]):(this.hsla||(this.hsla=m.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[d.HSL][1])}}])&&o(x.prototype,M),w&&o(x,w),y}(),n.default.Color);b.default=f},{"../core/constants":272,"../core/main":283,"./color_conversion":268,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],271:[function(t,_,b){function s(r){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(r)}function l(r){return(l=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(o){return s(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":s(o)})(r)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.fill"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var n=(p=t("../core/main"))&&p.__esModule?p:{default:p},d=function(r){if(r&&r.__esModule)return r;if(r===null||l(r)!=="object"&&typeof r!="function")return{default:r};var o=m();if(o&&o.has(r))return o.get(r);var a,i={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in r){var c;Object.prototype.hasOwnProperty.call(r,a)&&((c=h?Object.getOwnPropertyDescriptor(r,a):null)&&(c.get||c.set)?Object.defineProperty(i,a,c):i[a]=r[a])}return i.default=r,o&&o.set(r,i),i}(t("../core/constants"));function m(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,m=function(){return r},r)}t("./p5.Color"),n.default.prototype.beginClip=function(){this._renderer.beginClip(0<arguments.length&&arguments[0]!==void 0?arguments[0]:{})},n.default.prototype.endClip=function(){this._renderer.endClip()},n.default.prototype.clip=function(r,o){this._renderer.beginClip(o),r(),this._renderer.endClip(o)},n.default.prototype.background=function(){var r;return(r=this._renderer).background.apply(r,arguments),this},n.default.prototype.clear=function(){return this._renderer.clear((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this},n.default.prototype.colorMode=function(r,o,a,i,h){return n.default._validateParameters("colorMode",arguments),r!==d.RGB&&r!==d.HSB&&r!==d.HSL||(this._colorMode=r,r=this._colorMaxes[r],arguments.length===2?(r[0]=o,r[1]=o,r[2]=o,r[3]=o):arguments.length===4?(r[0]=o,r[1]=a,r[2]=i):arguments.length===5&&(r[0]=o,r[1]=a,r[2]=i,r[3]=h)),this},n.default.prototype.fill=function(){var r;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(r=this._renderer).fill.apply(r,arguments),this},n.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},n.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},n.default.prototype.stroke=function(){var r;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(r=this._renderer).stroke.apply(r,arguments),this},n.default.prototype.erase=function(){return this._renderer.erase(0<arguments.length&&arguments[0]!==void 0?arguments[0]:255,1<arguments.length&&arguments[1]!==void 0?arguments[1]:255),this},n.default.prototype.noErase=function(){return this._renderer.noErase(),this};var p=n.default;b.default=p},{"../core/constants":272,"../core/main":283,"./p5.Color":270,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],272:[function(t,_,b){Object.defineProperty(b,"__esModule",{value:!0}),b.QUADRATIC=b.LINEAR=b._CTX_MIDDLE=b._DEFAULT_LEADMULT=b._DEFAULT_TEXT_FILL=b.WORD=b.CHAR=b.BOLDITALIC=b.BOLD=b.ITALIC=b.NORMAL=b.BLUR=b.ERODE=b.DILATE=b.POSTERIZE=b.INVERT=b.OPAQUE=b.GRAY=b.THRESHOLD=b.BURN=b.DODGE=b.SOFT_LIGHT=b.HARD_LIGHT=b.OVERLAY=b.REPLACE=b.SCREEN=b.MULTIPLY=b.EXCLUSION=b.SUBTRACT=b.DIFFERENCE=b.LIGHTEST=b.DARKEST=b.ADD=b.REMOVE=b.BLEND=b.UP_ARROW=b.TAB=b.SHIFT=b.RIGHT_ARROW=b.RETURN=b.OPTION=b.LEFT_ARROW=b.ESCAPE=b.ENTER=b.DOWN_ARROW=b.DELETE=b.CONTROL=b.BACKSPACE=b.ALT=b.AUTO=b.HSL=b.HSB=b.RGB=b.MITER=b.BEVEL=b.ROUND=b.SQUARE=b.PROJECT=b.PIE=b.CHORD=b.OPEN=b.CLOSE=b.TESS=b.QUAD_STRIP=b.QUADS=b.TRIANGLE_STRIP=b.TRIANGLE_FAN=b.TRIANGLES=b.LINE_LOOP=b.LINE_STRIP=b.LINES=b.POINTS=b.BASELINE=b.BOTTOM=b.TOP=b.CENTER=b.LEFT=b.RIGHT=b.RADIUS=b.CORNERS=b.CORNER=b.RAD_TO_DEG=b.DEG_TO_RAD=b.RADIANS=b.DEGREES=b.TWO_PI=b.TAU=b.QUARTER_PI=b.PI=b.HALF_PI=b.WAIT=b.TEXT=b.MOVE=b.HAND=b.CROSS=b.ARROW=b.WEBGL2=b.WEBGL=b.P2D=b.VERSION=void 0,b.RGBA=b.HALF_FLOAT=b.FLOAT=b.UNSIGNED_INT=b.UNSIGNED_BYTE=b.COVER=b.CONTAIN=b.FALLBACK=b.LABEL=b.AXES=b.GRID=b._DEFAULT_FILL=b._DEFAULT_STROKE=b.PORTRAIT=b.LANDSCAPE=b.SMOOTH=b.FLAT=b.MIRROR=b.CLAMP=b.REPEAT=b.NEAREST=b.IMAGE=b.IMMEDIATE=b.TEXTURE=b.FILL=b.STROKE=b.CURVE=b.BEZIER=void 0;var s=Math.PI,l=(b.VERSION="1.10.0",b.P2D="p2d",b.WEBGL="webgl",b.WEBGL2="webgl2",b.ARROW="default",b.CROSS="crosshair",b.HAND="pointer",b.MOVE="move",b.TEXT="text",b.WAIT="wait",s/2),l=(b.HALF_PI=l,s),l=(b.PI=l,s/4),l=(b.QUARTER_PI=l,2*s),l=(b.TAU=l,2*s),l=(b.TWO_PI=l,b.DEGREES="degrees",b.RADIANS="radians",s/180),l=(b.DEG_TO_RAD=l,180/s);b.RAD_TO_DEG=l,b.CORNER="corner",b.CORNERS="corners",b.RADIUS="radius",b.RIGHT="right",b.LEFT="left",b.CENTER="center",b.TOP="top",b.BOTTOM="bottom",b.BASELINE="alphabetic",b.POINTS=0,b.LINES=1,b.LINE_STRIP=3,b.LINE_LOOP=2,b.TRIANGLES=4,b.TRIANGLE_FAN=6,b.TRIANGLE_STRIP=5,b.QUADS="quads",b.QUAD_STRIP="quad_strip",b.TESS="tess",b.CLOSE="close",b.OPEN="open",b.CHORD="chord",b.PIE="pie",b.PROJECT="square",b.SQUARE="butt",b.ROUND="round",b.BEVEL="bevel",b.MITER="miter",b.RGB="rgb",b.HSB="hsb",b.HSL="hsl",b.AUTO="auto",b.ALT=18,b.BACKSPACE=8,b.CONTROL=17,b.DELETE=46,b.DOWN_ARROW=40,b.ENTER=13,b.ESCAPE=27,b.LEFT_ARROW=37,b.OPTION=18,b.RETURN=13,b.RIGHT_ARROW=39,b.SHIFT=16,b.TAB=9,b.UP_ARROW=38,b.BLEND="source-over",b.REMOVE="destination-out",b.ADD="lighter",b.DARKEST="darken",b.LIGHTEST="lighten",b.DIFFERENCE="difference",b.SUBTRACT="subtract",b.EXCLUSION="exclusion",b.MULTIPLY="multiply",b.SCREEN="screen",b.REPLACE="copy",b.OVERLAY="overlay",b.HARD_LIGHT="hard-light",b.SOFT_LIGHT="soft-light",b.DODGE="color-dodge",b.BURN="color-burn",b.THRESHOLD="threshold",b.GRAY="gray",b.OPAQUE="opaque",b.INVERT="invert",b.POSTERIZE="posterize",b.DILATE="dilate",b.ERODE="erode",b.BLUR="blur",b.NORMAL="normal",b.ITALIC="italic",b.BOLD="bold",b.BOLDITALIC="bold italic",b.CHAR="CHAR",b.WORD="WORD",b._DEFAULT_TEXT_FILL="#000000",b._DEFAULT_LEADMULT=1.25,b._CTX_MIDDLE="middle",b.LINEAR="linear",b.QUADRATIC="quadratic",b.BEZIER="bezier",b.CURVE="curve",b.STROKE="stroke",b.FILL="fill",b.TEXTURE="texture",b.IMMEDIATE="immediate",b.IMAGE="image",b.NEAREST="nearest",b.REPEAT="repeat",b.CLAMP="clamp",b.MIRROR="mirror",b.FLAT="flat",b.SMOOTH="smooth",b.LANDSCAPE="landscape",b.PORTRAIT="portrait",b._DEFAULT_STROKE="#000000",b._DEFAULT_FILL="#FFFFFF",b.GRID="grid",b.AXES="axes",b.LABEL="label",b.FALLBACK="fallback",b.CONTAIN="contain",b.COVER="cover",b.UNSIGNED_BYTE="unsigned-byte",b.UNSIGNED_INT="unsigned-int",b.FLOAT="float",b.HALF_FLOAT="half-float",b.RGBA="rgba"},{}],273:[function(t,_,b){function s(h){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(h)}function l(h){return(l=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(c){return s(c)}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":s(c)})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var n=(d=t("./main"))&&d.__esModule?d:{default:d},d=function(h){if(h&&h.__esModule)return h;if(h===null||l(h)!=="object"&&typeof h!="function")return{default:h};var c=m();if(c&&c.has(h))return c.get(h);var u,f={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in h){var x;Object.prototype.hasOwnProperty.call(h,u)&&((x=y?Object.getOwnPropertyDescriptor(h,u):null)&&(x.get||x.set)?Object.defineProperty(f,u,x):f[u]=h[u])}return f.default=h,c&&c.set(h,f),f}(t("./constants"));function m(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,m=function(){return h},h)}var p=[d.ARROW,d.CROSS,d.HAND,d.MOVE,d.TEXT,d.WAIT],r=(n.default.prototype._frameRate=0,n.default.prototype._lastFrameTime=window.performance.now(),n.default.prototype._targetFrameRate=60,window.print),o=!1;function a(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function i(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}n.default.prototype.print=function(){var h;arguments.length?(h=console).log.apply(h,arguments):o||(r(),window.confirm("You just tried to print the webpage. Do you want to prevent this from running again?")&&(o=!0))},n.default.prototype.frameCount=0,n.default.prototype.deltaTime=0,n.default.prototype.focused=document.hasFocus(),n.default.prototype.cursor=function(h,c,u){var f,y="auto",x=this._curElement.elt;p.includes(h)?y=h:typeof h=="string"&&(f="",c&&u&&typeof c=="number"&&typeof u=="number"&&(f="".concat(c," ").concat(u)),y=h.substring(0,7)==="http://"||h.substring(0,8)==="https://"||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(h)?"url(".concat(h,") ").concat(f,", auto"):h),x.style.cursor=y},n.default.prototype.frameRate=function(h){return n.default._validateParameters("frameRate",arguments),typeof h!="number"||h<0?this._frameRate:(this._setProperty("_targetFrameRate",h),h===0&&this._setProperty("_frameRate",h),this)},n.default.prototype.getFrameRate=function(){return this.frameRate()},n.default.prototype.setFrameRate=function(h){return this.frameRate(h)},n.default.prototype.getTargetFrameRate=function(){return this._targetFrameRate},n.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},n.default.prototype.webglVersion=d.P2D,n.default.prototype.displayWidth=screen.width,n.default.prototype.displayHeight=screen.height,n.default.prototype.windowWidth=0,n.default.prototype.windowHeight=0,n.default.prototype._onresize=function(h){this._setProperty("windowWidth",a()),this._setProperty("windowHeight",i());var c=this._isGlobal?window:this;typeof c.windowResized!="function"||(c=c.windowResized(h))===void 0||c||h.preventDefault()},n.default.prototype._updateWindowSize=function(){this._setProperty("windowWidth",a()),this._setProperty("windowHeight",i())},n.default.prototype.width=0,n.default.prototype.height=0,n.default.prototype.fullscreen=function(h){if(n.default._validateParameters("fullscreen",arguments),h===void 0)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(h){if(h=document.documentElement,!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");h.requestFullscreen?h.requestFullscreen():h.mozRequestFullScreen?h.mozRequestFullScreen():h.webkitRequestFullscreen?h.webkitRequestFullscreen():h.msRequestFullscreen&&h.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},n.default.prototype.pixelDensity=function(h){var c;return n.default._validateParameters("pixelDensity",arguments),typeof h=="number"?(h!==this._pixelDensity&&(this._pixelDensity=this._maxAllowedPixelDimensions=h),(c=this).resizeCanvas(this.width,this.height,!0)):c=this._pixelDensity,c},n.default.prototype.displayDensity=function(){return window.devicePixelRatio},n.default.prototype.getURL=function(){return location.href},n.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(h){return h!==""})},n.default.prototype.getURLParams=function(){for(var h,c=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,u={};(h=c.exec(location.search))!=null;)h.index===c.lastIndex&&c.lastIndex++,u[h[1]]=h[2];return u},t=n.default,b.default=t},{"./constants":272,"./main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.search":205,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],274:[function(t,_,b){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.starts-with"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.starts-with"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var s=(p=t("../main"))&&p.__esModule?p:{default:p};t("../internationalization");function l(r,o){o=o||console.log.bind(console),n||m(),n.some(function(a){var i;if(r.message&&r.message.match("\\W?".concat(a.name,"\\W"))!==null)return i=a.type==="function"?"".concat(a.name,"()"):a.name,o("Did you just try to use p5.js's ".concat(i," ").concat(a.type,`? If so, you may want to move it into your sketch's setup() function.

For more details, see: `).concat(d)),!0})}var n=null,m=null,d=(s.default._friendlyError=s.default._checkForUserDefinedFunctions=s.default._fesErrorMonitor=function(){},n=null,"https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup"),m=function(){function r(a){return Object.getOwnPropertyNames(a).filter(function(i){return i[0]!=="_"&&!(i in o)&&(o[i]=!0)}).map(function(i){var h=typeof a[i]=="function"?"function":i===i.toUpperCase()?"constant":"variable";return{name:i,type:h}})}var o={};(n=[].concat(r(s.default.prototype),r(t("../constants")))).sort(function(a,i){return i.name.length-a.name.length})},p=(s.default.prototype._helpForMisusedAtTopLevelCode=l,document.readyState!=="complete"&&(window.addEventListener("error",l,!1),window.addEventListener("load",function(){window.removeEventListener("error",l,!1)})),s.default);b.default=p},{"../constants":272,"../internationalization":281,"../main":283,"./browser_errors":void 0,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-names":187,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.starts-with":207,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],275:[function(t,_,b){Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var s=(s=t("../main"))&&s.__esModule?s:{default:s};t("../internationalization"),s.default._friendlyFileLoadError=function(){},t=s.default,b.default=t},{"../internationalization":281,"../main":283}],276:[function(t,_,b){function s(o){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(o)}function l(o){return(l=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(a){return s(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":s(a)})(o)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var n=p(t("../main"));t("../internationalization"),m(t("../constants"));function d(){var o;return typeof WeakMap!="function"?null:(o=new WeakMap,d=function(){return o},o)}function m(o){if(o&&o.__esModule)return o;if(o===null||l(o)!=="object"&&typeof o!="function")return{default:o};var a=d();if(a&&a.has(o))return a.get(o);var i,h,c={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&((h=u?Object.getOwnPropertyDescriptor(o,i):null)&&(h.get||h.set)?Object.defineProperty(c,i,h):c[i]=o[i]);return c.default=o,a&&a.set(o,c),c}function p(o){return o&&o.__esModule?o:{default:o}}n.default._fesCodeReader=function(){};var r=n.default;b.default=r},{"../constants":272,"../internationalization":281,"../main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],277:[function(t,_,b){t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0,t=(t=t("../main"))&&t.__esModule?t:{default:t};function s(){var l=/(^|@)\S+:\d+/,n=/^\s*at .*(\S+:\d+|\(native\))/m,d=/^(eval@)?(\[native code])?$/;return{parse:function(m){return m.stacktrace!==void 0||m["opera#sourceloc"]!==void 0?this.parseOpera(m):m.stack&&m.stack.match(n)?this.parseV8OrIE(m):m.stack?this.parseFFOrSafari(m):void 0},extractLocation:function(m){return m.indexOf(":")===-1?[m]:[(m=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(m.replace(/[()]/g,"")))[1],m[2]||void 0,m[3]||void 0]},parseV8OrIE:function(m){return m.stack.split(`
`).filter(function(p){return!!p.match(n)},this).map(function(p){var r=(p=-1<p.indexOf("(eval ")?p.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""):p).replace(/^\s+/,"").replace(/\(eval code/g,"("),o=r.match(/ (\((.+):(\d+):(\d+)\)$)/),r=(r=o?r.replace(o[0],""):r).split(/\s+/).slice(1),o=this.extractLocation(o?o[1]:r.pop());return{functionName:r.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(o[0])?void 0:o[0],lineNumber:o[1],columnNumber:o[2],source:p}},this)},parseFFOrSafari:function(m){return m.stack.split(`
`).filter(function(p){return!p.match(d)},this).map(function(p){var r,o;return(p=-1<p.indexOf(" > eval")?p.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1"):p).indexOf("@")===-1&&p.indexOf(":")===-1?{functionName:p}:{functionName:(o=p.match(r=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&o[1]?o[1]:void 0,fileName:(o=this.extractLocation(p.replace(r,"")))[0],lineNumber:o[1],columnNumber:o[2],source:p}},this)},parseOpera:function(m){return!m.stacktrace||-1<m.message.indexOf(`
`)&&m.message.split(`
`).length>m.stacktrace.split(`
`).length?this.parseOpera9(m):m.stack?this.parseOpera11(m):this.parseOpera10(m)},parseOpera9:function(m){for(var p=/Line (\d+).*script (?:in )?(\S+)/i,r=m.message.split(`
`),o=[],a=2,i=r.length;a<i;a+=2){var h=p.exec(r[a]);h&&o.push({fileName:h[2],lineNumber:h[1],source:r[a]})}return o},parseOpera10:function(m){for(var p=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,r=m.stacktrace.split(`
`),o=[],a=0,i=r.length;a<i;a+=2){var h=p.exec(r[a]);h&&o.push({functionName:h[3]||void 0,fileName:h[2],lineNumber:h[1],source:r[a]})}return o},parseOpera11:function(m){return m.stack.split(`
`).filter(function(p){return!!p.match(l)&&!p.match(/^Error created at/)},this).map(function(p){var r,a=p.split("@"),o=this.extractLocation(a.pop()),a=a.shift()||"";return{functionName:a.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,args:(r=a.match(/\(([^)]*)\)/)?a.replace(/^[^(]+\(([^)]*)\)$/,"$1"):r)===void 0||r==="[arguments not available]"?void 0:r.split(","),fileName:o[0],lineNumber:o[1],columnNumber:o[2],source:p}},this)}}}t.default._getErrorStackParser=function(){return new s},t=t.default,b.default=t},{"../main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206}],278:[function(t,_,b){function s(m){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(m)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var l=(l=t("../main"))&&l.__esModule?l:{default:l};(function(m){if(!(m&&m.__esModule)&&!(m===null||d(m)!=="object"&&typeof m!="function")){var p=n();if(p&&p.has(m))return p.get(m);var r,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in m){var i;Object.prototype.hasOwnProperty.call(m,r)&&((i=a?Object.getOwnPropertyDescriptor(m,r):null)&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=m[r])}o.default=m,p&&p.set(m,o)}})(t("../constants")),t("../internationalization");function n(){var m;return typeof WeakMap!="function"?null:(m=new WeakMap,n=function(){return m},m)}function d(m){return(d=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(p){return s(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":s(p)})(m)}l.default._validateParameters=l.default._clearValidateParamsCache=function(){},t=l.default,b.default=t},{"../../../docs/parameterData.json":void 0,"../constants":272,"../internationalization":281,"../main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.function.name":174,"core-js/modules/es.map":175,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],279:[function(t,_,b){function s(m){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(m)}function l(m){return(l=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(p){return s(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":s(p)})(m)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var n=function(m){if(m&&m.__esModule)return m;if(m===null||l(m)!=="object"&&typeof m!="function")return{default:m};var p=d();if(p&&p.has(m))return p.get(m);var r,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in m){var i;Object.prototype.hasOwnProperty.call(m,r)&&((i=a?Object.getOwnPropertyDescriptor(m,r):null)&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=m[r])}return o.default=m,p&&p.set(m,o),o}(t("./constants"));function d(){var m;return typeof WeakMap!="function"?null:(m=new WeakMap,d=function(){return m},m)}b.default={modeAdjust:function(m,p,r,o,a){return a===n.CORNER?{x:m,y:p,w:r,h:o}:a===n.CORNERS?{x:m,y:p,w:r-m,h:o-p}:a===n.RADIUS?{x:m-r,y:p-o,w:2*r,h:2*o}:a===n.CENTER?{x:m-.5*r,y:p-.5*o,w:r,h:o}:void 0}}},{"./constants":272,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],280:[function(t,_,b){t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var s=(l=t("../core/main"))&&l.__esModule?l:{default:l};t("./internationalization");var l=Promise.resolve();Promise.all([new Promise(function(n,d){document.readyState==="complete"?n():window.addEventListener("load",n,!1)}),l]).then(function(){window._setupDone!==void 0?console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import"):window.mocha||(window.setup&&typeof window.setup=="function"||window.draw&&typeof window.draw=="function")&&!s.default.instance&&new s.default})},{"../core/main":283,"./internationalization":281,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.string.iterator":200,"core-js/modules/web.dom-collections.iterator":246}],281:[function(t,_,b){t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.setTranslatorLanguage=b.currentTranslatorLanguage=b.availableTranslatorLanguages=b.initialize=b.translator=void 0;var s,l,n=m(t("i18next")),d=m(t("i18next-browser-languagedetector"));function m(o){return o&&o.__esModule?o:{default:o}}function p(o,a){for(var i=0;i<a.length;i++){var h=a[i];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(o,h.key,h)}}var r=function(){function o(h,c){if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");this.init(h,c)}var a,i;return a=o,(i=[{key:"fetchWithTimeout",value:function(h,c){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:2e3;return Promise.race([fetch(h,c),new Promise(function(f,y){return setTimeout(function(){return y(new Error("timeout"))},u)})])}},{key:"init",value:function(h){var c=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};this.services=h,this.options=c}},{key:"read",value:function(h,c,u){var f=this.options.loadPath;h===this.options.fallback?u(null,s[h][c]):l.includes(h)?(f=this.services.interpolator.interpolate(f,{lng:h,ns:c}),this.loadUrl(f,u)):u("Not found",!1)}},{key:"loadUrl",value:function(h,c){this.fetchWithTimeout(h).then(function(u){if(u.ok)return u.json();throw new Error("failed loading ".concat(h))},function(){throw new Error("failed loading ".concat(h))}).then(function(u){return c(null,u)}).catch(c)}}])&&p(a.prototype,i),o}();r.type="backend",b.translator=function(o,a){console.debug("p5.js translator called before translations were loaded"),n.default.t(o,a)},b.initialize=function(){return n.default.use(d.default).use(r).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:s}).then(function(o){b.translator=o},function(o){return console.debug("Translations failed to load (".concat(o,")"))})},b.availableTranslatorLanguages=function(){return n.default.languages},b.currentTranslatorLanguage=function(o){return n.default.language},b.setTranslatorLanguage=function(o){return n.default.changeLanguage(o||void 0,function(a){return console.debug("Translations failed to load (".concat(a,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/web.dom-collections.iterator":246,i18next:3,"i18next-browser-languagedetector":3}],282:[function(t,_,b){Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0,t=(t=t("./main"))&&t.__esModule?t:{default:t},t.default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},t.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},t.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},t.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},t=t.default,b.default=t},{"./main":283}],283:[function(t,_,b){function s(o){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(o)}function l(o){return(l=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(a){return s(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":s(a)})(o)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0,t("./shim");var n=function(o){if(o&&o.__esModule)return o;if(o===null||l(o)!=="object"&&typeof o!="function")return{default:o};var a=d();if(a&&a.has(o))return a.get(o);var i,h={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in o){var u;Object.prototype.hasOwnProperty.call(o,i)&&((u=c?Object.getOwnPropertyDescriptor(o,i):null)&&(u.get||u.set)?Object.defineProperty(h,i,u):h[i]=o[i])}return h.default=o,a&&a.set(o,h),h}(t("./constants"));function d(){var o;return typeof WeakMap!="function"?null:(o=new WeakMap,d=function(){return o},o)}function m(o,a){for(var i=0;i<a.length;i++){var h=a[i];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(o,h.key,h)}}var p,r=function(){function o(h,f){var u=this;if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");this._setupDone=!1,this._preloadDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._maxAllowedPixelDimensions=0,this._userNode=f,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._startListener=null,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._recording=!1,this.touchstart=!1,this.touchend=!1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={};var f=Object.getOwnPropertyNames(o.prototype._registeredMethods),y=!0,x=!1,M=void 0;try{for(var w,E=f[Symbol.iterator]();!(y=(w=E.next()).done);y=!0){var C=w.value;this._registeredMethods[C]=o.prototype._registeredMethods[C].slice()}}catch(H){x=!0,M=H}finally{try{y||E.return==null||E.return()}finally{if(x)throw M}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),o.prototype.callRegisteredHooksFor=function(H){var z=this||o.prototype,G=this._isGlobal?window:this;if(z._registeredMethods.hasOwnProperty(H)){var z=z._registeredMethods[H],Q=!0,H=!1,ie=void 0;try{for(var T,D=z[Symbol.iterator]();!(Q=(T=D.next()).done);Q=!0){var U=T.value;typeof U=="function"&&U.call(G)}}catch(ee){H=!0,ie=ee}finally{try{Q||D.return==null||D.return()}finally{if(H)throw ie}}}},this._start=function(){u._userNode&&typeof u._userNode=="string"&&(u._userNode=document.getElementById(u._userNode));var H=u._isGlobal?window:u;if(H.preload){u.callRegisteredHooksFor("beforePreload");var z,G=document.getElementById(u._loadingScreenId),Q=(G||((G=document.createElement("div")).innerHTML="Loading...",G.style.position="absolute",G.id=u._loadingScreenId,(u._userNode||document.body).appendChild(G)),u._preloadMethods);for(z in Q){Q[z]=Q[z]||o;var ie=Q[z];ie!==o.prototype&&ie!==o||(u._isGlobal&&(window[z]=u._wrapPreload(u,z)),ie=u),u._registeredPreloadMethods[z]=ie[z],ie[z]=u._wrapPreload(ie,z)}H.preload(),u._runIfPreloadsAreDone()}else u._setup(),u._recording||u._draw()},this._runIfPreloadsAreDone=function(){var H,z=this._isGlobal?window:this;z._preloadCount===0&&((H=document.getElementById(z._loadingScreenId))&&H.parentNode.removeChild(H),this.callRegisteredHooksFor("afterPreload"),this._setupDone||(this._lastTargetFrameTime=window.performance.now(),this._lastRealFrameTime=window.performance.now(),z._setup(),this._recording||z._draw()))},this._decrementPreload=function(){var H=this._isGlobal?window:this;H._preloadDone||typeof H.preload!="function"||(H._setProperty("_preloadCount",H._preloadCount-1),H._runIfPreloadsAreDone())},this._wrapPreload=function(H,z){var G=this;return function(){G._incrementPreload();for(var Q=arguments.length,ie=new Array(Q),T=0;T<Q;T++)ie[T]=arguments[T];return G._registeredPreloadMethods[z].apply(H,ie)}},this._incrementPreload=function(){var H=this._isGlobal?window:this;H._preloadDone||H._setProperty("_preloadCount",H._preloadCount+1)},this._setup=function(){u.callRegisteredHooksFor("beforeSetup"),u.createCanvas(u._defaultCanvasSize.width,u._defaultCanvasSize.height,"p2d");var H=u._isGlobal?window:u;if(typeof H.preload=="function")for(var z in u._preloadMethods)H[z]=u._preloadMethods[z][z],H[z]&&u&&(H[z]=H[z].bind(u));u._millisStart=window.performance.now(),H._preloadDone=!0,typeof H.setup=="function"&&H.setup();var G=document.getElementsByTagName("canvas"),Q=!0,ie=!1,T=void 0;try{for(var D,U=G[Symbol.iterator]();!(Q=(D=U.next()).done);Q=!0){var W=D.value;W.dataset.hidden==="true"&&(W.style.visibility="",delete W.dataset.hidden)}}catch($){ie=!0,T=$}finally{try{Q||U.return==null||U.return()}finally{if(ie)throw T}}u._lastTargetFrameTime=window.performance.now(),u._lastRealFrameTime=window.performance.now(),u._setupDone=!0,(u._accessibleOutputs.grid||u._accessibleOutputs.text)&&u._updateAccsOutput(),u.callRegisteredHooksFor("afterSetup")},this._draw=function(z){var z=z||window.performance.now(),G=z-u._lastTargetFrameTime,Q=1e3/u._targetFrameRate;(!u._loop||Q-5<=G)&&(u.deltaTime=z-u._lastRealFrameTime,u._setProperty("deltaTime",u.deltaTime),u._frameRate=1e3/u.deltaTime,u.redraw(),u._lastTargetFrameTime=Math.max(u._lastTargetFrameTime+Q,z),u._lastRealFrameTime=z,u._updateMouseCoords!==void 0&&(u._updateMouseCoords(),u._setProperty("movedX",0),u._setProperty("movedY",0))),u._loop&&(u._requestAnimId=window.requestAnimationFrame(u._draw))},this._setProperty=function(H,z){u[H]=z,u._isGlobal&&(window[H]=z)},this.remove=function(){u._startListener&&window.removeEventListener("load",u._startListener,!1);var H=document.getElementById(u._loadingScreenId);if(H&&(H.parentNode.removeChild(H),u._incrementPreload()),u._curElement){for(var z in u._loop=!1,u._requestAnimId&&window.cancelAnimationFrame(u._requestAnimId),u._events)window.removeEventListener(z,u._events[z]);var G=!0,H=!1,Q=void 0;try{for(var ie,T=u._elements[Symbol.iterator]();!(G=(ie=T.next()).done);G=!0){var D,U=ie.value;for(D in U.elt&&U.elt.parentNode&&U.elt.parentNode.removeChild(U.elt),U._events)U.elt.removeEventListener(D,U._events[D])}}catch(fe){H=!0,Q=fe}finally{try{G||T.return==null||T.return()}finally{if(H)throw Q}}var W=u;u._registeredMethods.remove.forEach(function(fe){fe!==void 0&&fe.call(W)})}if(u._isGlobal){for(var $ in o.prototype)try{delete window[$]}catch{window[$]=void 0}for(var ee in u)if(u.hasOwnProperty(ee))try{delete window[ee]}catch{window[ee]=void 0}o.instance=null}},this._updateWindowSize(),this._registeredMethods.init.forEach(function(H){H!==void 0&&H.call(this)},this),this._setupPromisePreloads();var L,k,R=this._createFriendlyGlobalFunctionBinder();if(h)h(this),o._checkForUserDefinedFunctions(this);else{for(var P in this._isGlobal=!0,o.instance=this,o.prototype)typeof o.prototype[P]=="function"?(L=P.substring(2),this._events.hasOwnProperty(L)||(Math.hasOwnProperty(P)&&Math[P]===o.prototype[P]?R(P,o.prototype[P]):R(P,o.prototype[P].bind(this)))):R(P,o.prototype[P]);for(var F in this)this.hasOwnProperty(F)&&R(F,this[F])}for(k in this._events){var I=this["_on".concat(k)];I&&(I=I.bind(this),window.addEventListener(k,I,{passive:!1}),this._events[k]=I)}function B(){u._setProperty("focused",!0)}function V(){u._setProperty("focused",!1)}window.addEventListener("focus",B),window.addEventListener("blur",V),this.registerMethod("remove",function(){window.removeEventListener("focus",B),window.removeEventListener("blur",V)}),document.readyState==="complete"?this._start():(this._startListener=this._start.bind(this),window.addEventListener("load",this._startListener,!1))}var a,i;return a=o,(i=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=n.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(h,c){o.prototype._preloadMethods.hasOwnProperty(h)||(o.prototype._preloadMethods[h]=c)}},{key:"registerMethod",value:function(h,c){var u=this||o.prototype;u._registeredMethods.hasOwnProperty(h)||(u._registeredMethods[h]=[]),u._registeredMethods[h].push(c)}},{key:"unregisterMethod",value:function(h,c){var u=this||o.prototype;if(u._registeredMethods.hasOwnProperty(h)){for(var f=u._registeredMethods[h],y=[],x=0;x<f.length;x++)f[x]===c&&y.push(x);for(var M=y.length-1;0<=M;M--)f.splice(y[M],1)}}},{key:"_createFriendlyGlobalFunctionBinder",value:function(){var h=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},c=h.globalObject||window;return h.log||console.log.bind(console),function(u,f){o.disableFriendlyErrors,c[u]=f}}}])&&m(a.prototype,i),o}();for(p in r.instance=null,r.disableFriendlyErrors=!1,n)r.prototype[p]=n[p];r.VERSION=n.VERSION,r.prototype._preloadMethods={loadJSON:r.prototype,loadImage:r.prototype,loadStrings:r.prototype,loadXML:r.prototype,loadBytes:r.prototype,loadTable:r.prototype,loadFont:r.prototype,loadModel:r.prototype,loadShader:r.prototype},r.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},r.prototype._registeredPreloadMethods={},b.default=r},{"./constants":272,"./shim":294,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-own-property-names":187,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],284:[function(t,_,b){Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var s=(t=t("./main"))&&t.__esModule?t:{default:t};function l(n,d){for(var m=0;m<d.length;m++){var p=d[m];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(n,p.key,p)}}s.default.Element=function(){function n(r,o){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");this.elt=r,this._pInst=this._pixelsState=o,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight}var d,m,p;return d=n,p=[{key:"_adjustListener",value:function(r,o,a){return o===!1?s.default.Element._detachListener(r,a):s.default.Element._attachListener(r,o,a),this}},{key:"_attachListener",value:function(r,o,a){a._events[r]&&s.default.Element._detachListener(r,a),o=o.bind(a),a.elt.addEventListener(r,o,!1),a._events[r]=o}},{key:"_detachListener",value:function(r,o){var a=o._events[r];o.elt.removeEventListener(r,a,!1),o._events[r]=null}}],(m=[{key:"parent",value:function(r){return r===void 0?this.elt.parentNode:(typeof r=="string"?(r[0]==="#"&&(r=r.substring(1)),r=document.getElementById(r)):r instanceof s.default.Element&&(r=r.elt),r.appendChild(this.elt),this)}},{key:"id",value:function(r){return r===void 0?this.elt.id:(this.elt.id=r,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)}},{key:"class",value:function(r){return r===void 0?this.elt.className:(this.elt.className=r,this)}},{key:"mousePressed",value:function(r){return s.default.Element._adjustListener("mousedown",function(o){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(o),r.call(this,o)},this),this}},{key:"doubleClicked",value:function(r){return s.default.Element._adjustListener("dblclick",r,this),this}},{key:"mouseWheel",value:function(r){return s.default.Element._adjustListener("wheel",r,this),this}},{key:"mouseReleased",value:function(r){return s.default.Element._adjustListener("mouseup",r,this),this}},{key:"mouseClicked",value:function(r){return s.default.Element._adjustListener("click",r,this),this}},{key:"mouseMoved",value:function(r){return s.default.Element._adjustListener("mousemove",r,this),this}},{key:"mouseOver",value:function(r){return s.default.Element._adjustListener("mouseover",r,this),this}},{key:"mouseOut",value:function(r){return s.default.Element._adjustListener("mouseout",r,this),this}},{key:"touchStarted",value:function(r){return s.default.Element._adjustListener("touchstart",r,this),this}},{key:"touchMoved",value:function(r){return s.default.Element._adjustListener("touchmove",r,this),this}},{key:"touchEnded",value:function(r){return s.default.Element._adjustListener("touchend",r,this),this}},{key:"dragOver",value:function(r){return s.default.Element._adjustListener("dragover",r,this),this}},{key:"dragLeave",value:function(r){return s.default.Element._adjustListener("dragleave",r,this),this}},{key:"_setProperty",value:function(r,o){this[r]=o}}])&&l(d.prototype,m),p&&l(d,p),n}(),t=s.default.Element,b.default=t},{"./main":283}],285:[function(t,_,b){function s(u){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(u)}function l(u){return(l=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(f){return s(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":s(f)})(u)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-prototype-of"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var n=(c=t("./main"))&&c.__esModule?c:{default:c},d=function(u){if(u&&u.__esModule)return u;if(u===null||l(u)!=="object"&&typeof u!="function")return{default:u};var f=m();if(f&&f.has(u))return f.get(u);var y,x={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(y in u){var w;Object.prototype.hasOwnProperty.call(u,y)&&((w=M?Object.getOwnPropertyDescriptor(u,y):null)&&(w.get||w.set)?Object.defineProperty(x,y,w):x[y]=u[y])}return x.default=u,f&&f.set(u,x),x}(t("./constants"));function m(){var u;return typeof WeakMap!="function"?null:(u=new WeakMap,m=function(){return u},u)}function p(u,f){for(var y=0;y<f.length;y++){var x=f[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(u,x.key,x)}}function r(u,f){return(r=Object.setPrototypeOf||function(y,x){return y.__proto__=x,y})(u,f)}function o(u){return function(){var f,y=h(u);return a(this,function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(f=h(this).constructor,Reflect.construct(y,arguments,f)):y.apply(this,arguments))}}function a(u,f){return!f||l(f)!=="object"&&typeof f!="function"?i(u):f}function i(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function h(u){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)})(u)}n.default.Graphics=function(u){var f=x;if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(u&&u.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),u&&r(f,u);var y=o(x);function x(M,w,F,C,L){var k;if(!(this instanceof x))throw new TypeError("Cannot call a class as a function");P=L||document.createElement("canvas"),(k=y.call(this,P,C)).canvas=P;var R,P=F||d.P2D,F=C._userNode||document.body;for(R in L||F.appendChild(k.canvas),n.default.prototype)k[R]||(typeof n.default.prototype[R]=="function"?k[R]=n.default.prototype[R].bind(i(k)):k[R]=n.default.prototype[R]);return n.default.prototype._initializeInstanceVariables.apply(i(k)),k.width=M,k.height=w,k._pixelDensity=C._pixelDensity,P===d.WEBGL?(k._renderer=new n.default.RendererGL(k.canvas,i(k),!1),M=(L=k._renderer._adjustDimensions(M,w)).adjustedWidth,w=L.adjustedHeight):k._renderer=new n.default.Renderer2D(k.canvas,i(k),!1),C._elements.push(i(k)),Object.defineProperty(i(k),"deltaTime",{get:function(){return this._pInst.deltaTime}}),k._renderer.resize(M,w),k._renderer._applyDefaults(),a(k,i(k))}return f=x,(u=[{key:"reset",value:function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()}},{key:"remove",value:function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var M,w=this._pInst._elements.indexOf(this);for(M in w!==-1&&this._pInst._elements.splice(w,1),this._events)this.elt.removeEventListener(M,this._events[M]);this._renderer=void 0,this.canvas=void 0,this.elt=void 0}},{key:"createFramebuffer",value:function(M){return new n.default.Framebuffer(this,M)}}])&&p(f.prototype,u),x}(n.default.Element);var c=n.default.Graphics;b.default=c},{"./constants":272,"./main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],286:[function(t,_,b){function s(u){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(u)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var l=(h=t("./main"))&&h.__esModule?h:{default:h},n=function(u){if(u&&u.__esModule)return u;if(u===null||m(u)!=="object"&&typeof u!="function")return{default:u};var f=d();if(f&&f.has(u))return f.get(u);var y,x={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(y in u){var w;Object.prototype.hasOwnProperty.call(u,y)&&((w=M?Object.getOwnPropertyDescriptor(u,y):null)&&(w.get||w.set)?Object.defineProperty(x,y,w):x[y]=u[y])}return x.default=u,f&&f.set(u,x),x}(t("../core/constants"));function d(){var u;return typeof WeakMap!="function"?null:(u=new WeakMap,d=function(){return u},u)}function m(u){return(m=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(f){return s(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":s(f)})(u)}function p(u,f){for(var y=0;y<f.length;y++){var x=f[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(u,x.key,x)}}function r(u,f){return(r=Object.setPrototypeOf||function(y,x){return y.__proto__=x,y})(u,f)}function o(u){return function(){var f,y,x=i(u);return f=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(f=i(this).constructor,Reflect.construct(x,arguments,f)):x.apply(this,arguments),x=this,!(y=f)||m(y)!=="object"&&typeof y!="function"?a(x):y}}function a(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function i(u){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)})(u)}var h=function(u){var f=x;if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(u&&u.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),u&&r(f,u);var y=o(x);function x(M,w,E){var C;if(this instanceof x)return(C=y.call(this,M,w)).canvas=M,C._pixelsState=w,E?(C._isMainCanvas=!0,C._pInst._setProperty("_curElement",a(C)),C._pInst._setProperty("canvas",C.canvas),C._pInst._setProperty("width",C.width),C._pInst._setProperty("height",C.height)):(C.canvas.style.display="none",C._styles=[]),C._clipping=!1,C._clipInvert=!1,C._textSize=12,C._textLeading=15,C._textFont="sans-serif",C._textStyle=n.NORMAL,C._textAscent=null,C._textDescent=null,C._textAlign=n.LEFT,C._textBaseline=n.BASELINE,C._textWrap=n.WORD,C._rectMode=n.CORNER,C._ellipseMode=n.CENTER,C._curveTightness=0,C._imageMode=n.CORNER,C._tint=null,C._doStroke=!0,C._doFill=!0,C._strokeSet=!1,C._fillSet=!1,C._leadingSet=!1,C._pushPopDepth=0,C;throw new TypeError("Cannot call a class as a function")}return f=x,(u=[{key:"push",value:function(){return this._pushPopDepth++,{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}}},{key:"pop",value:function(M){this._pushPopDepth--,M.properties&&Object.assign(this,M.properties)}},{key:"beginClip",value:function(){var M=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};if(this._clipping)throw new Error("It looks like you're trying to clip while already in the middle of clipping. Did you forget to endClip()?");this._clipping=!0,this._clipInvert=M.invert}},{key:"endClip",value:function(){if(!this._clipping)throw new Error("It looks like you've called endClip() without beginClip(). Did you forget to call beginClip() first?");this._clipping=!1}},{key:"resize",value:function(M,w){this.width=M,this.height=w,this.elt.width=M*this._pInst._pixelDensity,this.elt.height=w*this._pInst._pixelDensity,this.elt.style.width="".concat(M,"px"),this.elt.style.height="".concat(w,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))}},{key:"get",value:function(M,w,E,C){var L=this._pixelsState,k=L._pixelDensity,R=this.canvas;if(M===void 0&&w===void 0)M=w=0,E=L.width,C=L.height;else if(M*=k,w*=k,E===void 0&&C===void 0)return M<0||w<0||M>=R.width||w>=R.height?[0,0,0,0]:this._getPixel(M,w);return L=new l.default.Image(E*k,C*k),L.pixelDensity(k),L.canvas.getContext("2d").drawImage(R,M,w,E*k,C*k,0,0,E*k,C*k),L}},{key:"textLeading",value:function(M){return typeof M=="number"?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",M),this._pInst):this._textLeading}},{key:"textStyle",value:function(M){return M?(M!==n.NORMAL&&M!==n.ITALIC&&M!==n.BOLD&&M!==n.BOLDITALIC||this._setProperty("_textStyle",M),this._applyTextProperties()):this._textStyle}},{key:"textAscent",value:function(){return this._textAscent===null&&this._updateTextMetrics(),this._textAscent}},{key:"textDescent",value:function(){return this._textDescent===null&&this._updateTextMetrics(),this._textDescent}},{key:"textAlign",value:function(M,w){return M!==void 0?(this._setProperty("_textAlign",M),w!==void 0&&this._setProperty("_textBaseline",w),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}}},{key:"textWrap",value:function(M){return this._setProperty("_textWrap",M),this._textWrap}},{key:"text",value:function(M,w,E,C,L){var k,R,P,F,I=this._pInst,B=this._textWrap,V=Number.MAX_VALUE,H=E;if((this._doFill||this._doStroke)&&M!==void 0){if(k=(M=(M=typeof M!="string"?M.toString():M).replace(/(\t)/g,"  ")).split(`
`),C!==void 0){switch(this._rectMode===n.CENTER&&(w-=C/2),this._textAlign){case n.CENTER:w+=C/2;break;case n.RIGHT:w+=C}if(L!==void 0){this._rectMode===n.CENTER&&(E-=L/2,H-=L/2);var M=E,z=I.textAscent();switch(this._textBaseline){case n.BOTTOM:F=E+L,E=Math.max(F,E),H+=z;break;case n.CENTER:F=E+L/2,E=Math.max(F,E),H+=z/2}V=E+L-z,this._textBaseline===n.CENTER&&(V=M+L-z/2)}else this._textBaseline!==n.BOTTOM&&this._textBaseline!==n.CENTER||(H=E-(M=I.textSize()*this._textLeading)/2,V=E+M/2);if(B===n.WORD){for(var G=[],Q=0;Q<k.length;Q++){for(var ie="",T=k[Q].split(" "),D=0;D<T.length;D++)R="".concat(ie+T[D])+" ",ie=C<(P=this.textWidth(R))&&0<ie.length?(G.push(ie),"".concat(T[D])+" "):R;G.push(ie)}var U=0;this._textBaseline===n.CENTER?U=(G.length-1)*I.textLeading()/2:this._textBaseline===n.BOTTOM&&(U=(G.length-1)*I.textLeading());for(var W=0;W<k.length;W++){ie="",T=k[W].split(" ");for(var $=0;$<T.length;$++)R="".concat(ie+T[$])+" ",C<(P=this.textWidth(R))&&0<ie.length?(this._renderText(I,ie.trim(),w,E-U,V,H),ie="".concat(T[$])+" ",E+=I.textLeading()):ie=R;this._renderText(I,ie.trim(),w,E-U,V,H),E+=I.textLeading()}}else{for(var ee=[],ne=0;ne<k.length;ne++)for(var fe=k[ne].split(ie=""),se=0;se<fe.length;se++)R="".concat(ie+fe[se]),(P=this.textWidth(R))<=C?ie+=fe[se]:C<P&&0<ie.length&&(ee.push(ie),ie="".concat(fe[se]));ee.push(ie);var he=0;this._textBaseline===n.CENTER?he=(ee.length-1)*I.textLeading()/2:this._textBaseline===n.BOTTOM&&(he=(ee.length-1)*I.textLeading());for(var ae=0;ae<k.length;ae++){fe=k[ae].split(ie="");for(var J=0;J<fe.length;J++)R="".concat(ie+fe[J]),(P=this.textWidth(R))<=C?ie+=fe[J]:C<P&&0<ie.length&&(this._renderText(I,ie.trim(),w,E-he,V,H),E+=I.textLeading(),ie="".concat(fe[J]))}this._renderText(I,ie.trim(),w,E-he,V,H),E+=I.textLeading()}}else{var le=0;this._textBaseline===n.CENTER?le=(k.length-1)*I.textLeading()/2:this._textBaseline===n.BOTTOM&&(le=(k.length-1)*I.textLeading());for(var ye=0;ye<k.length;ye++)this._renderText(I,k[ye],w,E-le,V,H-le),E+=I.textLeading()}return I}}},{key:"_applyDefaults",value:function(){return this}},{key:"_isOpenType",value:function(){var M=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._textFont;return m(M)==="object"&&M.font&&M.font.supported}},{key:"_updateTextMetrics",value:function(){var M,w,E,C,L,k;return this._isOpenType()?(this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent())):((M=document.createElement("span")).style.fontFamily=this._textFont,M.style.fontSize="".concat(this._textSize,"px"),M.innerHTML="ABCjgq|",(k=document.createElement("div")).style.display="inline-block",k.style.width="1px",k.style.height="0px",C=((w=document.createElement("div")).appendChild(M),w.appendChild(k),w.style.height="0px",w.style.overflow="hidden",document.body.appendChild(w),k.style.verticalAlign="baseline",c(k)),L=c(M),E=C[1]-L[1],C=(k.style.verticalAlign="bottom",c(k)),L=c(M),k=C[1]-L[1]-E,document.body.removeChild(w),this._setProperty("_textAscent",E),this._setProperty("_textDescent",k)),this}}])&&p(f.prototype,u),x}(l.default.Element);function c(u){var f=0,y=0;if(u.offsetParent)for(;f+=u.offsetLeft,y+=u.offsetTop,u=u.offsetParent;);else f+=u.offsetLeft,y+=u.offsetTop;return[f,y]}h.prototype.textSize=function(u){return typeof u=="number"?(this._setProperty("_textSize",u),this._leadingSet||this._setProperty("_textLeading",u*n._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},l.default.Renderer=h,t=l.default.Renderer,b.default=t},{"../core/constants":272,"./main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],287:[function(u,_,b){function s(f){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(f)}function l(f){return(l=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(y){return s(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":s(y)})(f)}u("core-js/modules/es.symbol"),u("core-js/modules/es.symbol.description"),u("core-js/modules/es.symbol.iterator"),u("core-js/modules/es.array.concat"),u("core-js/modules/es.array.fill"),u("core-js/modules/es.array.for-each"),u("core-js/modules/es.array.iterator"),u("core-js/modules/es.array.join"),u("core-js/modules/es.array.slice"),u("core-js/modules/es.function.name"),u("core-js/modules/es.number.to-fixed"),u("core-js/modules/es.object.get-own-property-descriptor"),u("core-js/modules/es.object.get-prototype-of"),u("core-js/modules/es.object.to-string"),u("core-js/modules/es.reflect.construct"),u("core-js/modules/es.reflect.get"),u("core-js/modules/es.regexp.exec"),u("core-js/modules/es.regexp.to-string"),u("core-js/modules/es.string.iterator"),u("core-js/modules/es.weak-map"),u("core-js/modules/web.dom-collections.iterator"),u("core-js/modules/es.array.concat"),u("core-js/modules/es.array.fill"),u("core-js/modules/es.array.for-each"),u("core-js/modules/es.array.join"),u("core-js/modules/es.array.slice"),u("core-js/modules/es.function.name"),u("core-js/modules/es.number.to-fixed"),u("core-js/modules/es.object.get-prototype-of"),u("core-js/modules/es.object.to-string"),u("core-js/modules/es.regexp.exec"),u("core-js/modules/es.regexp.to-string"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var n=(c=u("./main"))&&c.__esModule?c:{default:c},d=function(f){if(f&&f.__esModule)return f;if(f===null||l(f)!=="object"&&typeof f!="function")return{default:f};var y=m();if(y&&y.has(f))return y.get(f);var x,M={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(x in f){var E;Object.prototype.hasOwnProperty.call(f,x)&&((E=w?Object.getOwnPropertyDescriptor(f,x):null)&&(E.get||E.set)?Object.defineProperty(M,x,E):M[x]=f[x])}return M.default=f,y&&y.set(f,M),M}(u("./constants"));function m(){var f;return typeof WeakMap!="function"?null:(f=new WeakMap,m=function(){return f},f)}function p(f,y){for(var x=0;x<y.length;x++){var M=y[x];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(f,M.key,M)}}function r(f,y,x){return(r=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(C,w,E){var C=function(L,k){for(;!Object.prototype.hasOwnProperty.call(L,k)&&(L=i(L))!==null;);return L}(C,w);if(C)return(C=Object.getOwnPropertyDescriptor(C,w)).get?C.get.call(E):C.value})(f,y,x||f)}function o(f,y){return(o=Object.setPrototypeOf||function(x,M){return x.__proto__=M,x})(f,y)}function a(f){return function(){var y,x=i(f),x=(y=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(y=i(this).constructor,Reflect.construct(x,arguments,y)):x.apply(this,arguments),this);if(!y||l(y)!=="object"&&typeof y!="function"){if(x!==void 0)return x;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return y}}function i(f){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(y){return y.__proto__||Object.getPrototypeOf(y)})(f)}u("./p5.Renderer");var h="rgba(0,0,0,0)",c=function(f){var y=M;if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(f&&f.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),f&&o(y,f);var x=a(M);function M(w,E,C){if(this instanceof M)return(w=x.call(this,w,E,C)).drawingContext=w.canvas.getContext("2d"),w._pInst._setProperty("drawingContext",w.drawingContext),w;throw new TypeError("Cannot call a class as a function")}return y=M,(f=[{key:"getFilterGraphicsLayer",value:function(){var w;return this.filterGraphicsLayer||(w=(this._pInst instanceof n.default.Graphics?this._pInst:this)._pInst,this.filterGraphicsLayer=new n.default.Graphics(this.width,this.height,d.WEBGL,w)),this.filterGraphicsLayer.width===this.width&&this.filterGraphicsLayer.height===this.height||this.filterGraphicsLayer.resizeCanvas(this.width,this.height),this.filterGraphicsLayer.pixelDensity()!==this._pInst.pixelDensity()&&this.filterGraphicsLayer.pixelDensity(this._pInst.pixelDensity()),this.filterGraphicsLayer}},{key:"_applyDefaults",value:function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=d.BLEND,this._setFill(d._DEFAULT_FILL),this._setStroke(d._DEFAULT_STROKE),this.drawingContext.lineCap=d.ROUND,this.drawingContext.font="normal 12px sans-serif"}},{key:"resize",value:function(w,E){r(i(M.prototype),"resize",this).call(this,w,E),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)}},{key:"background",value:function(){var w,E;this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof n.default.Image?0<=(arguments.length<=1?void 0:arguments[1])?(w=arguments.length<=0?void 0:arguments[0],this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(w,0,0,this.width,this.height)):this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height):(w=this._getFill(),E=(E=this._pInst).color.apply(E,arguments),this._pInst._addAccsOutput()&&this._pInst._accsBackground(E.levels),E=E.toString(),this._setFill(E),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(w),this._isErasing&&this._pInst.erase()),this.drawingContext.restore()}},{key:"clear",value:function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()}},{key:"fill",value:function(){var w=(w=this._pInst).color.apply(w,arguments);this._setFill(w.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",w.levels)}},{key:"stroke",value:function(){var w=(w=this._pInst).color.apply(w,arguments);this._setStroke(w.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",w.levels)}},{key:"erase",value:function(w,E){this._isErasing||(this._cachedFillStyle=this.drawingContext.fillStyle,w=this._pInst.color(255,w).toString(),this.drawingContext.fillStyle=w,this._cachedStrokeStyle=this.drawingContext.strokeStyle,w=this._pInst.color(255,E).toString(),this.drawingContext.strokeStyle=w,E=this._cachedBlendMode,this.blendMode(d.REMOVE),this._cachedBlendMode=E,this._isErasing=!0)}},{key:"noErase",value:function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)}},{key:"beginClip",value:function(){var w=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},w=(r(i(M.prototype),"beginClip",this).call(this,w),this._cachedFillStyle=this.drawingContext.fillStyle,this._pInst.color(255,0).toString()),w=(this.drawingContext.fillStyle=w,this._cachedStrokeStyle=this.drawingContext.strokeStyle,this._pInst.color(255,0).toString()),w=(this.drawingContext.strokeStyle=w,this._cachedBlendMode);this.blendMode(d.BLEND),this._cachedBlendMode=w,this.drawingContext.beginPath(),this._clipInvert&&(this.drawingContext.moveTo(-2*this.width,-2*this.height),this.drawingContext.lineTo(-2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,-2*this.height),this.drawingContext.closePath())}},{key:"endClip",value:function(){this._doFillStrokeClose(),this.drawingContext.clip(),r(i(M.prototype),"endClip",this).call(this),this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode)}},{key:"image",value:function(w,E,C,L,k,R,P,F,I){w.gifProperties&&w._animateGif(this._pInst);try{n.default.MediaElement&&w instanceof n.default.MediaElement&&w._ensureCanvas();var B=(B=this._tint&&w.canvas?this._getTintedImageCanvas(w):B)||w.canvas||w.elt,V=1;w.width&&0<w.width&&(V=B.width/w.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(B,V*E,V*C,V*L,V*k,R,P,F,I),this._isErasing&&this._pInst.erase()}catch(H){if(H.name!=="NS_ERROR_NOT_AVAILABLE")throw H}}},{key:"_getTintedImageCanvas",value:function(w){if(!w.canvas)return w;w.tintCanvas||(w.tintCanvas=document.createElement("canvas")),w.tintCanvas.width!==w.canvas.width&&(w.tintCanvas.width=w.canvas.width),w.tintCanvas.height!==w.canvas.height&&(w.tintCanvas.height=w.canvas.height);var E=w.tintCanvas.getContext("2d");return E.save(),E.clearRect(0,0,w.canvas.width,w.canvas.height),(this._tint[0]<255||this._tint[1]<255||this._tint[2]<255)&&(E.drawImage(w.canvas,0,0),E.globalCompositeOperation="luminosity",E.drawImage(w.canvas,0,0),E.globalCompositeOperation="color",E.drawImage(w.canvas,0,0),E.globalCompositeOperation="multiply",E.fillStyle="rgb(".concat(this._tint.slice(0,3).join(", "),")"),E.fillRect(0,0,w.canvas.width,w.canvas.height),E.globalCompositeOperation="destination-in"),E.globalAlpha=this._tint[3]/255,E.drawImage(w.canvas,0,0),E.restore(),w.tintCanvas}},{key:"blendMode",value:function(w){if(w===d.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(w!==d.BLEND&&w!==d.REMOVE&&w!==d.DARKEST&&w!==d.LIGHTEST&&w!==d.DIFFERENCE&&w!==d.MULTIPLY&&w!==d.EXCLUSION&&w!==d.SCREEN&&w!==d.REPLACE&&w!==d.OVERLAY&&w!==d.HARD_LIGHT&&w!==d.SOFT_LIGHT&&w!==d.DODGE&&w!==d.BURN&&w!==d.ADD)throw new Error("Mode ".concat(w," not recognized."));this._cachedBlendMode=w,this.drawingContext.globalCompositeOperation=w}}},{key:"blend",value:function(){for(var w=this.drawingContext.globalCompositeOperation,E=arguments.length,C=new Array(E),L=0;L<E;L++)C[L]=arguments[L];var k=C[C.length-1],R=Array.prototype.slice.call(C,0,C.length-1);this.drawingContext.globalCompositeOperation=k,n.default.prototype.copy.apply(this,R),this.drawingContext.globalCompositeOperation=w}},{key:"_getPixel",value:function(w,E){return w=this.drawingContext.getImageData(w,E,1,1).data,[w[0],w[1],w[2],w[3]]}},{key:"loadPixels",value:function(){var w=this._pixelsState,E=w._pixelDensity,C=this.width*E,E=this.height*E,C=this.drawingContext.getImageData(0,0,C,E);w._setProperty("imageData",C),w._setProperty("pixels",C.data)}},{key:"set",value:function(w,E,C){w=Math.floor(w),E=Math.floor(E);var L=this._pixelsState;if(C instanceof n.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(L._pixelDensity,L._pixelDensity),this.drawingContext.clearRect(w,E,C.width,C.height),this.drawingContext.drawImage(C.canvas,w,E),this.drawingContext.restore();else{var k=0,R=0,P=0,F=0,I=4*(E*L._pixelDensity*(this.width*L._pixelDensity)+w*L._pixelDensity);if(L.imageData||L.loadPixels(),typeof C=="number")I<L.pixels.length&&(P=R=k=C,F=255);else if(Array.isArray(C)){if(C.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");I<L.pixels.length&&(k=C[0],R=C[1],P=C[2],F=C[3])}else C instanceof n.default.Color&&I<L.pixels.length&&(k=C.levels[0],R=C.levels[1],P=C.levels[2],F=C.levels[3]);for(var B=0;B<L._pixelDensity;B++)for(var V=0;V<L._pixelDensity;V++)I=4*((E*L._pixelDensity+V)*this.width*L._pixelDensity+(w*L._pixelDensity+B)),L.pixels[I]=k,L.pixels[I+1]=R,L.pixels[I+2]=P,L.pixels[I+3]=F}}},{key:"updatePixels",value:function(w,E,C,L){var k=this._pixelsState,R=k._pixelDensity;w===void 0&&E===void 0&&C===void 0&&L===void 0&&(E=w=0,C=this.width,L=this.height),w*=R,E*=R,C*=R,L*=R,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=k.imageData),this.drawingContext.putImageData(k.imageData,w,E,0,0,C,L)}},{key:"_acuteArcToBezier",value:function(w,E){var R=E/2,C=Math.cos(R),F=Math.sin(R),L=1/Math.tan(R),R=w+R,k=Math.cos(R),R=Math.sin(R),P=(4-C)/3,F=F+(C-P)*L;return{ax:Math.cos(w).toFixed(7),ay:Math.sin(w).toFixed(7),bx:(P*k+F*R).toFixed(7),by:(P*R-F*k).toFixed(7),cx:(P*k-F*R).toFixed(7),cy:(P*R+F*k).toFixed(7),dx:Math.cos(w+E).toFixed(7),dy:Math.sin(w+E).toFixed(7)}}},{key:"arc",value:function(w,E,C,L,k,R,P){var F,I=this.drawingContext,B=C/2,V=L/2,H=[];for(w+=B,E+=V;1e-5<=R-k;)F=Math.min(R-k,d.HALF_PI),H.push(this._acuteArcToBezier(k,F)),k+=F;return this._doFill&&(this._clipping||I.beginPath(),H.forEach(function(z,G){G===0&&I.moveTo(w+z.ax*B,E+z.ay*V),I.bezierCurveTo(w+z.bx*B,E+z.by*V,w+z.cx*B,E+z.cy*V,w+z.dx*B,E+z.dy*V)}),P!==d.PIE&&P!=null||I.lineTo(w,E),I.closePath(),this._clipping||I.fill()),this._doStroke&&(this._clipping||I.beginPath(),H.forEach(function(z,G){G===0&&I.moveTo(w+z.ax*B,E+z.ay*V),I.bezierCurveTo(w+z.bx*B,E+z.by*V,w+z.cx*B,E+z.cy*V,w+z.dx*B,E+z.dy*V)}),P===d.PIE?(I.lineTo(w,E),I.closePath()):P===d.CHORD&&I.closePath(),this._clipping||I.stroke()),this}},{key:"ellipse",value:function(F){var E=this.drawingContext,C=this._doFill,L=this._doStroke,k=parseFloat(F[0]),R=parseFloat(F[1]),P=parseFloat(F[2]),F=parseFloat(F[3]);if(C&&!L){if(this._getFill()===h)return this}else if(!C&&L&&this._getStroke()===h)return this;k+=P/2,R+=F/2,P/=2,F/=2,this._clipping||E.beginPath(),E.ellipse(k,R,P,F,0,0,2*Math.PI),!this._clipping&&C&&E.fill(),!this._clipping&&L&&E.stroke()}},{key:"line",value:function(w,E,C,L){var k=this.drawingContext;return this._doStroke&&this._getStroke()!==h&&(this._clipping||k.beginPath(),k.moveTo(w,E),k.lineTo(C,L),k.stroke()),this}},{key:"point",value:function(w,E){var C,L,k=this.drawingContext;return!this._doStroke||this._getStroke()===h?this:(C=this._getStroke(),L=this._getFill(),this._clipping||this._setFill(C),this._clipping||k.beginPath(),k.arc(w,E,k.lineWidth/2,0,d.TWO_PI,!1),void(this._clipping||(k.fill(),this._setFill(L))))}},{key:"quad",value:function(w,E,C,L,k,R,P,F){var I=this.drawingContext,B=this._doFill,V=this._doStroke;if(B&&!V){if(this._getFill()===h)return this}else if(!B&&V&&this._getStroke()===h)return this;return this._clipping||I.beginPath(),I.moveTo(w,E),I.lineTo(C,L),I.lineTo(k,R),I.lineTo(P,F),I.closePath(),!this._clipping&&B&&I.fill(),!this._clipping&&V&&I.stroke(),this}},{key:"rect",value:function(V){var E,C,L=V[0],k=V[1],R=V[2],P=V[3],F=V[4],I=V[5],B=V[6],V=V[7],H=this.drawingContext,z=this._doFill,G=this._doStroke;if(z&&!G){if(this._getFill()===h)return this}else if(!z&&G&&this._getStroke()===h)return this;return this._clipping||H.beginPath(),F===void 0?H.rect(L,k,R,P):(I===void 0&&(I=F),B===void 0&&(B=I),V===void 0&&(V=B),G=(z=Math.abs(R))/2,C=(E=Math.abs(P))/2,E<2*(F=z<2*F?G:F)&&(F=C),E<2*(I=z<2*I?G:I)&&(I=C),E<2*(B=z<2*B?G:B)&&(B=C),E<2*(V=z<2*V?G:V)&&(V=C),this._clipping||H.beginPath(),H.moveTo(L+F,k),H.arcTo(L+R,k,L+R,k+P,I),H.arcTo(L+R,k+P,L,k+P,B),H.arcTo(L,k+P,L,k,V),H.arcTo(L,k,L+R,k,F),H.closePath()),!this._clipping&&this._doFill&&H.fill(),!this._clipping&&this._doStroke&&H.stroke(),this}},{key:"triangle",value:function(B){var E=this.drawingContext,C=this._doFill,L=this._doStroke,k=B[0],R=B[1],P=B[2],F=B[3],I=B[4],B=B[5];if(C&&!L){if(this._getFill()===h)return this}else if(!C&&L&&this._getStroke()===h)return this;this._clipping||E.beginPath(),E.moveTo(k,R),E.lineTo(P,F),E.lineTo(I,B),E.closePath(),!this._clipping&&C&&E.fill(),!this._clipping&&L&&E.stroke()}},{key:"endShape",value:function(w,E,C,L,k,R,P){if(E.length!==0&&(this._doStroke||this._doFill)){var F,I,B,V=w===d.CLOSE,H=(V&&!R&&E.push(E[0]),E.length);if(C&&P===null){if(3<H){var z=[],G=1-this._curveTightness;for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(E[1][0],E[1][1]),I=1;I+2<H;I++)F=E[I],z[0]=[F[0],F[1]],z[1]=[F[0]+(G*E[I+1][0]-G*E[I-1][0])/6,F[1]+(G*E[I+1][1]-G*E[I-1][1])/6],z[2]=[E[I+1][0]+(G*E[I][0]-G*E[I+2][0])/6,E[I+1][1]+(G*E[I][1]-G*E[I+2][1])/6],z[3]=[E[I+1][0],E[I+1][1]],this.drawingContext.bezierCurveTo(z[1][0],z[1][1],z[2][0],z[2][1],z[3][0],z[3][1]);V&&this.drawingContext.lineTo(E[I+1][0],E[I+1][1]),this._doFillStrokeClose(V)}}else if(L&&P===null){for(this._clipping||this.drawingContext.beginPath(),I=0;I<H;I++)E[I].isVert?E[I].moveTo?this.drawingContext.moveTo(E[I][0],E[I][1]):this.drawingContext.lineTo(E[I][0],E[I][1]):this.drawingContext.bezierCurveTo(E[I][0],E[I][1],E[I][2],E[I][3],E[I][4],E[I][5]);this._doFillStrokeClose(V)}else if(k&&P===null){for(this._clipping||this.drawingContext.beginPath(),I=0;I<H;I++)E[I].isVert?E[I].moveTo?this.drawingContext.moveTo(E[I][0],E[I][1]):this.drawingContext.lineTo(E[I][0],E[I][1]):this.drawingContext.quadraticCurveTo(E[I][0],E[I][1],E[I][2],E[I][3]);this._doFillStrokeClose(V)}else if(P===d.POINTS)for(I=0;I<H;I++)F=E[I],this._doStroke&&this._pInst.stroke(F[6]),this._pInst.point(F[0],F[1]);else if(P===d.LINES)for(I=0;I+1<H;I+=2)F=E[I],this._doStroke&&this._pInst.stroke(E[I+1][6]),this._pInst.line(F[0],F[1],E[I+1][0],E[I+1][1]);else if(P===d.TRIANGLES)for(I=0;I+2<H;I+=3)F=E[I],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(F[0],F[1]),this.drawingContext.lineTo(E[I+1][0],E[I+1][1]),this.drawingContext.lineTo(E[I+2][0],E[I+2][1]),this.drawingContext.closePath(),!this._clipping&&this._doFill&&(this._pInst.fill(E[I+2][5]),this.drawingContext.fill()),!this._clipping&&this._doStroke&&(this._pInst.stroke(E[I+2][6]),this.drawingContext.stroke());else if(P===d.TRIANGLE_STRIP)for(I=0;I+1<H;I++)F=E[I],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(E[I+1][0],E[I+1][1]),this.drawingContext.lineTo(F[0],F[1]),!this._clipping&&this._doStroke&&this._pInst.stroke(E[I+1][6]),!this._clipping&&this._doFill&&this._pInst.fill(E[I+1][5]),I+2<H&&(this.drawingContext.lineTo(E[I+2][0],E[I+2][1]),!this._clipping&&this._doStroke&&this._pInst.stroke(E[I+2][6]),!this._clipping&&this._doFill&&this._pInst.fill(E[I+2][5])),this._doFillStrokeClose(V);else if(P===d.TRIANGLE_FAN){if(2<H){for(this._clipping||this.drawingContext.beginPath(),I=2;I<H;I++)F=E[I],this.drawingContext.moveTo(E[0][0],E[0][1]),this.drawingContext.lineTo(E[I-1][0],E[I-1][1]),this.drawingContext.lineTo(F[0],F[1]),this.drawingContext.lineTo(E[0][0],E[0][1]),I<H-1&&(this._doFill&&F[5]!==E[I+1][5]||this._doStroke&&F[6]!==E[I+1][6])&&(!this._clipping&&this._doFill&&(this._pInst.fill(F[5]),this.drawingContext.fill(),this._pInst.fill(E[I+1][5])),!this._clipping&&this._doStroke&&(this._pInst.stroke(F[6]),this.drawingContext.stroke(),this._pInst.stroke(E[I+1][6])),this.drawingContext.closePath(),this._clipping||this.drawingContext.beginPath());this._doFillStrokeClose(V)}}else if(P===d.QUADS)for(I=0;I+3<H;I+=4){for(F=E[I],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(F[0],F[1]),B=1;B<4;B++)this.drawingContext.lineTo(E[I+B][0],E[I+B][1]);this.drawingContext.lineTo(F[0],F[1]),!this._clipping&&this._doFill&&this._pInst.fill(E[I+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(E[I+3][6]),this._doFillStrokeClose(V)}else if(P===d.QUAD_STRIP){if(3<H)for(I=0;I+1<H;I+=2)F=E[I],this._clipping||this.drawingContext.beginPath(),I+3<H?(this.drawingContext.moveTo(E[I+2][0],E[I+2][1]),this.drawingContext.lineTo(F[0],F[1]),this.drawingContext.lineTo(E[I+1][0],E[I+1][1]),this.drawingContext.lineTo(E[I+3][0],E[I+3][1]),!this._clipping&&this._doFill&&this._pInst.fill(E[I+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(E[I+3][6])):(this.drawingContext.moveTo(F[0],F[1]),this.drawingContext.lineTo(E[I+1][0],E[I+1][1])),this._doFillStrokeClose(V)}else{for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(E[0][0],E[0][1]),I=1;I<H;I++)(F=E[I]).isVert&&(F.moveTo?(V&&this.drawingContext.closePath(),this.drawingContext.moveTo(F[0],F[1])):this.drawingContext.lineTo(F[0],F[1]));this._doFillStrokeClose(V)}R=k=L=C=!1,V&&E.pop()}return this}},{key:"strokeCap",value:function(w){return w!==d.ROUND&&w!==d.SQUARE&&w!==d.PROJECT||(this.drawingContext.lineCap=w),this}},{key:"strokeJoin",value:function(w){return w!==d.ROUND&&w!==d.BEVEL&&w!==d.MITER||(this.drawingContext.lineJoin=w),this}},{key:"strokeWeight",value:function(w){return this.drawingContext.lineWidth=w===void 0||w===0?1e-4:w,this}},{key:"_getFill",value:function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle}},{key:"_setFill",value:function(w){w!==this._cachedFillStyle&&(this.drawingContext.fillStyle=w,this._cachedFillStyle=w)}},{key:"_getStroke",value:function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle}},{key:"_setStroke",value:function(w){w!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=w,this._cachedStrokeStyle=w)}},{key:"bezier",value:function(w,E,C,L,k,R,P,F){return this._pInst.beginShape(),this._pInst.vertex(w,E),this._pInst.bezierVertex(C,L,k,R,P,F),this._pInst.endShape(),this}},{key:"curve",value:function(w,E,C,L,k,R,P,F){return this._pInst.beginShape(),this._pInst.curveVertex(w,E),this._pInst.curveVertex(C,L),this._pInst.curveVertex(k,R),this._pInst.curveVertex(P,F),this._pInst.endShape(),this}},{key:"_doFillStrokeClose",value:function(w){w&&this.drawingContext.closePath(),!this._clipping&&this._doFill&&this.drawingContext.fill(),!this._clipping&&this._doStroke&&this.drawingContext.stroke()}},{key:"applyMatrix",value:function(w,E,C,L,k,R){this.drawingContext.transform(w,E,C,L,k,R)}},{key:"resetMatrix",value:function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this}},{key:"rotate",value:function(w){this.drawingContext.rotate(w)}},{key:"scale",value:function(w,E){return this.drawingContext.scale(w,E),this}},{key:"translate",value:function(w,E){return w instanceof n.default.Vector&&(E=w.y,w=w.x),this.drawingContext.translate(w,E),this}},{key:"_renderText",value:function(w,E,C,L,k,R){if(!(L<R||k<=L))return w.push(),this._isOpenType()?this._textFont._renderPath(E,C,L,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(E,C,L),!this._clipping&&this._doFill&&(this._fillSet||this._setFill(d._DEFAULT_TEXT_FILL),this.drawingContext.fillText(E,C,L))),w.pop(),w}},{key:"textWidth",value:function(w){return this._isOpenType()?this._textFont._textWidth(w,this._textSize):this.drawingContext.measureText(w).width}},{key:"_applyTextProperties",value:function(){var w=this._pInst,E=(this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),E=this._textFont,this._isOpenType()&&(E=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),E||"sans-serif");return/\s/.exec(E)&&(E='"'.concat(E,'"')),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(E),this.drawingContext.textAlign=this._textAlign,this._textBaseline===d.CENTER?this.drawingContext.textBaseline=d._CTX_MIDDLE:this.drawingContext.textBaseline=this._textBaseline,w}},{key:"push",value:function(){return this.drawingContext.save(),r(i(M.prototype),"push",this).call(this)}},{key:"pop",value:function(w){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,r(i(M.prototype),"pop",this).call(this,w)}}])&&p(y.prototype,f),M}(n.default.Renderer),u=(c.prototype.text=function(f,y,x,C,w){C!==void 0&&this.drawingContext.textBaseline===d.BASELINE&&(E=!0,this.drawingContext.textBaseline=d.TOP);var E,C=n.default.Renderer.prototype.text.apply(this,arguments);return E&&(this.drawingContext.textBaseline=d.BASELINE),C},n.default.Renderer2D=c,n.default.Renderer2D);b.default=u},{"./constants":272,"./main":283,"./p5.Renderer":286,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.function.name":174,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],288:[function(t,_,b){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var s=(t=t("./main"))&&t.__esModule?t:{default:t};s.default.prototype._promisePreloads=[];function l(){return{}}var n=!(s.default.prototype.registerPromisePreload=function(d){s.default.prototype._promisePreloads.push(d)});s.default.prototype._setupPromisePreloads=function(){var d=!0,m=!1,p=void 0;try{for(var r,o=this._promisePreloads[Symbol.iterator]();!(d=(r=o.next()).done);d=!0){var a=r.value,i=this,h=a.method,c=a.addCallbacks,u=a.legacyPreloadSetup,f=a.target||this,y=f[h].bind(f);if(f===s.default.prototype){if(n)continue;i=null,y=f[h]}f[h]=this._wrapPromisePreload(i,y,c),u&&(f[u.method]=this._legacyPreloadGenerator(i,u,f[h]))}}catch(x){m=!0,p=x}finally{try{d||o.return==null||o.return()}finally{if(m)throw p}}n=!0},s.default.prototype._wrapPromisePreload=function(d,m,p){var r=function(){for(var o=this,a=(this._incrementPreload(),null),i=null,h=arguments.length,c=new Array(h),u=0;u<h;u++)c[u]=arguments[u];if(p)for(var f=c.length-1;0<=f&&!i&&typeof c[f]=="function";f--)i=a,a=c.pop();var y=Promise.resolve(m.apply(this,c));return a&&y.then(a),i&&y.catch(i),y.then(function(){return o._decrementPreload()}),y};return r=d?r.bind(d):r},s.default.prototype._legacyPreloadGenerator=function(d,o,p){var r=o.createBaseObject||l,o=function(){var a=this;this._incrementPreload();for(var i=arguments.length,h=new Array(i),c=0;c<i;c++)h[c]=arguments[c];var u=r.apply(this,h);return p.apply(this,h).then(function(f){Object.assign(u,f),a._decrementPreload()}),u};return o=d?o.bind(d):o}},{"./main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],289:[function(t,_,b){function s(o){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(o)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var l=(r=t("./main"))&&r.__esModule?r:{default:r},n=function(o){if(o&&o.__esModule)return o;if(o===null||m(o)!=="object"&&typeof o!="function")return{default:o};var a=d();if(a&&a.has(o))return a.get(o);var i,h={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in o){var u;Object.prototype.hasOwnProperty.call(o,i)&&((u=c?Object.getOwnPropertyDescriptor(o,i):null)&&(u.get||u.set)?Object.defineProperty(h,i,u):h[i]=o[i])}return h.default=o,a&&a.set(o,h),h}(t("./constants"));function d(){var o;return typeof WeakMap!="function"?null:(o=new WeakMap,d=function(){return o},o)}function m(o){return(m=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(a){return s(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":s(a)})(o)}t("./p5.Graphics"),t("./p5.Renderer2D"),t("../webgl/p5.RendererGL");var p="defaultCanvas0",r=(l.default.prototype.createCanvas=function(o,a,i,h){var c,u,f;if(l.default._validateParameters("createCanvas",arguments),arguments[2]instanceof HTMLCanvasElement?(i=n.P2D,h=arguments[2]):c=i||n.P2D,h)(f=document.getElementById(p))&&f.parentNode.removeChild(f),f=h,this._defaultGraphicsCreated=!1;else{if(c===n.WEBGL)(f=document.getElementById(p))&&(f.parentNode.removeChild(f),u=this._renderer,this._elements=this._elements.filter(function(x){return x!==u})),(f=document.createElement("canvas")).id=p,f.classList.add("p5Canvas");else if(this._defaultGraphicsCreated)f=this.canvas;else{f=h||document.createElement("canvas");for(var y=0;document.getElementById("defaultCanvas".concat(y));)y++;p="defaultCanvas".concat(y),f.id=p,f.classList.add("p5Canvas")}this._setupDone||(f.dataset.hidden=!0,f.style.visibility="hidden"),(this._userNode||(document.getElementsByTagName("main").length===0&&(i=document.createElement("main"),document.body.appendChild(i)),document.getElementsByTagName("main")[0])).appendChild(f)}return c===n.WEBGL?(this._setProperty("_renderer",new l.default.RendererGL(f,this,!0)),this._elements.push(this._renderer),o=(h=this._renderer._adjustDimensions(o,a)).adjustedWidth,a=h.adjustedHeight):this._defaultGraphicsCreated||(this._setProperty("_renderer",new l.default.Renderer2D(f,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(o,a),this._renderer._applyDefaults(),this._renderer},l.default.prototype.resizeCanvas=function(o,a,i){if(l.default._validateParameters("resizeCanvas",arguments),this._renderer){var h,c,u,f={};for(h in this.drawingContext){var y=this.drawingContext[h];m(y)!=="object"&&typeof y!="function"&&(f[h]=y)}for(u in this._renderer instanceof l.default.RendererGL&&(o=(c=this._renderer._adjustDimensions(o,a)).adjustedWidth,a=c.adjustedHeight),this.width=o,this.height=a,this._renderer.resize(o,a),f)try{this.drawingContext[u]=f[u]}catch{}i||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},l.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},l.default.prototype.createGraphics=function(o,a){for(var i=arguments.length,h=new Array(2<i?i-2:0),c=2;c<i;c++)h[c-2]=arguments[c];return h[0]instanceof HTMLCanvasElement&&(h[1]=h[0],h[0]=n.P2D),l.default._validateParameters("createGraphics",arguments),new l.default.Graphics(o,a,h[0],this,h[1])},l.default.prototype.createFramebuffer=function(o){return new l.default.Framebuffer(this,o)},l.default.prototype.clearDepth=function(o){this._assert3d("clearDepth"),this._renderer.clearDepth(o)},l.default.prototype.blendMode=function(o){l.default._validateParameters("blendMode",arguments),o===n.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),o=n.BLEND),this._renderer.blendMode(o)},l.default);b.default=r},{"../webgl/p5.RendererGL":341,"./constants":272,"./main":283,"./p5.Graphics":285,"./p5.Renderer2D":287,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],290:[function(t,_,b){function s(a){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(a)}function l(a){return(l=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(i){return s(i)}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":s(i)})(a)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.slice"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var n=r(t("../main")),d=function(a){if(a&&a.__esModule)return a;if(a===null||l(a)!=="object"&&typeof a!="function")return{default:a};var i=p();if(i&&i.has(a))return i.get(a);var h,c={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in a){var f;Object.prototype.hasOwnProperty.call(a,h)&&((f=u?Object.getOwnPropertyDescriptor(a,h):null)&&(f.get||f.set)?Object.defineProperty(c,h,f):c[h]=a[h])}return c.default=a,i&&i.set(a,c),c}(t("../constants")),m=r(t("../helpers"));function p(){var a;return typeof WeakMap!="function"?null:(a=new WeakMap,p=function(){return a},a)}function r(a){return a&&a.__esModule?a:{default:a}}function o(a){return function(i){if(Array.isArray(i)){for(var h=0,c=new Array(i.length);h<i.length;h++)c[h]=i[h];return c}}(a)||function(i){if(Symbol.iterator in Object(i)||Object.prototype.toString.call(i)==="[object Arguments]")return Array.from(i)}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t("../friendly_errors/fes_core"),t("../friendly_errors/file_errors"),t("../friendly_errors/validate_params"),n.default.prototype._normalizeArcAngles=function(a,i,h,c,u){var f;return a-=d.TWO_PI*Math.floor(a/d.TWO_PI),i-=d.TWO_PI*Math.floor(i/d.TWO_PI),f=Math.min(Math.abs(a-i),d.TWO_PI-Math.abs(a-i)),u&&(a=a<=d.HALF_PI?Math.atan(h/c*Math.tan(a)):a>d.HALF_PI&&a<=3*d.HALF_PI?Math.atan(h/c*Math.tan(a))+d.PI:Math.atan(h/c*Math.tan(a))+d.TWO_PI,i=i<=d.HALF_PI?Math.atan(h/c*Math.tan(i)):i>d.HALF_PI&&i<=3*d.HALF_PI?Math.atan(h/c*Math.tan(i))+d.PI:Math.atan(h/c*Math.tan(i))+d.TWO_PI),i<a&&(i+=d.TWO_PI),{start:a,stop:i,correspondToSamePoint:f<1e-5}},n.default.prototype.arc=function(a,i,h,c,u,f,y,x){return n.default._validateParameters("arc",arguments),(this._renderer._doStroke||this._renderer._doFill)&&u!==f&&(u=this._toRadians(u),f=this._toRadians(f),h=Math.abs(h),c=Math.abs(c),a=m.default.modeAdjust(a,i,h,c,this._renderer._ellipseMode),(i=this._normalizeArcAngles(u,f,a.w,a.h,!0)).correspondToSamePoint?this._renderer.ellipse([a.x,a.y,a.w,a.h,x]):(this._renderer.arc(a.x,a.y,a.w,a.h,i.start,i.stop,y,x),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[a.x,a.y,a.w,a.h,i.start,i.stop,y]))),this},n.default.prototype.ellipse=function(a,i,h,c,u){return n.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},n.default.prototype.circle=function(){for(var a=arguments.length,i=new Array(a),h=0;h<a;h++)i[h]=arguments[h];n.default._validateParameters("circle",i);var c=i.slice(0,2);return c.push(i[2],i[2]),this._renderEllipse.apply(this,o(c))},n.default.prototype._renderEllipse=function(a,i,h,c,u){return(this._renderer._doStroke||this._renderer._doFill)&&(h<0&&(h=Math.abs(h)),c===void 0?c=h:c<0&&(c=Math.abs(c)),a=m.default.modeAdjust(a,i,h,c,this._renderer._ellipseMode),this._renderer.ellipse([a.x,a.y,a.w,a.h,u]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[a.x,a.y,a.w,a.h])),this},n.default.prototype.line=function(){for(var a,i=arguments.length,h=new Array(i),c=0;c<i;c++)h[c]=arguments[c];return n.default._validateParameters("line",h),this._renderer._doStroke&&(a=this._renderer).line.apply(a,h),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",h),this},n.default.prototype.point=function(){for(var a,i=arguments.length,h=new Array(i),c=0;c<i;c++)h[c]=arguments[c];return n.default._validateParameters("point",h),this._renderer._doStroke&&(h.length===1&&h[0]instanceof n.default.Vector?this._renderer.point.call(this._renderer,h[0].x,h[0].y,h[0].z):((a=this._renderer).point.apply(a,h),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",h))),this},n.default.prototype.quad=function(){for(var a,i=arguments.length,h=new Array(i),c=0;c<i;c++)h[c]=arguments[c];return n.default._validateParameters("quad",h),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&h.length<12?this._renderer.quad.call(this._renderer,h[0],h[1],0,h[2],h[3],0,h[4],h[5],0,h[6],h[7],0,h[8],h[9]):((a=this._renderer).quad.apply(a,h),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",h))),this},n.default.prototype.rect=function(){for(var a=arguments.length,i=new Array(a),h=0;h<a;h++)i[h]=arguments[h];return n.default._validateParameters("rect",i),this._renderRect.apply(this,i)},n.default.prototype.square=function(a,i,h,c,u,f,y){return n.default._validateParameters("square",arguments),this._renderRect.call(this,a,i,h,h,c,u,f,y)},n.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){arguments.length===3&&(arguments[3]=arguments[2]);for(var a=m.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),i=[a.x,a.y,a.w,a.h],h=4;h<arguments.length;h++)i[h]=arguments[h];this._renderer.rect(i),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[a.x,a.y,a.w,a.h])}return this},n.default.prototype.triangle=function(){for(var a=arguments.length,i=new Array(a),h=0;h<a;h++)i[h]=arguments[h];return n.default._validateParameters("triangle",i),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(i),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",i),this},t=n.default,b.default=t},{"../constants":272,"../friendly_errors/fes_core":274,"../friendly_errors/file_errors":275,"../friendly_errors/validate_params":278,"../helpers":279,"../main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],291:[function(t,_,b){function s(r){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(r)}function l(r){return(l=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(o){return s(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":s(o)})(r)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var n=(p=t("../main"))&&p.__esModule?p:{default:p},d=function(r){if(r&&r.__esModule)return r;if(r===null||l(r)!=="object"&&typeof r!="function")return{default:r};var o=m();if(o&&o.has(r))return o.get(r);var a,i={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in r){var c;Object.prototype.hasOwnProperty.call(r,a)&&((c=h?Object.getOwnPropertyDescriptor(r,a):null)&&(c.get||c.set)?Object.defineProperty(i,a,c):i[a]=r[a])}return i.default=r,o&&o.set(r,i),i}(t("../constants"));function m(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,m=function(){return r},r)}n.default.prototype.ellipseMode=function(r){return n.default._validateParameters("ellipseMode",arguments),r!==d.CORNER&&r!==d.CORNERS&&r!==d.RADIUS&&r!==d.CENTER||(this._renderer._ellipseMode=r),this},n.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},n.default.prototype.rectMode=function(r){return n.default._validateParameters("rectMode",arguments),r!==d.CORNER&&r!==d.CORNERS&&r!==d.RADIUS&&r!==d.CENTER||(this._renderer._rectMode=r),this},n.default.prototype.smooth=function(){return this.setAttributes("antialias",!0),this._renderer.isP3D||"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},n.default.prototype.strokeCap=function(r){return n.default._validateParameters("strokeCap",arguments),r!==d.ROUND&&r!==d.SQUARE&&r!==d.PROJECT||this._renderer.strokeCap(r),this},n.default.prototype.strokeJoin=function(r){return n.default._validateParameters("strokeJoin",arguments),r!==d.ROUND&&r!==d.BEVEL&&r!==d.MITER||this._renderer.strokeJoin(r),this},n.default.prototype.strokeWeight=function(r){return n.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(r),this};var p=n.default;b.default=p},{"../constants":272,"../main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],292:[function(t,_,b){Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var s=(l=t("../main"))&&l.__esModule?l:{default:l};t("../friendly_errors/fes_core"),t("../friendly_errors/file_errors"),t("../friendly_errors/validate_params"),s.default.prototype.bezier=function(){for(var n,d=arguments.length,m=new Array(d),p=0;p<d;p++)m[p]=arguments[p];return s.default._validateParameters("bezier",m),(this._renderer._doStroke||this._renderer._doFill)&&(n=this._renderer).bezier.apply(n,m),this},s.default.prototype.bezierDetail=function(n){return s.default._validateParameters("bezierDetail",arguments),this._bezierDetail=n,this},s.default.prototype.bezierPoint=function(n,d,m,p,r){s.default._validateParameters("bezierPoint",arguments);var o=1-r;return Math.pow(o,3)*n+3*Math.pow(o,2)*r*d+3*o*Math.pow(r,2)*m+Math.pow(r,3)*p},s.default.prototype.bezierTangent=function(n,d,m,p,r){s.default._validateParameters("bezierTangent",arguments);var o=1-r;return 3*p*Math.pow(r,2)-3*m*Math.pow(r,2)+6*m*o*r-6*d*o*r+3*d*Math.pow(o,2)-3*n*Math.pow(o,2)},s.default.prototype.curve=function(){for(var n,d=arguments.length,m=new Array(d),p=0;p<d;p++)m[p]=arguments[p];return s.default._validateParameters("curve",m),this._renderer._doStroke&&(n=this._renderer).curve.apply(n,m),this},s.default.prototype.curveDetail=function(n){return s.default._validateParameters("curveDetail",arguments),this._curveDetail=n<3?3:n,this},s.default.prototype.curveTightness=function(n){return s.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=n,this},s.default.prototype.curvePoint=function(n,d,m,p,r){s.default._validateParameters("curvePoint",arguments);var o=this._renderer._curveTightness,a=r*r*r,i=r*r;return n*((o-1)/2*a+(1-o)*i+(o-1)/2*r)+d*((o+3)/2*a+(-5-o)/2*i+1)+m*((-3-o)/2*a+(o+2)*i+(1-o)/2*r)+p*((1-o)/2*a+(o-1)/2*i)},s.default.prototype.curveTangent=function(n,d,m,p,i){s.default._validateParameters("curveTangent",arguments);var o=this._renderer._curveTightness,a=i*i*3,i=2*i;return n*((o-1)/2*a+(1-o)*i+(o-1)/2)+d*((o+3)/2*a+(-5-o)/2*i)+m*((-3-o)/2*a+(o+2)*i+(1-o)/2)+p*((1-o)/2*a+(o-1)/2*i)};var l=s.default;b.default=l},{"../friendly_errors/fes_core":274,"../friendly_errors/file_errors":275,"../friendly_errors/validate_params":278,"../main":283}],293:[function(t,_,b){function s(y){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(y)}function l(y){return(l=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(x){return s(x)}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":s(x)})(y)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.slice"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var n=(f=t("../main"))&&f.__esModule?f:{default:f},d=function(y){if(y&&y.__esModule)return y;if(y===null||l(y)!=="object"&&typeof y!="function")return{default:y};var x=m();if(x&&x.has(y))return x.get(y);var M,w={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(M in y){var C;Object.prototype.hasOwnProperty.call(y,M)&&((C=E?Object.getOwnPropertyDescriptor(y,M):null)&&(C.get||C.set)?Object.defineProperty(w,M,C):w[M]=y[M])}return w.default=y,x&&x.set(y,w),w}(t("../constants"));function m(){var y;return typeof WeakMap!="function"?null:(y=new WeakMap,m=function(){return y},y)}var p=null,r=[],o=[],a=!1,i=!1,h=!1,c=!1,u=!0,f=(n.default.prototype.beginContour=function(){return this._renderer.isP3D?this._renderer.beginContour():(o=[],c=!0),this},n.default.prototype.beginShape=function(y){var x;return n.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(x=this._renderer).beginShape.apply(x,arguments):(p=y===d.POINTS||y===d.LINES||y===d.TRIANGLES||y===d.TRIANGLE_FAN||y===d.TRIANGLE_STRIP||y===d.QUADS||y===d.QUAD_STRIP?y:null,r=[],o=[]),this},n.default.prototype.bezierVertex=function(){for(var y,x=arguments.length,M=new Array(x),w=0;w<x;w++)M[w]=arguments[w];if(n.default._validateParameters("bezierVertex",M),this._renderer.isP3D)(y=this._renderer).bezierVertex.apply(y,M);else if(r.length===0)n.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{a=!0;for(var E=[],C=0;C<M.length;C++)E[C]=M[C];E.isVert=!1,(c?o:r).push(E)}return this},n.default.prototype.curveVertex=function(){for(var y,x=arguments.length,M=new Array(x),w=0;w<x;w++)M[w]=arguments[w];return n.default._validateParameters("curveVertex",M),this._renderer.isP3D?(y=this._renderer).curveVertex.apply(y,M):(i=!0,this.vertex(M[0],M[1])),this},n.default.prototype.endContour=function(){if(!this._renderer.isP3D){var y=o[0].slice();y.isVert=o[0].isVert,y.moveTo=!1,o.push(y),u&&(r.push(r[0]),u=!1);for(var x=0;x<o.length;x++)r.push(o[x])}return this},n.default.prototype.endShape=function(y){var x=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(n.default._validateParameters("endShape",arguments),x<1&&(console.log(" p5.js says: You can not have less than one instance"),x=1),this._renderer.isP3D)this._renderer.endShape(y,i,a,h,c,p,x);else{if(x!==1&&console.log(" p5.js says: Instancing is only supported in WebGL2 mode"),r.length===0)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;x=y===d.CLOSE,x&&!c&&r.push(r[0]),this._renderer.endShape(y,r,i,a,h,c,p),u=!(c=h=a=i=!1),x&&r.pop()}return this},n.default.prototype.quadraticVertex=function(){for(var y,x=arguments.length,M=new Array(x),w=0;w<x;w++)M[w]=arguments[w];if(n.default._validateParameters("quadraticVertex",M),this._renderer.isP3D)(y=this._renderer).quadraticVertex.apply(y,M);else{if(this._contourInited)return(y={}).x=M[0],y.y=M[1],y.x3=M[2],y.y3=M[3],y.type=d.QUADRATIC,this._contourVertices.push(y),this;if(0<r.length){h=!0;for(var E=[],C=0;C<M.length;C++)E[C]=M[C];E.isVert=!1,(c?o:r).push(E)}else n.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},n.default.prototype.vertex=function(y,x,M,w,E){var C;return this._renderer.isP3D?(C=this._renderer).vertex.apply(C,arguments):((C=[]).isVert=!0,C[0]=y,C[1]=x,C[2]=0,C[3]=0,C[4]=0,C[5]=this._renderer._getFill(),C[6]=this._renderer._getStroke(),M&&(C.moveTo=M),(c?(o.length===0&&(C.moveTo=!0),o):r).push(C)),this},n.default.prototype.normal=function(y,x,M){var w;return this._assert3d("normal"),n.default._validateParameters("normal",arguments),(w=this._renderer).normal.apply(w,arguments),this},n.default);b.default=f},{"../constants":272,"../main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],294:[function(t,_,b){},{}],295:[function(t,_,b){t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.assign"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0,t=(t=t("./main"))&&t.__esModule?t:{default:t},t.default.prototype.noLoop=function(){this._loop=!1},t.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},t.default.prototype.isLooping=function(){return this._loop},t.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},t.default.prototype.pop=function(){var s=this._styles.pop();s?(this._renderer.pop(s.renderer),Object.assign(this,s.props)):console.warn("pop() was called without matching push()")},t.default.prototype.redraw=function(s){if(!this._inUserDraw&&this._setupDone){var l=parseInt(s),n=((isNaN(l)||l<1)&&(l=1),this._isGlobal?window:this);if(typeof n.draw=="function"){n.setup===void 0&&n.scale(n._pixelDensity,n._pixelDensity);for(var d=0;d<l;d++){n.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),n._renderer.isP3D&&n._renderer._update(),n._setProperty("frameCount",n.frameCount+1),this.callRegisteredHooksFor("pre"),this._inUserDraw=!0;try{n.draw()}finally{this._inUserDraw=!1}this.callRegisteredHooksFor("post")}}}},t=t.default,b.default=t},{"./main":283,"core-js/modules/es.object.assign":183}],296:[function(t,_,b){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var s=(t=t("./main"))&&t.__esModule?t:{default:t};function l(n){return function(d){if(Array.isArray(d)){for(var m=0,p=new Array(d.length);m<d.length;m++)p[m]=d[m];return p}}(n)||function(d){if(Symbol.iterator in Object(d)||Object.prototype.toString.call(d)==="[object Arguments]")return Array.from(d)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}s.default.prototype.applyMatrix=function(){var n=(arguments.length<=0?void 0:arguments[0])instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments.length<=0?void 0:arguments[0])||n?(n=this._renderer).applyMatrix.apply(n,l(arguments.length<=0?void 0:arguments[0])):(n=this._renderer).applyMatrix.apply(n,arguments),this},s.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},s.default.prototype.rotate=function(n,d){return s.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(n),d),this},s.default.prototype.rotateX=function(n){return this._assert3d("rotateX"),s.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(n)),this},s.default.prototype.rotateY=function(n){return this._assert3d("rotateY"),s.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(n)),this},s.default.prototype.rotateZ=function(n){return this._assert3d("rotateZ"),s.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(n)),this},s.default.prototype.scale=function(n,d,m){var p;return s.default._validateParameters("scale",arguments),n instanceof s.default.Vector?(n=(p=n).x,d=p.y,m=p.z):Array.isArray(n)&&(n=(p=n)[0],d=p[1],m=p[2]||1),isNaN(d)?d=m=n:isNaN(m)&&(m=1),this._renderer.scale(n,d,m),this},s.default.prototype.shearX=function(n){return s.default._validateParameters("shearX",arguments),n=this._toRadians(n),this._renderer.applyMatrix(1,0,Math.tan(n),1,0,0),this},s.default.prototype.shearY=function(n){return s.default._validateParameters("shearY",arguments),n=this._toRadians(n),this._renderer.applyMatrix(1,Math.tan(n),0,1,0,0),this},s.default.prototype.translate=function(n,d,m){return s.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(n,d,m):this._renderer.translate(n,d),this},t=s.default,b.default=t},{"./main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.iterator":246}],297:[function(t,_,b){function s(m){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(m)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator");var l=(t=t("../core/main"))&&t.__esModule?t:{default:t};function n(m){return function(p){if(Array.isArray(p)){for(var r=0,o=new Array(p.length);r<p.length;r++)o[r]=p[r];return o}}(m)||function(p){if(Symbol.iterator in Object(p)||Object.prototype.toString.call(p)==="[object Arguments]")return Array.from(p)}(m)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(m){return(d=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(p){return s(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":s(p)})(m)}l.default.prototype.storeItem=function(m,p){typeof m!="string"&&console.log("The argument that you passed to storeItem() - ".concat(m," is not a string.")),m.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(m," must not end with 'p5TypeID'.")),p===void 0&&console.log("You cannot store undefined variables using storeItem().");var r=d(p);switch(r){case"number":case"boolean":p=p.toString();break;case"object":p instanceof l.default.Color?r="p5.Color":p instanceof l.default.Vector&&(r="p5.Vector",p=[p.x,p.y,p.z]),p=JSON.stringify(p)}localStorage.setItem(m,p),m="".concat(m,"p5TypeID"),localStorage.setItem(m,r)},l.default.prototype.getItem=function(m){var p=localStorage.getItem(m),r=localStorage.getItem("".concat(m,"p5TypeID"));if(r===void 0)console.log("Unable to determine type of item stored under ".concat(m,"in local storage. Did you save the item with something other than setItem()?"));else if(p!==null)switch(r){case"number":p=parseFloat(p);break;case"boolean":p=p==="true";break;case"object":p=JSON.parse(p);break;case"p5.Color":p=JSON.parse(p),p=this.color.apply(this,n(p.levels));break;case"p5.Vector":p=JSON.parse(p),p=this.createVector.apply(this,n(p))}return p},l.default.prototype.clearStorage=function(){var m=this;Object.keys(localStorage).forEach(function(p){p.endsWith("p5TypeID")&&m.removeItem(p.replace("p5TypeID",""))})},l.default.prototype.removeItem=function(m){typeof m!="string"&&console.log("The argument that you passed to removeItem() - ".concat(m," is not a string.")),localStorage.removeItem(m),localStorage.removeItem("".concat(m,"p5TypeID"))}},{"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.ends-with":198,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],298:[function(t,_,b){function s(h){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(h)}function l(h){return(l=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(c){return s(c)}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":s(c)})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.object.keys"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var n=(t=t("../core/main"))&&t.__esModule?t:{default:t};function d(h,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(c&&c.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),c&&m(h,c)}function m(h,c){return(m=Object.setPrototypeOf||function(u,f){return u.__proto__=f,u})(h,c)}function p(h){return function(){var c,u=r(h),u=(c=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(c=r(this).constructor,Reflect.construct(u,arguments,c)):u.apply(this,arguments),this);if(!c||l(c)!=="object"&&typeof c!="function"){if(u!==void 0)return u;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return c}}function r(h){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)})(h)}function o(h,c){if(!(h instanceof c))throw new TypeError("Cannot call a class as a function")}function a(h,c){for(var u=0;u<c.length;u++){var f=c[u];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(h,f.key,f)}}function i(h,c,u){c&&a(h.prototype,c)}n.default.prototype.createStringDict=function(h,c){return n.default._validateParameters("createStringDict",arguments),new n.default.StringDict(h,c)},n.default.prototype.createNumberDict=function(h,c){return n.default._validateParameters("createNumberDict",arguments),new n.default.NumberDict(h,c)},n.default.TypedDict=function(){function h(c,u){return o(this,h),c instanceof Object?this.data=c:(this.data={},this.data[c]=u),this}return i(h,[{key:"size",value:function(){return Object.keys(this.data).length}},{key:"hasKey",value:function(c){return this.data.hasOwnProperty(c)}},{key:"get",value:function(c){if(this.data.hasOwnProperty(c))return this.data[c];console.log("".concat(c," does not exist in this Dictionary"))}},{key:"set",value:function(c,u){this._validate(u)?this.data[c]=u:console.log("Those values dont work for this dictionary type.")}},{key:"_addObj",value:function(c){for(var u in c)this.set(u,c[u])}},{key:"create",value:function(c,u){c instanceof Object&&u===void 0?this._addObj(c):c!==void 0?this.set(c,u):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")}},{key:"clear",value:function(){this.data={}}},{key:"remove",value:function(c){if(!this.data.hasOwnProperty(c))throw new Error("".concat(c," does not exist in this Dictionary"));delete this.data[c]}},{key:"print",value:function(){for(var c in this.data)console.log("key:".concat(c," value:").concat(this.data[c]))}},{key:"saveTable",value:function(c){var u,f="";for(u in this.data)f+="".concat(u,",").concat(this.data[u],`
`);var y=new Blob([f],{type:"text/csv"});n.default.prototype.downloadFile(y,c||"mycsv","csv")}},{key:"saveJSON",value:function(c,u){n.default.prototype.saveJSON(this.data,c,u)}},{key:"_validate",value:function(c){return!0}}]),h}(),n.default.StringDict=function(){d(c,n.default.TypedDict);var h=p(c);function c(){o(this,c);for(var u=arguments.length,f=new Array(u),y=0;y<u;y++)f[y]=arguments[y];return h.call.apply(h,[this].concat(f))}return i(c,[{key:"_validate",value:function(u){return typeof u=="string"}}]),c}(),n.default.NumberDict=function(){d(c,n.default.TypedDict);var h=p(c);function c(){o(this,c);for(var u=arguments.length,f=new Array(u),y=0;y<u;y++)f[y]=arguments[y];return h.call.apply(h,[this].concat(f))}return i(c,[{key:"_validate",value:function(u){return typeof u=="number"}},{key:"add",value:function(u,f){this.data.hasOwnProperty(u)?this.data[u]+=f:console.log("The key - ".concat(u," does not exist in this dictionary."))}},{key:"sub",value:function(u,f){this.add(u,-f)}},{key:"mult",value:function(u,f){this.data.hasOwnProperty(u)?this.data[u]*=f:console.log("The key - ".concat(u," does not exist in this dictionary."))}},{key:"div",value:function(u,f){this.data.hasOwnProperty(u)?this.data[u]/=f:console.log("The key - ".concat(u," does not exist in this dictionary."))}},{key:"_valueTest",value:function(u){if(Object.keys(this.data).length===0)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(Object.keys(this.data).length===1)return this.data[Object.keys(this.data)[0]];var f,y=this.data[Object.keys(this.data)[0]];for(f in this.data)this.data[f]*u<y*u&&(y=this.data[f]);return y}},{key:"minValue",value:function(){return this._valueTest(1)}},{key:"maxValue",value:function(){return this._valueTest(-1)}},{key:"_keyTest",value:function(u){if(Object.keys(this.data).length===0)throw new Error("Unable to use minValue on an empty NumberDict");if(Object.keys(this.data).length===1)return Object.keys(this.data)[0];for(var f=Object.keys(this.data)[0],y=1;y<Object.keys(this.data).length;y++)Object.keys(this.data)[y]*u<f*u&&(f=Object.keys(this.data)[y]);return f}},{key:"minKey",value:function(){return this._keyTest(1)}},{key:"maxKey",value:function(){return this._keyTest(-1)}}]),c}(),t=n.default.TypedDict,b.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],299:[function(t,_,b){function s(f){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(f)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var l=(t=t("../core/main"))&&t.__esModule?t:{default:t};function n(f,y){for(var x=0;x<y.length;x++){var M=y[x];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(f,M.key,M)}}function d(f,y,x){y&&n(f.prototype,y),x&&n(f,x)}function m(f,y){return(m=Object.setPrototypeOf||function(x,M){return x.__proto__=M,x})(f,y)}function p(f){return function(){var y,x,M=o(f);return y=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(y=o(this).constructor,Reflect.construct(M,arguments,y)):M.apply(this,arguments),M=this,!(x=y)||i(x)!=="object"&&typeof x!="function"?r(M):x}}function r(f){if(f===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}function o(f){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(y){return y.__proto__||Object.getPrototypeOf(y)})(f)}function a(f,y){if(!(f instanceof y))throw new TypeError("Cannot call a class as a function")}function i(f){return(i=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(y){return s(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":s(y)})(f)}function h(f,y,x){return(y._userNode||document.body).appendChild(f),x=new(x?l.default.MediaElement:l.default.Element)(f,y),y._elements.push(x),x}function c(f,C,x,M){var w=document.createElement(C),E=(typeof(x=x||"")=="string"&&(x=[x]),!0),C=!1,L=void 0;try{for(var k,R=x[Symbol.iterator]();!(E=(k=R.next()).done);E=!0){var P=k.value,F=document.createElement("source");F.setAttribute("src",P),w.appendChild(F)}}catch(B){C=!0,L=B}finally{try{E||R.return==null||R.return()}finally{if(C)throw L}}typeof M=="function"&&w.addEventListener("canplaythrough",function B(){M(),w.removeEventListener("canplaythrough",B)});var I=h(w,f,!0);return I.loadedmetadata=!1,w.addEventListener("loadedmetadata",function(){I.width=w.videoWidth,I.height=w.videoHeight,I.elt.width===0&&(I.elt.width=w.videoWidth),I.elt.height===0&&(I.elt.height=w.videoHeight),I.presetPlaybackRate&&(I.elt.playbackRate=I.presetPlaybackRate,delete I.presetPlaybackRate),I.loadedmetadata=!0}),I}l.default.prototype.select=function(f,y){return l.default._validateParameters("select",arguments),y=this._getContainer(y).querySelector(f),y?this._wrapElement(y):null},l.default.prototype.selectAll=function(f,y){l.default._validateParameters("selectAll",arguments);var x=[],M=this._getContainer(y).querySelectorAll(f);if(M)for(var w=0;w<M.length;w++){var E=this._wrapElement(M[w]);x.push(E)}return x},l.default.prototype._getContainer=function(f){var y=document;return typeof f=="string"?y=document.querySelector(f)||document:f instanceof l.default.Element?y=f.elt:f instanceof HTMLElement&&(y=f),y},l.default.prototype._wrapElement=function(f){var y,x=Array.prototype.slice.call(f.children);return f.tagName==="INPUT"&&f.type==="checkbox"?((y=new l.default.Element(f,this)).checked=function(){return arguments.length===0?this.elt.checked:(this.elt.checked=!(arguments.length<=0||!arguments[0]),this)},y):f.tagName==="VIDEO"||f.tagName==="AUDIO"?new l.default.MediaElement(f,this):f.tagName==="SELECT"?this.createSelect(new l.default.Element(f,this)):0<x.length&&x.every(function(M){return M.tagName==="INPUT"||M.tagName==="LABEL"})&&(f.tagName==="DIV"||f.tagName==="SPAN")?this.createRadio(new l.default.Element(f,this)):new l.default.Element(f,this)},l.default.prototype.removeElements=function(f){l.default._validateParameters("removeElements",arguments),this._elements.filter(function(y){return!(y.elt instanceof HTMLCanvasElement)}).map(function(y){return y.remove()})},l.default.Element.prototype.changed=function(f){return l.default.Element._adjustListener("change",f,this),this},l.default.Element.prototype.input=function(f){return l.default.Element._adjustListener("input",f,this),this},l.default.prototype.createDiv=function(){var f=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",y=document.createElement("div");return y.innerHTML=f,h(y,this)},l.default.prototype.createP=function(){var f=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",y=document.createElement("p");return y.innerHTML=f,h(y,this)},l.default.prototype.createSpan=function(){var f=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",y=document.createElement("span");return y.innerHTML=f,h(y,this)},l.default.prototype.createImg=function(){l.default._validateParameters("createImg",arguments);var f,y=document.createElement("img"),x=arguments;return 1<x.length&&typeof x[1]=="string"&&(y.alt=x[1]),2<x.length&&typeof x[2]=="string"&&(y.crossOrigin=x[2]),y.src=x[0],f=h(y,this),y.addEventListener("load",function(){f.width=y.offsetWidth||y.width,f.height=y.offsetHeight||y.height;var M=x[x.length-1];typeof M=="function"&&M(f)}),f},l.default.prototype.createA=function(f,y,x){l.default._validateParameters("createA",arguments);var M=document.createElement("a");return M.href=f,M.innerHTML=y,x&&(M.target=x),h(M,this)},l.default.prototype.createSlider=function(f,y,x,M){l.default._validateParameters("createSlider",arguments);var w=document.createElement("input");return w.type="range",w.min=f,w.max=y,M===0?w.step=1e-18:M&&(w.step=M),typeof x=="number"&&(w.value=x),h(w,this)},l.default.prototype.createButton=function(f,y){l.default._validateParameters("createButton",arguments);var x=document.createElement("button");return x.innerHTML=f,y&&(x.value=y),h(x,this)},l.default.prototype.createCheckbox=function(){for(var f=arguments.length,y=new Array(f),x=0;x<f;x++)y[x]=arguments[x];l.default._validateParameters("createCheckbox",y);var M=document.createElement("div"),w=document.createElement("input"),E=(w.type="checkbox",document.createElement("label")),C=(E.appendChild(w),M.appendChild(E),h(M,this));return C.checked=function(){var L=C.elt.firstElementChild.getElementsByTagName("input")[0];if(L){if(arguments.length===0)return L.checked;L.checked=!(arguments.length<=0||!arguments[0])}return C},this.value=function(L){return C.value=L,this},y[0]&&(C.value(y[0]),(M=document.createElement("span")).innerHTML=y[0],E.appendChild(M)),y[1]&&(w.checked=!0),C},l.default.prototype.createSelect=function(){for(var f,y=arguments.length,x=new Array(y),M=0;M<y;M++)x[M]=arguments[M];l.default._validateParameters("createSelect",x);var w,E=x[0];return E instanceof l.default.Element&&E.elt instanceof HTMLSelectElement?this.elt=(f=E).elt:E instanceof HTMLSelectElement?(f=h(E,this),this.elt=E):(w=document.createElement("select"),E&&typeof E=="boolean"&&w.setAttribute("multiple","true"),f=h(w,this),this.elt=w),f.option=function(C,L){var k;if(C!==void 0){for(var R,P=0;P<this.elt.length;P+=1)if(this.elt[P].textContent===C){k=P;break}k!==void 0?L===!1?this.elt.remove(k):this.elt[k].value=L:((R=document.createElement("option")).textContent=C,R.value=L===void 0?C:L,this.elt.appendChild(R),this._pInst._elements.push(R))}},f.selected=function(C){if(C!==void 0){for(var L=0;L<this.elt.length;L+=1)this.elt[L].value.toString()===C.toString()&&(this.elt.selectedIndex=L);return this}if(this.elt.getAttribute("multiple")){var k=[],R=!0,P=!1,F=void 0;try{for(var I,B=this.elt.selectedOptions[Symbol.iterator]();!(R=(I=B.next()).done);R=!0){var V=I.value;k.push(V.value)}}catch(H){P=!0,F=H}finally{try{R||B.return==null||B.return()}finally{if(P)throw F}}return k}return this.elt.value},f.disable=function(C){if(typeof C=="string")for(var L=0;L<this.elt.length;L++)this.elt[L].value.toString()===C&&(this.elt[L].disabled=!0,this.elt[L].selected=!1);else this.elt.disabled=!0;return this},f.enable=function(C){if(typeof C=="string")for(var L=0;L<this.elt.length;L++)this.elt[L].value.toString()===C&&(this.elt[L].disabled=!1,this.elt[L].selected=!1);else{this.elt.disabled=!1;for(var k=0;k<this.elt.length;k++)this.elt[k].disabled=!1,this.elt[k].selected=!1}return this},f},l.default.prototype.createRadio=function(){function f(C){return C instanceof HTMLInputElement&&C.type==="radio"}function y(C){return C instanceof HTMLLabelElement}var x,M,w,E=arguments.length<=0?void 0:arguments[0];return E instanceof l.default.Element&&(E.elt instanceof HTMLDivElement||E.elt instanceof HTMLSpanElement)?(x=E,this.elt=E.elt):E instanceof HTMLDivElement||E instanceof HTMLSpanElement?(x=h(E,this),M=this.elt=E,typeof(arguments.length<=1?void 0:arguments[1])=="string"&&(w=arguments.length<=1?void 0:arguments[1])):(typeof E=="string"&&(w=E),M=document.createElement("div"),x=h(M,this),this.elt=M),x._name=w||"radioOption",x._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(C){return f(C)||y(C)&&f(C.firstElementChild)}).map(function(C){return f(C)?C:C.firstElementChild})},x.option=function(C,L){var k,R,P,F=!0,I=!1,B=void 0;try{for(var V,H=x._getOptionsArray()[Symbol.iterator]();!(F=(V=H.next()).done);F=!0){var z=V.value;if(z.value===C){k=z;break}}}catch(G){I=!0,B=G}finally{try{F||H.return==null||H.return()}finally{if(I)throw B}}return k===void 0&&((k=document.createElement("input")).setAttribute("type","radio"),k.setAttribute("value",C)),k.setAttribute("name",x._name),y(k.parentElement)?R=k.parentElement:(R=document.createElement("label")).insertAdjacentElement("afterbegin",k),R.lastElementChild instanceof HTMLSpanElement?P=R.lastElementChild:(P=document.createElement("span"),k.insertAdjacentElement("afterend",P)),P.innerHTML=L===void 0?C:L,this.elt.appendChild(R),k},x.remove=function(C){var L=!0,k=!1,R=void 0;try{for(var P,F=x._getOptionsArray()[Symbol.iterator]();!(L=(P=F.next()).done);L=!0){var I=P.value;if(I.value===C)return void(y(I.parentElement)?I.parentElement:I).remove()}}catch(B){k=!0,R=B}finally{try{L||F.return==null||F.return()}finally{if(k)throw R}}},x.value=function(){var C="",L=!0,k=!1,R=void 0;try{for(var P,F=x._getOptionsArray()[Symbol.iterator]();!(L=(P=F.next()).done);L=!0){var I=P.value;if(I.checked){C=I.value;break}}}catch(B){k=!0,R=B}finally{try{L||F.return==null||F.return()}finally{if(k)throw R}}return C},x.selected=function(C){var L=null;if(C===void 0){var k=!0,R=!1,P=void 0;try{for(var F,I=x._getOptionsArray()[Symbol.iterator]();!(k=(F=I.next()).done);k=!0){var B=F.value;if(B.checked){L=B;break}}}catch(Q){R=!0,P=Q}finally{try{k||I.return==null||I.return()}finally{if(R)throw P}}}else{x._getOptionsArray().forEach(function(T){T.checked=!1,T.removeAttribute("checked")});var V=!0,R=!1,P=void 0;try{for(var H,z=x._getOptionsArray()[Symbol.iterator]();!(V=(H=z.next()).done);V=!0){var G=H.value;G.value===C&&(G.setAttribute("checked",!0),G.checked=!0,L=G)}}catch(T){R=!0,P=T}finally{try{V||z.return==null||z.return()}finally{if(R)throw P}}}return L},x.disable=function(){var C=!(0<arguments.length&&arguments[0]!==void 0)||arguments[0],L=!0,k=!1,R=void 0;try{for(var P,F=x._getOptionsArray()[Symbol.iterator]();!(L=(P=F.next()).done);L=!0)P.value.setAttribute("disabled",C)}catch(I){k=!0,R=I}finally{try{L||F.return==null||F.return()}finally{if(k)throw R}}},x},l.default.prototype.createColorPicker=function(f){l.default._validateParameters("createColorPicker",arguments);var y=document.createElement("input");return y.type="color",f?f instanceof l.default.Color?y.value=f.toString("#rrggbb"):(l.default.prototype._colorMode="rgb",l.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},y.value=l.default.prototype.color(f).toString("#rrggbb")):y.value="#000000",(y=h(y,this)).color=function(){return f&&(f.mode&&(l.default.prototype._colorMode=f.mode),f.maxes&&(l.default.prototype._colorMaxes=f.maxes)),l.default.prototype.color(this.elt.value)},y},l.default.prototype.createInput=function(){var f=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",y=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"text",x=(l.default._validateParameters("createInput",arguments),document.createElement("input"));return x.setAttribute("value",f),x.setAttribute("type",y),h(x,this)},l.default.prototype.createFileInput=function(f){var y,x=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(l.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob)return(y=document.createElement("input")).setAttribute("type","file"),x&&y.setAttribute("multiple",!0),y.addEventListener("change",function(M){var w=!0,E=!1,C=void 0;try{for(var L,k=M.target.files[Symbol.iterator]();!(w=(L=k.next()).done);w=!0){var R=L.value;l.default.File._load(R,f)}}catch(P){E=!0,C=P}finally{try{w||k.return==null||k.return()}finally{if(E)throw C}}},!1),h(y,this);console.log("The File APIs are not fully supported in this browser. Cannot create element.")},l.default.prototype.createVideo=function(f,y){return l.default._validateParameters("createVideo",arguments),c(this,"video",f,y)},l.default.prototype.createAudio=function(f,y){return l.default._validateParameters("createAudio",arguments),c(this,"audio",f,y)},l.default.prototype.VIDEO="video",l.default.prototype.AUDIO="audio",navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(f){var y=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return y?new Promise(function(x,M){y.call(navigator,f,x,M)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),l.default.prototype.createCapture=function(){for(var f=arguments.length,y=new Array(f),x=0;x<f;x++)y[x]=arguments[x];if(l.default._validateParameters("createCapture",y),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");for(var M,w=!0,E=!0,C=!1,L=0,k=y;L<k.length;L++){var R=k[L];R===l.default.prototype.VIDEO?E=!1:R===l.default.prototype.AUDIO?w=!1:i(R)==="object"?(R.flipped!==void 0&&(C=R.flipped,delete R.flipped),P=Object.assign({},P,R)):typeof R=="function"&&(M=R)}var P=Object.assign({},{video:w,audio:E},P),F=document.createElement("video"),I=(F.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(P).then(function(B){try{"srcObject"in F?F.srcObject=B:F.src=window.URL.createObjectURL(B)}catch{F.src=B}}).catch(function(B){B.name==="NotFoundError"&&l.default._friendlyError("No webcam found on this device","createCapture"),B.name==="NotAllowedError"&&l.default._friendlyError("Access to the camera was denied","createCapture"),console.error(B)}),h(F,this,!0));return I.loadedmetadata=!1,F.addEventListener("loadedmetadata",function(){F.play(),F.width?(I.width=F.width,I.height=F.height,C&&(I.elt.style.transform="scaleX(-1)")):(I.width=I.elt.width=F.videoWidth,I.height=I.elt.height=F.videoHeight),I.loadedmetadata=!0,M&&M(F.srcObject)}),I.flipped=C,I},l.default.prototype.createElement=function(f,y){return l.default._validateParameters("createElement",arguments),f=document.createElement(f),y!==void 0&&(f.innerHTML=y),h(f,this)},l.default.Element.prototype.addClass=function(f){return this.elt.className?this.hasClass(f)||(this.elt.className=this.elt.className+" "+f):this.elt.className=f,this},l.default.Element.prototype.removeClass=function(f){return this.elt.classList.remove(f),this},l.default.Element.prototype.hasClass=function(f){return this.elt.classList.contains(f)},l.default.Element.prototype.toggleClass=function(f){return this.elt.classList.contains(f)?this.elt.classList.remove(f):this.elt.classList.add(f),this},l.default.Element.prototype.child=function(f){return f===void 0?this.elt.childNodes:(typeof f=="string"?(f[0]==="#"&&(f=f.substring(1)),f=document.getElementById(f)):f instanceof l.default.Element&&(f=f.elt),f instanceof HTMLElement&&this.elt.appendChild(f),this)},l.default.Element.prototype.center=function(f){var y=this.elt.style.display,x=this.elt.style.display==="none",M=this.parent().style.display==="none",w={x:this.elt.offsetLeft,y:this.elt.offsetTop},E=(x&&this.show(),M&&this.parent().show(),this.elt.style.display="block",this.position(0,0),Math.abs(this.parent().offsetWidth-this.elt.offsetWidth)),C=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return f==="both"||f===void 0?this.position(E/2+this.parent().offsetLeft,C/2+this.parent().offsetTop):f==="horizontal"?this.position(E/2+this.parent().offsetLeft,w.y):f==="vertical"&&this.position(w.x,C/2+this.parent().offsetTop),this.style("display",y),x&&this.hide(),M&&this.parent().hide(),this},l.default.Element.prototype.html=function(){return arguments.length===0?this.elt.innerHTML:(arguments.length<=1||!arguments[1]?this.elt.innerHTML=arguments.length<=0?void 0:arguments[0]:this.elt.insertAdjacentHTML("beforeend",arguments.length<=0?void 0:arguments[0]),this)},l.default.Element.prototype.position=function(){return arguments.length===0?{x:this.elt.offsetLeft,y:this.elt.offsetTop}:(this.elt.style.position=(arguments.length<=2?void 0:arguments[2])!=="static"&&(arguments.length<=2?void 0:arguments[2])!=="fixed"&&(arguments.length<=2?void 0:arguments[2])!=="relative"&&(arguments.length<=2?void 0:arguments[2])!=="sticky"&&(arguments.length<=2?void 0:arguments[2])!=="initial"&&(arguments.length<=2?void 0:arguments[2])!=="inherit"?"absolute":arguments.length<=2?void 0:arguments[2],this.elt.style.left=(arguments.length<=0?void 0:arguments[0])+"px",this.elt.style.top=(arguments.length<=1?void 0:arguments[1])+"px",this.x=arguments.length<=0?void 0:arguments[0],this.y=arguments.length<=1?void 0:arguments[1],this)},l.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var f="";return this.elt.style.transform&&(f=(f=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),arguments.length===2?this.elt.style.transform="translate("+(arguments.length<=0?void 0:arguments[0])+"px, "+(arguments.length<=1?void 0:arguments[1])+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+(arguments.length<=0?void 0:arguments[0])+"px,"+(arguments.length<=1?void 0:arguments[1])+"px,"+(arguments.length<=2?void 0:arguments[2])+"px)",this.elt.parentElement.style.perspective=arguments.length===3?"1000px":(arguments.length<=3?void 0:arguments[3])+"px"),this.elt.style.transform+=f,this},l.default.Element.prototype._rotate=function(){var f="";return this.elt.style.transform&&(f=(f=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),arguments.length===1?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg)":arguments.length===2?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg, "+(arguments.length<=1?void 0:arguments[1])+"deg)":arguments.length===3&&(this.elt.style.transform="rotateX("+(arguments.length<=0?void 0:arguments[0])+"deg)",this.elt.style.transform+="rotateY("+(arguments.length<=1?void 0:arguments[1])+"deg)",this.elt.style.transform+="rotateZ("+(arguments.length<=2?void 0:arguments[2])+"deg)"),this.elt.style.transform+=f,this},l.default.Element.prototype.style=function(f,y){if((y=y instanceof l.default.Color?"rgba("+y.levels[0]+","+y.levels[1]+","+y.levels[2]+","+y.levels[3]/255+")":y)===void 0){if(f.indexOf(":")===-1)return window.getComputedStyle(this.elt).getPropertyValue(f);for(var x=f.split(";"),M=0;M<x.length;M++){var w=x[M].split(":");w[0]&&w[1]&&(this.elt.style[w[0].trim()]=w[1].trim())}}else this.elt.style[f]=y,f!=="width"&&f!=="height"&&f!=="left"&&f!=="top"||(y=window.getComputedStyle(this.elt).getPropertyValue(f).replace(/[^\d.]/g,""),this[f]=Math.round(parseFloat(y,10)));return this},l.default.Element.prototype.attribute=function(f,y){if(this.elt.firstChild==null||this.elt.firstChild.type!=="checkbox"&&this.elt.firstChild.type!=="radio")return y===void 0?this.elt.getAttribute(f):(this.elt.setAttribute(f,y),this);if(y===void 0)return this.elt.firstChild.getAttribute(f);for(var x=0;x<this.elt.childNodes.length;x++)this.elt.childNodes[x].setAttribute(f,y)},l.default.Element.prototype.removeAttribute=function(f){if(this.elt.firstChild!=null&&(this.elt.firstChild.type==="checkbox"||this.elt.firstChild.type==="radio"))for(var y=0;y<this.elt.childNodes.length;y++)this.elt.childNodes[y].removeAttribute(f);return this.elt.removeAttribute(f),this},l.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments.length<=0?void 0:arguments[0],this):this.elt.type==="range"?parseFloat(this.elt.value):this.elt.value},l.default.Element.prototype.show=function(){return this.elt.style.display="block",this},l.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},l.default.Element.prototype.size=function(f,y){if(arguments.length===0)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var x=f,M=y,w=l.default.prototype.AUTO;if(x!==w||M!==w){if(x===w?x=y*this.width/this.height:M===w&&(M=f*this.height/this.width),this.elt instanceof HTMLCanvasElement){var E,C={},L=this.elt.getContext("2d");for(E in L)C[E]=L[E];for(E in this.elt.setAttribute("width",x*this._pInst._pixelDensity),this.elt.setAttribute("height",M*this._pInst._pixelDensity),this.elt.style.width=x+"px",this.elt.style.height=M+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),C)this.elt.getContext("2d")[E]=C[E]}else this.elt.style.width=x+"px",this.elt.style.height=M+"px",this.elt.width=x,this.elt.height=M;this.width=x,this.height=M,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",x),this._pInst._setProperty("height",M))}return this},l.default.Element.prototype.remove=function(){this instanceof l.default.MediaElement&&(this.stop(),(y=this.elt.srcObject)!==null&&y.getTracks().forEach(function(x){x.stop()}));var f,y=this._pInst._elements.indexOf(this);for(f in y!==-1&&this._pInst._elements.splice(y,1),this._events)this.elt.removeEventListener(f,this._events[f]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},l.default.Element.prototype.drop=function(f,y){var x;return window.File&&window.FileReader&&window.FileList&&window.Blob?(this._dragDisabled||(this._dragDisabled=!0,this.elt.addEventListener("dragover",x=function(M){M.preventDefault()}),this.elt.addEventListener("dragleave",x)),l.default.Element._attachListener("drop",function(w){w.preventDefault(),typeof y=="function"&&y.call(this,w);var w=w.dataTransfer.files,E=!0,C=!1,L=void 0;try{for(var k,R=w[Symbol.iterator]();!(E=(k=R.next()).done);E=!0){var P=k.value;l.default.File._load(P,f)}}catch(F){C=!0,L=F}finally{try{E||R.return==null||R.return()}finally{if(C)throw L}}},this)):console.log("The File APIs are not fully supported in this browser."),this},l.default.Element.prototype.draggable=function(f){var y,x="ontouchstart"in window,M=0,w=0,E=0,C=0,L=x?"touchend":"mouseup",k=x?"touchmove":"mousemove";function R(F){var I;F=F||window.event,C=x?(I=F.changedTouches,M=E-parseInt(I[0].clientX),w=C-parseInt(I[0].clientY),E=parseInt(I[0].clientX),parseInt(I[0].clientY)):(M=E-parseInt(F.clientX),w=C-parseInt(F.clientY),E=parseInt(F.clientX),parseInt(F.clientY)),f.style.left=f.offsetLeft-M+"px",f.style.top=f.offsetTop-w+"px"}function P(){document.removeEventListener(L,P,!1),document.removeEventListener(k,R,!1)}return f===void 0?y=f=this.elt:f!==this.elt&&f.elt!==this.elt&&(f=f.elt,y=this.elt),y.addEventListener(x?"touchstart":"mousedown",function(F){{var I;F=F||window.event,C=x?(I=F.changedTouches,E=parseInt(I[0].clientX),parseInt(I[0].clientY)):(E=parseInt(F.clientX),parseInt(F.clientY))}return document.addEventListener(L,P,!1),document.addEventListener(k,R,!1),!1},!1),y.style.cursor="move",this};function u(f,y,x,M){a(this,u),this.callback=f,this.time=y,this.id=x,this.val=M}t=function(f){var y=M;if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(f&&f.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),f&&m(y,f);var x=p(M);function M(w,E){a(this,M);var C=r(E=x.call(this,w,E));return E.elt.crossOrigin="anonymous",E._prevTime=0,E._cueIDCounter=0,E._cues=[],E.pixels=[],E._pixelsState=r(E),E._pixelDensity=1,E._modified=!1,E._frameOnCanvas=-1,Object.defineProperty(C,"src",{get:function(){var L=C.elt.children[0].src,k=C.elt.src===window.location.href?"":C.elt.src;return L===window.location.href?k:L},set:function(L){for(var k=0;k<C.elt.children.length;k++)C.elt.removeChild(C.elt.children[k]);var R=document.createElement("source");R.src=L,w.appendChild(R),C.elt.src=L,C.modified=!0}}),C._onended=function(){},C.elt.onended=function(){C._onended(C)},E}return d(M,[{key:"play",value:function(){var w;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(w=this.elt.play())&&w.catch&&w.catch(function(E){E.name==="NotAllowedError"?console.error(E):console.error("Media play method encountered an unexpected error",E)}),this}},{key:"stop",value:function(){return this.elt.pause(),this.elt.currentTime=0,this}},{key:"pause",value:function(){return this.elt.pause(),this}},{key:"loop",value:function(){return this.elt.setAttribute("loop",!0),this.play(),this}},{key:"noLoop",value:function(){return this.elt.removeAttribute("loop"),this}},{key:"_setupAutoplayFailDetection",value:function(){var w=setTimeout(function(){console.error(e)},500);this.elt.addEventListener("play",function(){return clearTimeout(w)},{passive:!0,once:!0})}},{key:"autoplay",value:function(w){var E=this,C=this.elt.getAttribute("autoplay");return this.elt.setAttribute("autoplay",w),w&&!C&&(w=function(){return E._setupAutoplayFailDetection()},this.elt.readyState===4?w():this.elt.addEventListener("canplay",w,{passive:!0,once:!0})),this}},{key:"volume",value:function(w){if(w===void 0)return this.elt.volume;this.elt.volume=w}},{key:"speed",value:function(w){if(w===void 0)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=w:this.presetPlaybackRate=w}},{key:"time",value:function(w){return w===void 0?this.elt.currentTime:(this.elt.currentTime=w,this)}},{key:"duration",value:function(){return this.elt.duration}},{key:"_ensureCanvas",value:function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0));var w=this._frameOnCanvas!==this._pInst.frameCount;this.loadedmetadata&&w&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.clearRect(0,0,this.canvas.width,this.canvas.height),this.flipped===!0&&(this.drawingContext.save(),this.drawingContext.scale(-1,1),this.drawingContext.translate(-this.canvas.width,0)),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),this.flipped===!0&&this.drawingContext.restore(),this.setModified(!0),this._frameOnCanvas=this._pInst.frameCount)}},{key:"loadPixels",value:function(){this._ensureCanvas();for(var w=arguments.length,E=new Array(w),C=0;C<w;C++)E[C]=arguments[C];return l.default.Renderer2D.prototype.loadPixels.apply(this,E)}},{key:"updatePixels",value:function(w,E,C,L){return this.loadedmetadata&&(this._ensureCanvas(),l.default.Renderer2D.prototype.updatePixels.call(this,w,E,C,L)),this.setModified(!0),this}},{key:"get",value:function(){this._ensureCanvas();for(var w=arguments.length,E=new Array(w),C=0;C<w;C++)E[C]=arguments[C];return l.default.Renderer2D.prototype.get.apply(this,E)}},{key:"_getPixel",value:function(){this.loadPixels();for(var w=arguments.length,E=new Array(w),C=0;C<w;C++)E[C]=arguments[C];return l.default.Renderer2D.prototype._getPixel.apply(this,E)}},{key:"set",value:function(w,E,C){this.loadedmetadata&&(this._ensureCanvas(),l.default.Renderer2D.prototype.set.call(this,w,E,C),this.setModified(!0))}},{key:"copy",value:function(){this._ensureCanvas();for(var w=arguments.length,E=new Array(w),C=0;C<w;C++)E[C]=arguments[C];l.default.prototype.copy.apply(this,E)}},{key:"mask",value:function(){this.loadPixels(),this.setModified(!0);for(var w=arguments.length,E=new Array(w),C=0;C<w;C++)E[C]=arguments[C];l.default.Image.prototype.mask.apply(this,E)}},{key:"isModified",value:function(){return this._modified}},{key:"setModified",value:function(w){this._modified=w}},{key:"onended",value:function(w){return this._onended=w,this}},{key:"connect",value:function(w){var E,C;if(typeof l.default.prototype.getAudioContext=="function")E=l.default.prototype.getAudioContext(),C=l.default.soundOut.input;else try{C=(E=w.context).destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=E.createMediaElementSource(this.elt),this.audioSourceNode.connect(C)),w?w.input?this.audioSourceNode.connect(w.input):this.audioSourceNode.connect(w):this.audioSourceNode.connect(C)}},{key:"disconnect",value:function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()}},{key:"showControls",value:function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0}},{key:"hideControls",value:function(){this.elt.controls=!1}},{key:"addCue",value:function(w,k,C){var L=this._cueIDCounter++,k=new u(k,w,L,C);return this._cues.push(k),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),L}},{key:"removeCue",value:function(w){for(var E=0;E<this._cues.length;E++)this._cues[E].id===w&&(console.log(w),this._cues.splice(E,1));this._cues.length===0&&(this.elt.ontimeupdate=null)}},{key:"clearCues",value:function(){this._cues=[],this.elt.ontimeupdate=null}},{key:"_onTimeUpdate",value:function(){for(var w=this.time(),E=0;E<this._cues.length;E++){var C=this._cues[E].time,L=this._cues[E].val;this._prevTime<C&&C<=w&&this._cues[E].callback(L)}this._prevTime=w}}]),M}(l.default.Element),l.default.MediaElement=t,t=function(){function f(y,x){a(this,f),this.file=y,this._pInst=x,x=y.type.split("/"),this.type=x[0],this.subtype=x[1],this.name=y.name,this.size=y.size,this.data=void 0}return d(f,null,[{key:"_createLoader",value:function(y,x){var M=new FileReader;return M.onload=function(w){var E,C=new l.default.File(y);C.file.type==="application/json"?C.data=JSON.parse(w.target.result):C.file.type==="text/xml"?(E=new DOMParser().parseFromString(w.target.result,"text/xml"),C.data=new l.default.XML(E.documentElement)):C.data=w.target.result,x(C)},M}},{key:"_load",value:function(y,x){var M;/^text\//.test(y.type)||y.type==="application/json"?l.default.File._createLoader(y,x).readAsText(y):/^(video|audio)\//.test(y.type)?((M=new l.default.File(y)).data=URL.createObjectURL(y),x(M)):l.default.File._createLoader(y,x).readAsDataURL(y)}}]),f}(),l.default.File=t,t=l.default,b.default=t},{"../core/main":283,"core-js/modules/es.array.every":155,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246,"core-js/modules/web.url":248}],300:[function(i,_,b){Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var s=(i=i("../core/main"))&&i.__esModule?i:{default:i};s.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",s.default.prototype.accelerationX=0,s.default.prototype.accelerationY=0,s.default.prototype.accelerationZ=0,s.default.prototype.pAccelerationX=0,s.default.prototype.pAccelerationY=0,s.default.prototype.pAccelerationZ=0,s.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},s.default.prototype.rotationX=0,s.default.prototype.rotationY=0,s.default.prototype.rotationZ=0,s.default.prototype.pRotationX=0,s.default.prototype.pRotationY=0;var l=s.default.prototype.pRotationZ=0,n=0,d=0,m="clockwise",p="clockwise",r="clockwise",o=(s.default.prototype.pRotateDirectionX=void 0,s.default.prototype.pRotateDirectionY=void 0,s.default.prototype.pRotateDirectionZ=void 0,s.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},s.default.prototype.turnAxis=void 0,.5),a=30,i=(s.default.prototype.setMoveThreshold=function(h){s.default._validateParameters("setMoveThreshold",arguments),o=h},s.default.prototype.setShakeThreshold=function(h){s.default._validateParameters("setShakeThreshold",arguments),a=h},s.default.prototype._ondeviceorientation=function(h){this._updatePRotations(),this._setProperty("rotationX",this._fromDegrees(h.beta)),this._setProperty("rotationY",this._fromDegrees(h.gamma)),this._setProperty("rotationZ",this._fromDegrees(h.alpha)),this._handleMotion()},s.default.prototype._ondevicemotion=function(h){this._updatePAccelerations(),this._setProperty("accelerationX",2*h.acceleration.x),this._setProperty("accelerationY",2*h.acceleration.y),this._setProperty("accelerationZ",2*h.acceleration.z),this._handleMotion()},s.default.prototype._handleMotion=function(){window.orientation===90||window.orientation===-90?this._setProperty("deviceOrientation","landscape"):window.orientation===0?this._setProperty("deviceOrientation","portrait"):window.orientation===void 0&&this._setProperty("deviceOrientation","undefined");var h,c,u,f,y,x=this._isGlobal?window:this;typeof x.deviceMoved=="function"&&(Math.abs(this.accelerationX-this.pAccelerationX)>o||Math.abs(this.accelerationY-this.pAccelerationY)>o||Math.abs(this.accelerationZ-this.pAccelerationZ)>o)&&x.deviceMoved(),typeof x.deviceTurned=="function"&&(c=this._toDegrees(this.rotationX)+180,u=this._toDegrees(this.pRotationX)+180,h=l+180,0<c-u&&c-u<270||c-u<-270?m="clockwise":(c-u<0||270<c-u)&&(m="counter-clockwise"),m!==this.pRotateDirectionX&&(h=c),90<Math.abs(c-h)&&Math.abs(c-h)<270&&(h=c,this._setProperty("turnAxis","X"),x.deviceTurned()),this.pRotateDirectionX=m,l=h-180,u=this._toDegrees(this.rotationY)+180,c=this._toDegrees(this.pRotationY)+180,h=n+180,0<u-c&&u-c<270||u-c<-270?p="clockwise":(u-c<0||270<u-this.pRotationY)&&(p="counter-clockwise"),p!==this.pRotateDirectionY&&(h=u),90<Math.abs(u-h)&&Math.abs(u-h)<270&&(h=u,this._setProperty("turnAxis","Y"),x.deviceTurned()),this.pRotateDirectionY=p,n=h-180,0<(c=this._toDegrees(this.rotationZ))-(u=this._toDegrees(this.pRotationZ))&&c-u<270||c-u<-270?r="clockwise":(c-u<0||270<c-u)&&(r="counter-clockwise"),r!==this.pRotateDirectionZ&&(d=c),90<Math.abs(c-d)&&Math.abs(c-d)<270&&(d=c,this._setProperty("turnAxis","Z"),x.deviceTurned()),this.pRotateDirectionZ=r,this._setProperty("turnAxis",void 0)),typeof x.deviceShaken=="function"&&(this.pAccelerationX!==null&&(f=Math.abs(this.accelerationX-this.pAccelerationX),y=Math.abs(this.accelerationY-this.pAccelerationY)),a<f+y&&x.deviceShaken())},s.default);b.default=i},{"../core/main":283}],301:[function(t,_,b){Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var s=(t=t("../core/main"))&&t.__esModule?t:{default:t};s.default.prototype.isKeyPressed=!1,s.default.prototype.keyIsPressed=!1,s.default.prototype.key="",s.default.prototype.keyCode=0,s.default.prototype._onkeydown=function(l){var n;this._downKeys[l.which]||(this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",l.which),this._downKeys[l.which]=!0,this._setProperty("key",l.key||String.fromCharCode(l.which)||l.which),typeof(n=this._isGlobal?window:this).keyPressed!="function"||l.charCode||n.keyPressed(l)===!1&&l.preventDefault())},s.default.prototype._onkeyup=function(l){this._downKeys[l.which]=!1,this._areDownKeys()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null),this._setProperty("key",l.key||String.fromCharCode(l.which)||l.which),this._setProperty("keyCode",l.which);var n=this._isGlobal?window:this;typeof n.keyReleased=="function"&&n.keyReleased(l)===!1&&l.preventDefault()},s.default.prototype._onkeypress=function(l){var n;l.which!==this._lastKeyCodeTyped&&(this._setProperty("_lastKeyCodeTyped",l.which),this._setProperty("key",l.key||String.fromCharCode(l.which)||l.which),typeof(n=this._isGlobal?window:this).keyTyped=="function"&&n.keyTyped(l)===!1&&l.preventDefault())},s.default.prototype._onblur=function(l){this._downKeys={}},s.default.prototype.keyIsDown=function(l){return s.default._validateParameters("keyIsDown",arguments),this._downKeys[l]||!1},s.default.prototype._areDownKeys=function(){for(var l in this._downKeys)if(this._downKeys.hasOwnProperty(l)&&this._downKeys[l]===!0)return!0;return!1},t=s.default,b.default=t},{"../core/main":283}],302:[function(t,_,b){function s(p){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(p)}function l(p){return(l=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(r){return s(r)}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":s(r)})(p)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var n=(n=t("../core/main"))&&n.__esModule?n:{default:n},d=function(p){if(p&&p.__esModule)return p;if(p===null||l(p)!=="object"&&typeof p!="function")return{default:p};var r=m();if(r&&r.has(p))return r.get(p);var o,a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(o in p){var h;Object.prototype.hasOwnProperty.call(p,o)&&((h=i?Object.getOwnPropertyDescriptor(p,o):null)&&(h.get||h.set)?Object.defineProperty(a,o,h):a[o]=p[o])}return a.default=p,r&&r.set(p,a),a}(t("../core/constants"));function m(){var p;return typeof WeakMap!="function"?null:(p=new WeakMap,m=function(){return p},p)}n.default.prototype.movedX=0,n.default.prototype.movedY=0,n.default.prototype._hasMouseInteracted=!1,n.default.prototype.mouseX=0,n.default.prototype.mouseY=0,n.default.prototype.pmouseX=0,n.default.prototype.pmouseY=0,n.default.prototype.winMouseX=0,n.default.prototype.winMouseY=0,n.default.prototype.pwinMouseX=0,n.default.prototype.pwinMouseY=0,n.default.prototype.mouseButton=0,n.default.prototype.mouseIsPressed=!1,n.default.prototype._updateNextMouseCoords=function(p){var r,o,a,i,h;this._curElement!==null&&(!p.touches||0<p.touches.length)&&(r=this._curElement.elt,o=this.width,a=this.height,(i=p)&&!i.clientX&&(i.touches?i=i.touches[0]:i.changedTouches&&(i=i.changedTouches[0])),h=r.getBoundingClientRect(),o=r.scrollWidth/o||1,r=r.scrollHeight/a||1,a={x:(i.clientX-h.left)/o,y:(i.clientY-h.top)/r,winX:i.clientX,winY:i.clientY,id:i.identifier},this._setProperty("movedX",p.movementX),this._setProperty("movedY",p.movementY),this._setProperty("mouseX",a.x),this._setProperty("mouseY",a.y),this._setProperty("winMouseX",a.winX),this._setProperty("winMouseY",a.winY)),this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},n.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},n.default.prototype._setMouseButton=function(p){p.button===1?this._setProperty("mouseButton",d.CENTER):p.button===2?this._setProperty("mouseButton",d.RIGHT):this._setProperty("mouseButton",d.LEFT)},n.default.prototype._onmousemove=function(p){var r=this._isGlobal?window:this;this._updateNextMouseCoords(p),this.mouseIsPressed?typeof r.mouseDragged=="function"?r.mouseDragged(p)===!1&&p.preventDefault():typeof r.touchMoved=="function"&&r.touchMoved(p)===!1&&p.preventDefault():typeof r.mouseMoved=="function"&&r.mouseMoved(p)===!1&&p.preventDefault()},n.default.prototype._onmousedown=function(p){var r=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(p),this._updateNextMouseCoords(p),this.touchstart||(typeof r.mousePressed=="function"?r.mousePressed(p)===!1&&p.preventDefault():typeof r.touchStarted=="function"&&r.touchStarted(p)===!1&&p.preventDefault(),this.touchstart=!1)},n.default.prototype._onmouseup=function(p){var r=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),this.touchend||(typeof r.mouseReleased=="function"?r.mouseReleased(p)===!1&&p.preventDefault():typeof r.touchEnded=="function"&&r.touchEnded(p)===!1&&p.preventDefault(),this.touchend=!1)},n.default.prototype._ondragend=n.default.prototype._onmouseup,n.default.prototype._ondragover=n.default.prototype._onmousemove,n.default.prototype._onclick=function(p){var r=this._isGlobal?window:this;typeof r.mouseClicked=="function"&&r.mouseClicked(p)===!1&&p.preventDefault()},n.default.prototype._ondblclick=function(p){var r=this._isGlobal?window:this;typeof r.doubleClicked=="function"&&r.doubleClicked(p)===!1&&p.preventDefault()},n.default.prototype._mouseWheelDeltaY=0,n.default.prototype._pmouseWheelDeltaY=0,n.default.prototype._onwheel=function(p){var r=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",p.deltaY),typeof r.mouseWheel=="function"&&(p.delta=p.deltaY,r.mouseWheel(p)===!1&&p.preventDefault())},n.default.prototype.requestPointerLock=function(){var p=this._curElement.elt;return p.requestPointerLock=p.requestPointerLock||p.mozRequestPointerLock,p.requestPointerLock?(p.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},n.default.prototype.exitPointerLock=function(){document.exitPointerLock()},t=n.default,b.default=t},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],303:[function(t,_,b){Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.touches=[],t.default.prototype._updateTouchCoords=function(s){if(this._curElement!==null){for(var l=[],n=0;n<s.touches.length;n++)l[n]=function(h,i,c,r){var o=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,a=h.getBoundingClientRect(),i=h.scrollWidth/i||1,h=h.scrollHeight/c||1,c=r.touches[o]||r.changedTouches[o];return{x:(c.clientX-a.left)/i,y:(c.clientY-a.top)/h,winX:c.clientX,winY:c.clientY,id:c.identifier}}(this._curElement.elt,this.width,this.height,s,n);this._setProperty("touches",l)}},t.default.prototype._ontouchstart=function(s){var l=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(s),this._updateNextMouseCoords(s),this._updateMouseCoords(),typeof l.touchStarted=="function"&&(l.touchStarted(s)===!1&&s.preventDefault(),this.touchstart=!0)},t.default.prototype._ontouchmove=function(s){var l=this._isGlobal?window:this;this._updateTouchCoords(s),this._updateNextMouseCoords(s),typeof l.touchMoved=="function"?l.touchMoved(s)===!1&&s.preventDefault():typeof l.mouseDragged=="function"&&l.mouseDragged(s)===!1&&s.preventDefault()},t.default.prototype._ontouchend=function(s){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(s),this._updateNextMouseCoords(s);var l=this._isGlobal?window:this;typeof l.touchEnded=="function"&&(l.touchEnded(s)===!1&&s.preventDefault(),this.touchend=!0)},t=t.default,b.default=t},{"../core/main":283}],304:[function(t,_,b){t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.int32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.int32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var s,l,n,d,m={_toPixels:function(p){var r,o;return p instanceof ImageData?p.data:p.getContext("2d")?p.getContext("2d").getImageData(0,0,p.width,p.height).data:p.getContext("webgl")?(o=(r=p.getContext("webgl")).drawingBufferWidth*r.drawingBufferHeight*4,o=new Uint8Array(o),r.readPixels(0,0,p.width,p.height,r.RGBA,r.UNSIGNED_BYTE,o),o):void 0},_getARGB:function(p,r){return r*=4,p[3+r]<<24&4278190080|p[r]<<16&16711680|p[1+r]<<8&65280|255&p[2+r]},_setPixels:function(p,r){for(var o,a=0,i=p.length;a<i;a++)p[0+(o=4*a)]=(16711680&r[a])>>>16,p[1+o]=(65280&r[a])>>>8,p[2+o]=255&r[a],p[3+o]=(4278190080&r[a])>>>24},_toImageData:function(p){return p instanceof ImageData?p:p.getContext("2d").getImageData(0,0,p.width,p.height)},_createImageData:function(p,r){return m._tmpCanvas=document.createElement("canvas"),m._tmpCtx=m._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(p,r)},apply:function(p,h,o){var a=p.getContext("2d"),i=a.getImageData(0,0,p.width,p.height),h=h(i,o);h instanceof ImageData?a.putImageData(h,0,0,0,0,p.width,p.height):a.putImageData(i,0,0,0,0,p.width,p.height)},threshold:function(p){for(var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:.5,o=m._toPixels(p),a=Math.floor(255*r),i=0;i<o.length;i+=4){var h=void 0,h=a<=.2126*o[i]+.7152*o[i+1]+.0722*o[i+2]?255:0;o[i]=o[i+1]=o[i+2]=h}},gray:function(p){for(var r=m._toPixels(p),o=0;o<r.length;o+=4){var a=r[o],i=r[o+1],h=r[o+2];r[o]=r[o+1]=r[o+2]=.2126*a+.7152*i+.0722*h}},opaque:function(p){for(var r=m._toPixels(p),o=0;o<r.length;o+=4)r[o+3]=255;return r},invert:function(p){for(var r=m._toPixels(p),o=0;o<r.length;o+=4)r[o]=255-r[o],r[o+1]=255-r[o+1],r[o+2]=255-r[o+2]},posterize:function(p){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:4,o=m._toPixels(p);if(r<2||255<r)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var a=r-1,i=0;i<o.length;i+=4){var h=o[i],c=o[i+1],u=o[i+2];o[i]=255*(h*r>>8)/a,o[i+1]=255*(c*r>>8)/a,o[i+2]=255*(u*r>>8)/a}},dilate:function(p){for(var r,o,a,i,h,c,u,f,y,x=m._toPixels(p),M=0,w=x.length?x.length/4:0,E=new Int32Array(w);M<w;)for(o=(r=M)+p.width;M<o;)i=a=m._getARGB(x,M),(y=M-1)<r&&(y=M),o<=(f=M+1)&&(f=M),(h=M-p.width)<0&&(h=0),w<=(c=M+p.width)&&(c=M),h=m._getARGB(x,h),y=m._getARGB(x,y),c=m._getARGB(x,c),(i=77*(i>>16&255)+151*(i>>8&255)+28*(255&i))<(u=77*(y>>16&255)+151*(y>>8&255)+28*(255&y))&&(a=y,i=u),i<(u=77*((y=m._getARGB(x,f))>>16&255)+151*(y>>8&255)+28*(255&y))&&(a=y,i=u),i<(f=77*(h>>16&255)+151*(h>>8&255)+28*(255&h))&&(a=h,i=f),i<(y=77*(c>>16&255)+151*(c>>8&255)+28*(255&c))&&(a=c,i=y),E[M++]=a;m._setPixels(x,E)},erode:function(p){for(var r,o,a,i,h,c,u,f,y,x=m._toPixels(p),M=0,w=x.length?x.length/4:0,E=new Int32Array(w);M<w;)for(o=(r=M)+p.width;M<o;)i=a=m._getARGB(x,M),(y=M-1)<r&&(y=M),o<=(f=M+1)&&(f=M),(h=M-p.width)<0&&(h=0),w<=(c=M+p.width)&&(c=M),h=m._getARGB(x,h),y=m._getARGB(x,y),c=m._getARGB(x,c),(u=77*(y>>16&255)+151*(y>>8&255)+28*(255&y))<(i=77*(i>>16&255)+151*(i>>8&255)+28*(255&i))&&(a=y,i=u),(u=77*((y=m._getARGB(x,f))>>16&255)+151*(y>>8&255)+28*(255&y))<i&&(a=y,i=u),(f=77*(h>>16&255)+151*(h>>8&255)+28*(255&h))<i&&(a=h,i=f),(y=77*(c>>16&255)+151*(c>>8&255)+28*(255&c))<i&&(a=c,i=y),E[M++]=a;m._setPixels(x,E)},blur:function(p,r){for(var o,a,i,h,c,u,f,y,x,M,w=m._toPixels(p),E=p.width,C=p.height,L=E*C,k=new Int32Array(L),R=0;R<L;R++)k[R]=m._getARGB(w,R);var P,F,I,B,V,H,z,G,Q=new Int32Array(L),ie=new Int32Array(L),T=new Int32Array(L),D=new Int32Array(L),U=0,W=3.5*r|0;if(s!==(W=W<1?1:W<248?W:248)){l=1+(s=W)<<1,n=new Int32Array(l),d=new Array(l);for(var $=0;$<l;$++)d[$]=new Int32Array(256);for(var ee=1,ne=W-1;ee<W;ee++){n[W+ee]=n[ne]=H=ne*ne,z=d[W+ee],G=d[ne--];for(var fe=0;fe<256;fe++)z[fe]=G[fe]=H*fe}V=n[W]=W*W,z=d[W];for(var se=0;se<256;se++)z[se]=V*se}for(F=0;F<C;F++){for(P=0;P<E;P++){if(h=i=a=c=o=0,(u=P-s)<0)M=-u,u=0;else{if(E<=u)break;M=0}for(I=M;I<l&&!(E<=u);I++){var he=k[u+U];B=d[I],c+=B[(-16777216&he)>>>24],a+=B[(16711680&he)>>16],i+=B[(65280&he)>>8],h+=B[255&he],o+=n[I],u++}Q[f=U+P]=c/o,ie[f]=a/o,T[f]=i/o,D[f]=h/o}U+=E}for(x=(y=-s)*E,F=U=0;F<C;F++){for(P=0;P<E;P++){if(h=i=a=c=o=0,y<0)M=f=-y,u=P;else{if(C<=y)break;M=0,f=y,u=P+x}for(I=M;I<l&&!(C<=f);I++)B=d[I],c+=B[Q[u]],a+=B[ie[u]],i+=B[T[u]],h+=B[D[u]],o+=n[I],f++,u+=E;k[P+U]=c/o<<24|a/o<<16|i/o<<8|h/o}U+=E,x+=E,y++}m._setPixels(w,k)}};b.default=m},{"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.int32-array":225,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242}],305:[function(t,_,b){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var s=n(t("../core/main")),l=n(t("omggif"));function n(m){return m&&m.__esModule?m:{default:m}}function d(m){return function(p){if(Array.isArray(p)){for(var r=0,o=new Array(p.length);r<p.length;r++)o[r]=p[r];return o}}(m)||function(p){if(Symbol.iterator in Object(p)||Object.prototype.toString.call(p)==="[object Arguments]")return Array.from(p)}(m)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}s.default.prototype.createImage=function(m,p){return s.default._validateParameters("createImage",arguments),new s.default.Image(m,p)},s.default.prototype.saveCanvas=function(){for(var m,p,r,o,a,i,h=arguments.length,c=new Array(h),u=0;u<h;u++)c[u]=arguments[u];switch(s.default._validateParameters("saveCanvas",c),c[0]instanceof HTMLCanvasElement?(m=c[0],c.shift()):c[0]instanceof s.default.Element?(m=c[0].elt,c.shift()):c[0]instanceof s.default.Framebuffer?(o=c[0],(a=this.createGraphics(o.width,o.height)).pixelDensity(pixelDensity()),o.loadPixels(),a.loadPixels(),a.pixels.set(o.pixels),a.updatePixels(),m=a.elt,c.shift()):m=this._curElement&&this._curElement.elt,1<=c.length&&(p=c[0]),r=(r=2<=c.length?c[1]:r)||s.default.prototype._checkFileExtension(p,r)[1]||"png"){default:i="image/png";break;case"webp":i="image/webp";break;case"jpeg":case"jpg":i="image/jpeg"}m.toBlob(function(f){s.default.prototype.downloadFile(f,p,r),a&&a.remove()},i)},s.default.prototype.encodeAndDownloadGif=function(m,p){for(var r=m.gifProperties,o=r.loopLimit,a=(o===1?o=null:o===null&&(o=0),new Uint8Array(m.width*m.height*r.numFrames)),i=[],h={},c=0;c<r.numFrames;c++){for(var u=new Set,f=r.frames[c].image.data,y=f.length,x=new Uint32Array(m.width*m.height),M=0,w=0;M<y;M+=4,w++){var E=f[M+0]<<16|f[M+1]<<8|f[M+2]<<0;u.add(E),x[w]=E}var C=d(u).sort().toString();h[C]===void 0?h[C]={freq:1,frames:[c]}:(h[C].freq+=1,h[C].frames.push(c)),i.push(x)}for(var R=[],L=Object.keys(h).sort(function(T,D){return h[D].freq-h[T].freq}),k=L[0].split(",").map(function(T){return parseInt(T)}),R=R.concat(h[k].frames),P=new Set(k),F=1;F<L.length;F++){var I=L[F].split(",").map(function(T){return parseInt(T)}).filter(function(T){return!P.has(T)});if(k.length+I.length<=256){for(var B=0;B<I.length;B++)k.push(I[B]),P.add(I[B]);R=R.concat(h[L[F]].frames)}}R=new Set(R);for(var V={},H=0;H<k.length;H++)V[k[H]]||(V[k[H]]=H);for(var z=1;z<k.length;)z<<=1;k.length=z;for(var o={loop:o,palette:new Uint32Array(k)},G=new l.default.GifWriter(a,m.width,m.height,o),Q={},ie=0;ie<r.numFrames;ie++)(function(D){var U=!R.has(D),W=U?[]:k,$=new Uint8Array(m.width*m.height),ee={},ne=new Set,fe=(i[D].forEach(function(le,ye){U?(ee[le]===void 0&&(ee[le]=W.length,W.push(le)),$[ye]=ee[le]):$[ye]=V[le],0<D&&i[D-1][ye]!==le&&ne.add(le)}),{}),se=W.filter(function(le){return!ne.has(le)});if(0<se.length){var se=se[0],he=(U?ee:V)[se];if(0<D){for(var ae=0;ae<i[D].length;ae++)i[D-1][ae]===i[D][ae]&&($[ae]=he);fe.transparent=he,Q.frameOpts.disposal=1}}if(fe.delay=r.frames[D].delay/10,U){for(var J=1;J<W.length;)J<<=1;W.length=J,fe.palette=new Uint32Array(W)}0<D&&G.addFrame(0,0,m.width,m.height,Q.pixelPaletteIndex,Q.frameOpts),Q={pixelPaletteIndex:$,frameOpts:fe}})(ie);Q.frameOpts.disposal=1,G.addFrame(0,0,m.width,m.height,Q.pixelPaletteIndex,Q.frameOpts),o=new Blob([a.slice(0,G.end())],{type:"image/gif"}),s.default.prototype.downloadFile(o,p,"gif")},s.default.prototype.saveFrames=function(m,p,r,i,a){s.default._validateParameters("saveFrames",arguments),r=s.default.prototype.constrain(r=r||3,0,15),r*=1e3;var i=s.default.prototype.constrain(i||15,0,22),h=0,c=s.default.prototype._makeFrame,u=this._curElement.elt,f=[],y=setInterval(function(){f.push(c(m+h,p,u)),h++},1e3/i);setTimeout(function(){if(clearInterval(y),a)a(f);else for(var x=0,M=f;x<M.length;x++){var w=M[x];s.default.prototype.downloadFile(w.imageData,w.filename,w.ext)}f=[]},.01+r)},s.default.prototype._makeFrame=function(m,p,a){var o,a=this?this._curElement.elt:a;if(p)switch(p.toLowerCase()){case"png":o="image/png";break;case"jpeg":case"jpg":o="image/jpeg";break;default:o="image/png"}else p="png",o="image/png";var a=(a=a.toDataURL(o)).replace(o,"image/octet-stream"),i={};return i.imageData=a,i.filename=m,i.ext=p,i},t=s.default,b.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246,omggif:256}],306:[function(t,_,b){function s(u){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(u)}function l(u){return(l=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(f){return s(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":s(f)})(u)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0,t("regenerator-runtime/runtime");var n=a(t("../core/main")),d=a(t("../core/helpers")),m=function(u){if(u&&u.__esModule)return u;if(u===null||l(u)!=="object"&&typeof u!="function")return{default:u};var f=o();if(f&&f.has(u))return f.get(u);var y,x={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(y in u){var w;Object.prototype.hasOwnProperty.call(u,y)&&((w=M?Object.getOwnPropertyDescriptor(u,y):null)&&(w.get||w.set)?Object.defineProperty(x,y,w):x[y]=u[y])}return x.default=u,f&&f.set(u,x),x}(t("../core/constants")),p=a(t("omggif")),r=t("gifenc");function o(){var u;return typeof WeakMap!="function"?null:(u=new WeakMap,o=function(){return u},u)}function a(u){return u&&u.__esModule?u:{default:u}}function i(u,f,y,x,M,w,E){try{var C=u[w](E),L=C.value}catch(k){return void y(k)}C.done?f(L):Promise.resolve(L).then(x,M)}function h(u,f,y,x,M,w,E,C,L,k,R){var P,F,I,B,V,H,z,G,Q;return u===m.COVER&&(P=f,I=y,z=w,G=E,H=C,Q=L,F=k,B=R,V=Math.max(z/F,G/B),z/=V,G/=V,V=H,H=Q,P===m.CENTER?V+=(F-z)/2:P===m.RIGHT&&(V+=F-z),I===m.CENTER?H+=(B-G)/2:I===m.BOTTOM&&(H+=B-G),C=(Q={x:V,y:H,w:z,h:G}).x,L=Q.y,k=Q.w,R=Q.h),u===m.CONTAIN&&(P=f,F=y,I=x,B=M,V=w,H=E,z=k,G=R,Q=Math.max(z/V,G/H),z/=Q,G/=Q,Q=I,I=B,P===m.CENTER?Q+=(V-z)/2:P===m.RIGHT&&(Q+=V-z),F===m.CENTER?I+=(H-G)/2:F===m.BOTTOM&&(I+=H-G),x=(u={x:Q,y:I,w:z,h:G}).x,M=u.y,w=u.w,E=u.h),{sx:C,sy:L,sw:k,sh:R,dx:x,dy:M,dw:w,dh:E}}function c(u,f){return 0<u&&u<f?u:f}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),n.default.prototype.loadImage=function(u,f,y){n.default._validateParameters("loadImage",arguments);var x=new n.default.Image(1,1,this),M=this,w=new Request(u,{method:"GET",mode:"cors"});return fetch(u,w).then(function(E){var C,L=E.headers.get("content-type");L===null&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),L&&L.includes("image/gif")?E.arrayBuffer().then(function(k){if(k){for(var k=new Uint8Array(k),R=x,P=f,F=y,I=(function(U){M._decrementPreload()}).bind(M),B=new p.default.GifReader(k),V=(R.width=R.canvas.width=B.width,R.height=R.canvas.height=B.height,[]),H=B.numFrames(),z=new Uint8ClampedArray(R.width*R.height*4),G=0;G<H;G++){var Q=B.frameInfo(G),ie=R.drawingContext.getImageData(0,0,R.width,R.height),T=(z=ie.data.slice(),function(U,W){try{W.decodeAndBlitFrameRGBA(U,z)}catch($){n.default._friendlyFileLoadError(8,R.src),typeof F=="function"?F($):console.error($)}}(G,B),new ImageData(z,R.width,R.height)),T=(R.drawingContext.putImageData(T,0,0),Q.delay);T===0&&(T=10),V.push({image:R.drawingContext.getImageData(0,0,R.width,R.height),delay:10*T}),Q.disposal===2?R.drawingContext.clearRect(Q.x,Q.y,Q.width,Q.height):Q.disposal===3&&R.drawingContext.putImageData(ie,0,0,Q.x,Q.y,Q.width,Q.height)}(k=B.loopCount())===null?k=1:k===0&&(k=null),R.drawingContext.putImageData(V[0].image,0,0),1<V.length&&(R.gifProperties={displayIndex:0,loopLimit:k,loopCount:0,frames:V,numFrames:H,playing:!0,timeDisplayed:0,lastChangeTime:0}),typeof P=="function"&&P(R),I()}},function(k){typeof y=="function"?(y(k),M._decrementPreload()):console.error(k)}):((C=new Image).onload=function(){x.width=x.canvas.width=C.width,x.height=x.canvas.height=C.height,x.drawingContext.drawImage(C,0,0),x.modified=!0,typeof f=="function"&&f(x),M._decrementPreload()},C.onerror=function(k){n.default._friendlyFileLoadError(0,C.src),typeof y=="function"?(y(k),M._decrementPreload()):console.error(k)},u.indexOf("data:image/")!==0&&(C.crossOrigin="Anonymous"),C.src=u),x.modified=!0}).catch(function(E){n.default._friendlyFileLoadError(0,u),typeof y=="function"?(y(E),M._decrementPreload()):console.error(E)}),x},n.default.prototype.saveGif=function(){u=regeneratorRuntime.mark(function y(x,M){var w,E,C,L,k,R,P,F,I,B,V,H,z,G,Q,ie,T,D,U,W,$,ee,ne,fe,se,he,ae=arguments;return regeneratorRuntime.wrap(function(J){for(;;)switch(J.prev=J.next){case 0:if(w=2<ae.length&&ae[2]!==void 0?ae[2]:{delay:0,units:"seconds",silent:!1,notificationDuration:0,notificationID:"progressBar"},typeof x!="string")throw TypeError("fileName parameter must be a string");J.next=3;break;case 3:if(typeof M!="number")throw TypeError("Duration parameter must be a number");J.next=5;break;case 5:if(E=w&&w.delay||0,C=w&&w.units||"seconds",L=w&&w.silent||!1,k=w&&w.notificationDuration||0,R=w&&w.notificationID||"progressBar",typeof E!="number")throw TypeError("Delay parameter must be a number");J.next=12;break;case 12:if(C!=="seconds"&&C!=="frames")throw TypeError('Units parameter must be either "frames" or "seconds"');J.next=14;break;case 14:if(typeof L!="boolean")throw TypeError("Silent parameter must be a boolean");J.next=16;break;case 16:if(typeof k!="number")throw TypeError("Notification duration parameter must be a number");J.next=18;break;case 18:if(typeof R!="string")throw TypeError("Notification ID parameter must be a string");J.next=20;break;case 20:return this._recording=!0,B=this._targetFrameRate,P=(P=1/(B=B!==1/0&&B!==void 0&&B!==0?B:60)*1e3)<20?20:P,I=(F=C==="seconds"?M*B:M)+(B=C==="seconds"?E*B:E),B=B,this.frameCount=B,V=this._pixelDensity,this.pixelDensity(1),H=[],document.getElementById(R)!==null&&document.getElementById(R).remove(),L||((z=this.createP("")).id(R),z.style("font-size","16px"),z.style("font-family","Montserrat"),z.style("background-color","#ffffffa0"),z.style("padding","8px"),z.style("border-radius","10px"),z.position(0,0)),this._renderer instanceof n.default.RendererGL&&(Q=this.drawingContext,G=new Uint8Array(Q.drawingBufferWidth*Q.drawingBufferHeight*4)),this.noLoop(),J.next=39,Promise.resolve();case 39:if(B<I)return this.redraw(),fe=void 0,fe=this._renderer instanceof n.default.RendererGL?(G=new Uint8Array(Q.drawingBufferWidth*Q.drawingBufferHeight*4),Q.readPixels(0,0,Q.drawingBufferWidth,Q.drawingBufferHeight,Q.RGBA,Q.UNSIGNED_BYTE,G),function(le,ye,ue){for(var ge=parseInt(ue/2),be=4*ye,Se=new Uint8Array(4*ye),Ie=0;Ie<ge;++Ie){var Me=Ie*be,$e=(ue-Ie-1)*be;Se.set(le.subarray(Me,Me+be)),le.copyWithin(Me,$e,$e+be),le.set(Se,$e)}return le}(G,this.width,this.height)):this.drawingContext.getImageData(0,0,this.width,this.height).data,H.push(fe),B++,L||z.html("Saved frame <b>"+H.length.toString()+"</b> out of "+F.toString()),J.next=48,new Promise(function(le){return setTimeout(le,0)});J.next=50;break;case 48:J.next=39;break;case 50:L||z.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity(V),ie=(0,r.GIFEncoder)(),T=function(le){for(var ye=new Uint8Array(le.length*le[0].length),ue=0;ue<le.length;ue++)ye.set(le[ue],ue*le[0].length);var ge=(0,r.quantize)(ye,256,{format:"rgba4444",oneBitAlpha:!0});return ge.length===256?ge[ge.length-1]=[255*Math.random(),255*Math.random(),255*Math.random(),0]:ge.push([255*Math.random(),255*Math.random(),255*Math.random(),0]),ge}(H),D={},U=function(le){for(var ye=le.length/4,ue=new Uint8Array(ye),ge=0;ge<ye;ge++){var be=le[4*ge]<<24|le[4*ge+1]<<16|le[4*ge+2]<<8|le[4*ge+3];D[be]===void 0&&(D[be]=(0,r.nearestColorIndex)(T,le.slice(4*ge,4*(ge+1)))),ue[ge]=D[be]}return ue},W=T.length-1,$=[],ee=0;case 60:if(!(ee<H.length)){J.next=71;break}if(ne=U(H[ee]),fe=ne.slice(),ee===0)ie.writeFrame(ne,this.width,this.height,{palette:T,delay:P,dispose:1});else{for(se=0;se<ne.length;se++)ne[se]===$[se]&&(ne[se]=W);ie.writeFrame(ne,this.width,this.height,{delay:P,transparent:!0,transparentIndex:W,dispose:1})}return $=fe,L||z.html("Rendered frame <b>"+ee.toString()+"</b> out of "+F.toString()),J.next=68,new Promise(function(le){return setTimeout(le,0)});case 68:ee++,J.next=60;break;case 71:ie.finish(),he=ie.bytesView(),he=new Blob([he],{type:"image/gif"}),H=[],this._recording=!1,this.loop(),L||(z.html("Done. Downloading your gif!"),0<k&&setTimeout(function(){return z.remove()},1e3*k)),n.default.prototype.downloadFile(he,x,"gif");case 80:case"end":return J.stop()}},y,this)});var u,f=function(){var y=this,x=arguments;return new Promise(function(M,w){var E=u.apply(y,x);function C(k){i(E,M,w,C,L,"next",k)}function L(k){i(E,M,w,C,L,"throw",k)}C(void 0)})};return function(y,x){return f.apply(this,arguments)}}(),n.default.prototype.image=function(u,f,y,x,B,V,H,z,Q,k,R,P){n.default._validateParameters("image",arguments);var G=u.width,F=u.height,I=(P=P||m.CENTER,R=R||m.CENTER,u.elt&&(G=G!==void 0?G:u.elt.width,F=F!==void 0?F:u.elt.height),u.elt&&u.elt.videoWidth&&!u.canvas&&(G=G!==void 0?G:u.elt.videoWidth,F=F!==void 0?F:u.elt.videoHeight),x||G),B=B||F,V=V||0,H=H||0,z=c(z!==void 0?z:G,G),G=c(Q!==void 0?Q:F,F),Q=1;u.elt&&!u.canvas&&u.elt.style.width&&(Q=u.elt.videoWidth&&!x?u.elt.videoWidth:u.elt.width,Q/=parseInt(u.elt.style.width,10)),V*=Q,H*=Q,G*=Q,z*=Q,F=h(k,R,P,(F=d.default.modeAdjust(f,y,I,B,this._renderer._imageMode)).x,F.y,F.w,F.h,V,H,z,G),this._renderer.image(u,F.sx,F.sy,F.sw,F.sh,F.dx,F.dy,F.dw,F.dh)},n.default.prototype.tint=function(){for(var u=arguments.length,f=new Array(u),y=0;y<u;y++)f[y]=arguments[y];n.default._validateParameters("tint",f);var x=this.color.apply(this,f);this._renderer._tint=x.levels},n.default.prototype.noTint=function(){this._renderer._tint=null},n.default.prototype._getTintedImageCanvas=n.default.Renderer2D.prototype._getTintedImageCanvas,n.default.prototype.imageMode=function(u){n.default._validateParameters("imageMode",arguments),u!==m.CORNER&&u!==m.CORNERS&&u!==m.CENTER||(this._renderer._imageMode=u)},t=n.default,b.default=t},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/helpers":279,"../core/main":283,"core-js/modules/es.array.copy-within":154,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.typed-array.uint8-clamped-array":243,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,gifenc:253,omggif:256,"regenerator-runtime/runtime":260}],307:[function(t,_,b){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var s=n(t("../core/main")),l=n(t("./filters"));function n(m){return m&&m.__esModule?m:{default:m}}function d(m,p){for(var r=0;r<p.length;r++){var o=p[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(m,o.key,o)}}s.default.Image=function(){function m(o,a){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");this.width=o,this.height=a,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]}var p,r;return p=m,(r=[{key:"pixelDensity",value:function(o){return o!==void 0?(o<=0&&(s.default._friendlyParamError({type:"INVALID_VALUE",format:{types:["Number"]},position:1},"pixelDensity"),o=1),this._pixelDensity=o,this.width/=o,this.height/=o,this):this._pixelDensity}},{key:"_animateGif",value:function(h){var a,i=this.gifProperties,h=h._lastRealFrameTime||window.performance.now();i.lastChangeTime===0&&(i.lastChangeTime=h),i.playing&&(i.timeDisplayed=h-i.lastChangeTime,a=i.frames[i.displayIndex].delay,i.timeDisplayed>=a&&(a=Math.floor(i.timeDisplayed/a),i.timeDisplayed=0,i.lastChangeTime=h,i.displayIndex+=a,i.loopCount=Math.floor(i.displayIndex/i.numFrames),i.loopLimit!==null&&i.loopCount>=i.loopLimit?i.playing=!1:(h=i.displayIndex%i.numFrames,this.drawingContext.putImageData(i.frames[h].image,0,0),i.displayIndex=h,this.setModified(!0))))}},{key:"_setProperty",value:function(o,a){this[o]=a,this.setModified(!0)}},{key:"loadPixels",value:function(){s.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)}},{key:"updatePixels",value:function(o,a,i,h){s.default.Renderer2D.prototype.updatePixels.call(this,o,a,i,h),this.setModified(!0)}},{key:"get",value:function(o,a,i,h){return s.default._validateParameters("p5.Image.get",arguments),s.default.Renderer2D.prototype.get.apply(this,arguments)}},{key:"_getPixel",value:function(){for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return s.default.Renderer2D.prototype._getPixel.apply(this,a)}},{key:"set",value:function(o,a,i){s.default.Renderer2D.prototype.set.call(this,o,a,i),this.setModified(!0)}},{key:"resize",value:function(o,a){o===0&&a===0?(o=this.canvas.width,a=this.canvas.height):o===0?o=this.canvas.width*a/this.canvas.height:a===0&&(a=this.canvas.height*o/this.canvas.width),o=Math.floor(o),a=Math.floor(a);var i=document.createElement("canvas");if(i.width=o,i.height=a,this.gifProperties)for(var h=this.gifProperties,c=0;c<h.numFrames;c++){for(var u=this.drawingContext.createImageData(o,a),f=(E=E=w=M=x=void 0,h.frames[c].image),y=u,x=0,M=0;M<y.height;M++)for(var w=0;w<y.width;w++){var E=Math.floor(w*f.width/y.width),E=4*(Math.floor(M*f.height/y.height)*f.width+E);y.data[x++]=f.data[E++],y.data[x++]=f.data[E++],y.data[x++]=f.data[E++],y.data[x++]=f.data[+E]}h.frames[c].image=u}i.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,i.width,i.height),this.canvas.width=this.width=o,this.canvas.height=this.height=a,this.drawingContext.drawImage(i,0,0,o,a,0,0,o,a),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)}},{key:"copy",value:function(){for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];s.default.prototype.copy.apply(this,a)}},{key:"mask",value:function(o){var a=this.drawingContext.globalCompositeOperation,i=this._pixelDensity,h=1,c=[o=o===void 0?this:o,0,0,(h=o instanceof s.default.Renderer?o._pInst._pixelDensity:h)*o.width,h*o.height,0,0,i*this.width,i*this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(var u=0;u<this.gifProperties.frames.length;u++)this.drawingContext.putImageData(this.gifProperties.frames[u].image,0,0),this.copy.apply(this,c),this.gifProperties.frames[u].image=this.drawingContext.getImageData(0,0,i*this.width,i*this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else this.copy.apply(this,c);this.drawingContext.globalCompositeOperation=a,this.setModified(!0)}},{key:"filter",value:function(o,a){l.default.apply(this.canvas,l.default[o],a),this.setModified(!0)}},{key:"blend",value:function(){for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];s.default._validateParameters("p5.Image.blend",arguments),s.default.prototype.blend.apply(this,a),this.setModified(!0)}},{key:"setModified",value:function(o){this._modified=o}},{key:"isModified",value:function(){return this._modified}},{key:"save",value:function(o,a){this.gifProperties?s.default.prototype.encodeAndDownloadGif(this,o):s.default.prototype.saveCanvas(this.canvas,o,a)}},{key:"reset",value:function(){var o;this.gifProperties&&((o=this.gifProperties).playing=!0,o.timeSinceStart=0,o.timeDisplayed=0,o.lastChangeTime=0,o.loopCount=0,o.displayIndex=0,this.drawingContext.putImageData(o.frames[0].image,0,0))}},{key:"getCurrentFrame",value:function(){var o;if(this.gifProperties)return(o=this.gifProperties).displayIndex%o.numFrames}},{key:"setFrame",value:function(o){var a;this.gifProperties&&(o<(a=this.gifProperties).numFrames&&0<=o?(a.timeDisplayed=0,a.lastChangeTime=0,a.displayIndex=o,this.drawingContext.putImageData(a.frames[o].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero."))}},{key:"numFrames",value:function(){if(this.gifProperties)return this.gifProperties.numFrames}},{key:"play",value:function(){this.gifProperties&&(this.gifProperties.playing=!0)}},{key:"pause",value:function(){this.gifProperties&&(this.gifProperties.playing=!1)}},{key:"delay",value:function(o,a){if(this.gifProperties){var i=this.gifProperties;if(a<i.numFrames&&0<=a)i.frames[a].delay=o;else{var h=!0,a=!1,c=void 0;try{for(var u,f=i.frames[Symbol.iterator]();!(h=(u=f.next()).done);h=!0)u.value.delay=o}catch(x){a=!0,c=x}finally{try{h||f.return==null||f.return()}finally{if(a)throw c}}}}}}])&&d(p.prototype,r),m}(),t=s.default.Image,b.default=t},{"../core/main":283,"./filters":304,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],308:[function(t,_,b){t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.filter"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var s=n(t("../core/main")),l=n(t("./filters"));function n(d){return d&&d.__esModule?d:{default:d}}t("../color/p5.Color"),s.default.prototype.pixels=[],s.default.prototype.blend=function(){for(var d,m=arguments.length,p=new Array(m),r=0;r<m;r++)p[r]=arguments[r];s.default._validateParameters("blend",p),this._renderer?(d=this._renderer).blend.apply(d,p):s.default.Renderer2D.prototype.blend.apply(this,p)},s.default.prototype.copy=function(){for(var d,m,p,r,o,a,i,h,c,u=arguments.length,f=new Array(u),y=0;y<u;y++)f[y]=arguments[y];if(s.default._validateParameters("copy",f),f.length===9)d=f[0],m=f[1],p=f[2],r=f[3],o=f[4],a=f[5],i=f[6],h=f[7],c=f[8];else{if(f.length!==8)throw new Error("Signature not supported");d=this,m=f[0],p=f[1],r=f[2],o=f[3],a=f[4],i=f[5],h=f[6],c=f[7]}s.default.prototype._copyHelper(this,d,m,p,r,o,a,i,h,c)},s.default.prototype._copyHelper=function(d,m,p,r,o,a,i,h,c,u){var f=m.canvas.width/m.width,y=0,x=0;m._renderer&&m._renderer.isP3D&&(y=m.width/2,x=m.height/2),d._renderer&&d._renderer.isP3D?(d.push(),d.resetMatrix(),d.noLights(),d.blendMode(d.BLEND),d.imageMode(d.CORNER),s.default.RendererGL.prototype.image.call(d._renderer,m,p+y,r+x,o,a,i,h,c,u),d.pop()):d.drawingContext.drawImage(m.canvas,f*(p+y),f*(r+x),f*o,f*a,i,h,c,u)},s.default.prototype.getFilterGraphicsLayer=function(){return this._renderer.getFilterGraphicsLayer()},s.default.prototype.filter=function(){for(var d=arguments.length,m=new Array(d),p=0;p<d;p++)m[p]=arguments[p];s.default._validateParameters("filter",m);var i=(function(){var h,c={shader:void 0,operation:void 0,value:void 0,useWebGL:!0};return(arguments.length<=0?void 0:arguments[0])instanceof s.default.Shader?c.shader=arguments.length<=0?void 0:arguments[0]:(c.operation=arguments.length<=0?void 0:arguments[0],1<arguments.length&&typeof(arguments.length<=1?void 0:arguments[1])=="number"&&(c.value=arguments.length<=1?void 0:arguments[1]),((h=arguments.length-1)<0||arguments.length<=h?void 0:arguments[h])===!1&&(c.useWebGL=!1)),c}).apply(void 0,m),r=i.shader,o=i.operation,a=i.value,i=i.useWebGL;this._renderer.isP3D&&r?s.default.RendererGL.prototype.filter.call(this._renderer,r):i||this._renderer.isP3D?(!i&&this._renderer.isP3D&&console.warn("filter() with useWebGL=false is not supported in WEBGL"),this._renderer.isP3D?s.default.RendererGL.prototype.filter.call(this._renderer,o,a):((r=this.getFilterGraphicsLayer()).copy(this._renderer,0,0,this.width,this.height,-this.width/2,-this.height/2,this.width,this.height),this._renderer.clear(),this._renderer.resetMatrix(),r.filter.apply(r,m),this.copy(r._renderer,0,0,this.width,this.height,0,0,this.width,this.height),r.clear())):this.canvas!==void 0?l.default.apply(this.canvas,l.default[o],a):l.default.apply(this.elt,l.default[o],a)},s.default.prototype.get=function(d,m,p,r){var o;return s.default._validateParameters("get",arguments),(o=this._renderer).get.apply(o,arguments)},s.default.prototype.loadPixels=function(){for(var d=arguments.length,m=new Array(d),p=0;p<d;p++)m[p]=arguments[p];s.default._validateParameters("loadPixels",m),this._renderer.loadPixels()},s.default.prototype.set=function(d,m,p){this._renderer.set(d,m,p)},s.default.prototype.updatePixels=function(d,m,p,r){s.default._validateParameters("updatePixels",arguments),this.pixels.length!==0&&this._renderer.updatePixels(d,m,p,r)},t=s.default,b.default=t},{"../color/p5.Color":270,"../core/main":283,"./filters":304,"core-js/modules/es.array.filter":157}],309:[function(t,_,b){function s(a){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(a)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var l=m(t("../core/main")),n=(t("whatwg-fetch"),t("es6-promise/auto"),m(t("fetch-jsonp"))),d=m(t("file-saver"));function m(a){return a&&a.__esModule?a:{default:a}}function p(a){return(p=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(i){return s(i)}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":s(i)})(a)}function r(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function o(a,i){i&&i!==!0&&i!=="true"||(i="");var h="";return(a=a||"untitled")&&a.includes(".")&&(h=a.split(".").pop()),i&&h!==i&&(h=i,a="".concat(a,".").concat(h)),[a,h]}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),l.default.prototype.loadJSON=function(){for(var a=arguments.length,i=new Array(a),h=0;h<a;h++)i[h]=arguments[h];l.default._validateParameters("loadJSON",i);for(var c,u,f,y=i[0],x={},M="json",w=1;w<i.length;w++){var E=i[w];typeof E=="string"?E!=="jsonp"&&E!=="json"||(M=E):typeof E=="function"?c?u=E:c=E:p(E)==="object"&&(E.hasOwnProperty("jsonpCallback")||E.hasOwnProperty("jsonpCallbackFunction"))&&(M="jsonp",f=E)}var C=this;return this.httpDo(y,"GET",f,M,function(L){for(var k in L)x[k]=L[k];c!==void 0&&c(L),C._decrementPreload()},function(L){if(l.default._friendlyFileLoadError(5,y),!u)throw L;u(L)}),x},l.default.prototype.loadStrings=function(){for(var a=arguments.length,i=new Array(a),h=0;h<a;h++)i[h]=arguments[h];l.default._validateParameters("loadStrings",i);for(var c,u,f=[],y=1;y<i.length;y++){var x=i[y];typeof x=="function"&&(c===void 0?c=x:u===void 0&&(u=x))}var M=this;return l.default.prototype.httpDo.call(this,i[0],"GET","text",function(w){for(var E=w.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),C=0,L=E.length;C<L;C+=32768)Array.prototype.push.apply(f,E.slice(C,Math.min(C+32768,L)));c!==void 0&&c(f),M._decrementPreload()},function(w){if(l.default._friendlyFileLoadError(3,w),!u)throw w;u(w)}),f},l.default.prototype.loadTable=function(a){var i,h,c,u=!1,f=a.substring(a.lastIndexOf(".")+1,a.length);f==="csv"?c=",":f==="ssv"?c=";":f==="tsv"&&(c="	");for(var y=1;y<arguments.length;y++)typeof arguments[y]=="function"?i===void 0?i=arguments[y]:h===void 0&&(h=arguments[y]):typeof arguments[y]=="string"&&(arguments[y]==="header"&&(u=!0),arguments[y]==="csv"?c=",":arguments[y]==="ssv"?c=";":arguments[y]==="tsv"&&(c="	"));var x=new l.default.Table,M=this;return this.httpDo(a,"GET","table",function(w){for(var E,C,L={},k=0,R=[],P=0,F=null,I=function(){L.currentState=k,L.token=""},B=function(){F.push(L.token),I()},V=function(){L.currentState=4,R.push(F),F=null};;){if((E=w[P++])==null){if(L.escaped)throw new Error("Unclosed quote in file.");if(F){B(),V();break}}if(F===null&&(L.escaped=!1,F=[],I()),L.currentState===k){if(E==='"'){L.escaped=!0,L.currentState=1;continue}L.currentState=1}if(L.currentState===1&&L.escaped)if(E==='"')w[P]==='"'?(L.token+='"',P++):(L.escaped=!1,L.currentState=2);else{if(E==="\r")continue;L.token+=E}else E==="\r"?(w[P]===`
`&&P++,B(),V()):E===`
`?(B(),V()):E===c?B():L.currentState===1&&(L.token+=E)}if(u)x.columns=R.shift();else for(var H=0;H<R[0].length;H++)x.columns[H]="null";for(var z=0;z<R.length;z++)(R[z].length!==1||R[z][0]!=="undefined"&&R[z][0]!=="")&&((C=new l.default.TableRow).arr=R[z],C.obj=function(G,Q){if((Q=Q||[])===void 0)for(var ie=0;ie<G.length;ie++)Q[ie.toString()]=ie;return Object.fromEntries(Q.map(function(T,D){return[T,G[D]]}))}(R[z],x.columns),x.addRow(C));typeof i=="function"&&i(x),M._decrementPreload()},function(w){l.default._friendlyFileLoadError(2,a),h?h(w):console.error(w)}),x},l.default.prototype.loadXML=function(){for(var a=arguments.length,i=new Array(a),h=0;h<a;h++)i[h]=arguments[h];for(var c,u,f=new l.default.XML,y=1;y<i.length;y++){var x=i[y];typeof x=="function"&&(c===void 0?c=x:u===void 0&&(u=x))}var M=this;return this.httpDo(i[0],"GET","xml",function(w){for(var E in w)f[E]=w[E];c!==void 0&&c(f),M._decrementPreload()},function(w){if(l.default._friendlyFileLoadError(1,w),!u)throw w;u(w)}),f},l.default.prototype.loadBytes=function(a,i,h){var c={},u=this;return this.httpDo(a,"GET","arrayBuffer",function(f){c.bytes=new Uint8Array(f),typeof i=="function"&&i(c),u._decrementPreload()},function(f){if(l.default._friendlyFileLoadError(6,a),!h)throw f;h(f)}),c},l.default.prototype.httpGet=function(){for(var a=arguments.length,i=new Array(a),h=0;h<a;h++)i[h]=arguments[h];return l.default._validateParameters("httpGet",i),i.splice(1,0,"GET"),l.default.prototype.httpDo.apply(this,i)},l.default.prototype.httpPost=function(){for(var a=arguments.length,i=new Array(a),h=0;h<a;h++)i[h]=arguments[h];return l.default._validateParameters("httpPost",i),i.splice(1,0,"POST"),l.default.prototype.httpDo.apply(this,i)},l.default.prototype.httpDo=function(){for(var a,i,h,c={},u=0,f="text/plain",y=arguments.length-1;0<y&&typeof(y<0||arguments.length<=y?void 0:arguments[y])=="function";y--)u++;var x=arguments.length-u,M=arguments.length<=0?void 0:arguments[0];if(x==2&&typeof M=="string"&&p(arguments.length<=1?void 0:arguments[1])==="object")R=new Request(M,arguments.length<=1?void 0:arguments[1]),i=arguments.length<=2?void 0:arguments[2],h=arguments.length<=3?void 0:arguments[3];else{for(var w,E="GET",C=1;C<arguments.length;C++){var L=C<0||arguments.length<=C?void 0:arguments[C];if(typeof L=="string")L==="GET"||L==="POST"||L==="PUT"||L==="DELETE"?E=L:L==="json"||L==="jsonp"||L==="binary"||L==="arrayBuffer"||L==="xml"||L==="text"||L==="table"?a=L:w=L;else if(typeof L=="number")w=L.toString();else if(p(L)==="object")if(L.hasOwnProperty("jsonpCallback")||L.hasOwnProperty("jsonpCallbackFunction"))for(var k in L)c[k]=L[k];else f=L instanceof l.default.XML?(w=L.serialize(),"application/xml"):(w=JSON.stringify(L),"application/json");else typeof L=="function"&&(i?h=L:i=L)}var x=E==="GET"?new Headers:new Headers({"Content-Type":f}),R=new Request(M,{method:E,mode:"cors",body:w,headers:x})}return(x=(x=(a=a||(M.includes("json")?"json":M.includes("xml")?"xml":"text"))==="jsonp"?(0,n.default)(M,c):fetch(R)).then(function(P){if(!P.ok)throw(F=new Error(P.body)).status=P.status,F.ok=!1,F;var F=0;switch((F=a!=="jsonp"?P.headers.get("content-length"):F)&&64e6<F&&l.default._friendlyFileLoadError(7,M),a){case"json":case"jsonp":return P.json();case"binary":return P.blob();case"arrayBuffer":return P.arrayBuffer();case"xml":return P.text().then(function(I){return I=new DOMParser().parseFromString(I,"text/xml"),new l.default.XML(I.documentElement)});default:return P.text()}})).then(i||function(){}),x.catch(h||console.error),x},window.URL=window.URL||window.webkitURL,l.default.prototype._pWriters=[],l.default.prototype.createWriter=function(a,i){var h,c;for(c in l.default.prototype._pWriters)if(l.default.prototype._pWriters[c].name===a)return h=new l.default.PrintWriter(a+this.millis(),i),l.default.prototype._pWriters.push(h),h;return h=new l.default.PrintWriter(a,i),l.default.prototype._pWriters.push(h),h},l.default.PrintWriter=function(a,i){var h=this;this.name=a,this.content="",this.write=function(c){this.content+=c},this.print=function(c){this.content+="".concat(c,`
`)},this.clear=function(){this.content=""},this.close=function(){var c,u=[];for(c in u.push(this.content),l.default.prototype.writeFile(u,a,i),l.default.prototype._pWriters)l.default.prototype._pWriters[c].name===this.name&&l.default.prototype._pWriters.splice(c,1);h.clear(),h={}}},l.default.prototype.save=function(a,i,h){var c=arguments,u=(this._curElement||this).elt;if(c.length===0)l.default.prototype.saveCanvas(u);else if(c[0]instanceof l.default.Renderer||c[0]instanceof l.default.Graphics)l.default.prototype.saveCanvas(c[0].elt,c[1],c[2]);else if(c.length===1&&typeof c[0]=="string")l.default.prototype.saveCanvas(u,c[0]);else switch(o(c[1],c[2])[1]){case"json":return void l.default.prototype.saveJSON(c[0],c[1],c[2]);case"txt":return void l.default.prototype.saveStrings(c[0],c[1],c[2]);default:c[0]instanceof Array?l.default.prototype.saveStrings(c[0],c[1],c[2]):c[0]instanceof l.default.Table?l.default.prototype.saveTable(c[0],c[1],c[2]):c[0]instanceof l.default.Image?l.default.prototype.saveCanvas(c[0].canvas,c[1]):c[0]instanceof l.default.SoundFile&&l.default.prototype.saveSound(c[0],c[1],c[2],c[3])}},l.default.prototype.saveJSON=function(a,i,h){l.default._validateParameters("saveJSON",arguments),h=h?JSON.stringify(a):JSON.stringify(a,void 0,2),this.saveStrings(h.split(`
`),i,"json")},l.default.prototype.saveJSONObject=l.default.prototype.saveJSON,l.default.prototype.saveJSONArray=l.default.prototype.saveJSON,l.default.prototype.saveStrings=function(a,i,h,c){l.default._validateParameters("saveStrings",arguments);for(var u=this.createWriter(i,h||"txt"),f=0;f<a.length;f++)c?u.write(a[f]+`\r
`):u.write(a[f]+`
`);u.close(),u.clear()},l.default.prototype.saveTable=function(a,i,h){l.default._validateParameters("saveTable",arguments),c=h===void 0?i.substring(i.lastIndexOf(".")+1,i.length):h;var c,u=this.createWriter(i,c),f=a.columns,y=c==="tsv"?"	":",";if(c!=="html"){if(f[0]!=="0"){for(var x=0;x<f.length;x++)x<f.length-1?u.write(f[x]+y):u.write(f[x]);u.write(`
`)}for(var M=0;M<a.rows.length;M++){for(var w=void 0,w=0;w<a.rows[M].arr.length;w++)w<a.rows[M].arr.length-1?c==="csv"&&String(a.rows[M].arr[w]).includes(",")?u.write('"'+a.rows[M].arr[w]+'"'+y):u.write(a.rows[M].arr[w]+y):c==="csv"&&String(a.rows[M].arr[w]).includes(",")?u.write('"'+a.rows[M].arr[w]+'"'):u.write(a.rows[M].arr[w]);u.write(`
`)}}else{if(u.print("<html>"),u.print("<head>"),u.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),u.print("</head>"),u.print("<body>"),u.print("  <table>"),f[0]!=="0"){u.print("    <tr>");for(var E=0;E<f.length;E++){var C=r(f[E]);u.print("      <td>".concat(C)),u.print("      </td>")}u.print("    </tr>")}for(var L=0;L<a.rows.length;L++){u.print("    <tr>");for(var k=0;k<a.columns.length;k++){var R=r(a.rows[L].getString(k));u.print("      <td>".concat(R)),u.print("      </td>")}u.print("    </tr>")}u.print("  </table>"),u.print("</body>"),u.print("</html>")}u.close(),u.clear()},l.default.prototype.writeFile=function(u,i,h){var c="application/octet-stream",u=(l.default.prototype._isSafari()&&(c="text/plain"),new Blob(u,{type:c}));l.default.prototype.downloadFile(u,i,h)},l.default.prototype.downloadFile=function(a,u,f){var c,u=o(u,f),f=u[0];a instanceof Blob?d.default.saveAs(a,f):((c=document.createElement("a")).href=a,c.download=f,c.onclick=function(y){document.body.removeChild(y.target),y.stopPropagation()},c.style.display="none",document.body.appendChild(c),l.default.prototype._isSafari()&&(a=(a=`Hello, Safari user! To download this file...
1. Go to File --> Save As.
2. Choose "Page Source" as the Format.
`)+'3. Name it with this extension: ."'.concat(u[1],'"'),alert(a)),c.click())},l.default.prototype._checkFileExtension=o,l.default.prototype._isSafari=function(){return window.HTMLElement.toString().includes("Constructor")},t=l.default,b.default=t},{"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.object.from-entries":185,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.iterator":246,"core-js/modules/web.url":248,"es6-promise/auto":249,"fetch-jsonp":251,"file-saver":252,"whatwg-fetch":261}],310:[function(t,_,b){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var s=(t=t("../core/main"))&&t.__esModule?t:{default:t};function l(n,d){for(var m=0;m<d.length;m++){var p=d[m];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(n,p.key,p)}}s.default.Table=function(){function n(){var p=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[],r=this,o=n;if(!(r instanceof o))throw new TypeError("Cannot call a class as a function");this.columns=[],this.rows=p}var d,m;return d=n,(m=[{key:"addRow",value:function(p){if(p=p||new s.default.TableRow,p.arr===void 0||p.obj===void 0)throw new Error("invalid TableRow: ".concat(p));return(p.table=this).rows.push(p),p}},{key:"removeRow",value:function(p){this.rows[p].table=null,p=this.rows.splice(p+1,this.rows.length),this.rows.pop(),this.rows=this.rows.concat(p)}},{key:"getRow",value:function(p){return this.rows[p]}},{key:"getRows",value:function(){return this.rows}},{key:"findRow",value:function(p,r){if(typeof r=="string"){for(var o=0;o<this.rows.length;o++)if(this.rows[o].obj[r]===p)return this.rows[o]}else for(var a=0;a<this.rows.length;a++)if(this.rows[a].arr[r]===p)return this.rows[a];return null}},{key:"findRows",value:function(p,r){var o=[];if(typeof r=="string")for(var a=0;a<this.rows.length;a++)this.rows[a].obj[r]===p&&o.push(this.rows[a]);else for(var i=0;i<this.rows.length;i++)this.rows[i].arr[r]===p&&o.push(this.rows[i]);return o}},{key:"matchRow",value:function(p,r){if(typeof r=="number"){for(var o=0;o<this.rows.length;o++)if(this.rows[o].arr[r].match(p))return this.rows[o]}else for(var a=0;a<this.rows.length;a++)if(this.rows[a].obj[r].match(p))return this.rows[a];return null}},{key:"matchRows",value:function(p,r){var o=[];if(typeof r=="number")for(var a=0;a<this.rows.length;a++)this.rows[a].arr[r].match(p)&&o.push(this.rows[a]);else for(var i=0;i<this.rows.length;i++)this.rows[i].obj[r].match(p)&&o.push(this.rows[i]);return o}},{key:"getColumn",value:function(p){var r=[];if(typeof p=="string")for(var o=0;o<this.rows.length;o++)r.push(this.rows[o].obj[p]);else for(var a=0;a<this.rows.length;a++)r.push(this.rows[a].arr[p]);return r}},{key:"clearRows",value:function(){delete this.rows,this.rows=[]}},{key:"addColumn",value:function(p){this.columns.push(p||null)}},{key:"getColumnCount",value:function(){return this.columns.length}},{key:"getRowCount",value:function(){return this.rows.length}},{key:"removeTokens",value:function(p,r){for(var o=[],a=0;a<p.length;a++)o.push(p.charAt(a).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var i=new RegExp(o.join("|"),"g");if(r===void 0)for(var h=0;h<this.columns.length;h++)for(var c=0;c<this.rows.length;c++){var u=(u=this.rows[c].arr[h]).replace(i,"");this.rows[c].arr[h]=u,this.rows[c].obj[this.columns[h]]=u}else if(typeof r=="string")for(var f=0;f<this.rows.length;f++){var y=(y=this.rows[f].obj[r]).replace(i,""),x=(this.rows[f].obj[r]=y,this.columns.indexOf(r));this.rows[f].arr[x]=y}else for(var M=0;M<this.rows.length;M++){var w=(w=this.rows[M].arr[r]).replace(i,"");this.rows[M].arr[r]=w,this.rows[M].obj[this.columns[r]]=w}}},{key:"trim",value:function(p){var r=new RegExp(" ","g");if(p===void 0)for(var o=0;o<this.columns.length;o++)for(var a=0;a<this.rows.length;a++){var i=(i=this.rows[a].arr[o]).replace(r,"");this.rows[a].arr[o]=i,this.rows[a].obj[this.columns[o]]=i}else if(typeof p=="string")for(var h=0;h<this.rows.length;h++){var c=(c=this.rows[h].obj[p]).replace(r,""),u=(this.rows[h].obj[p]=c,this.columns.indexOf(p));this.rows[h].arr[u]=c}else for(var f=0;f<this.rows.length;f++){var y=(y=this.rows[f].arr[p]).replace(r,"");this.rows[f].arr[p]=y,this.rows[f].obj[this.columns[p]]=y}}},{key:"removeColumn",value:function(a){typeof a=="string"?o=this.columns.indexOf(r=a):r=this.columns[o=a];var r,o,a=this.columns.splice(o+1,this.columns.length);this.columns.pop(),this.columns=this.columns.concat(a);for(var i=0;i<this.rows.length;i++){var h=this.rows[i].arr,c=h.splice(o+1,h.length);h.pop(),this.rows[i].arr=h.concat(c),delete this.rows[i].obj[r]}}},{key:"set",value:function(p,r,o){this.rows[p].set(r,o)}},{key:"setNum",value:function(p,r,o){this.rows[p].setNum(r,o)}},{key:"setString",value:function(p,r,o){this.rows[p].setString(r,o)}},{key:"get",value:function(p,r){return this.rows[p].get(r)}},{key:"getNum",value:function(p,r){return this.rows[p].getNum(r)}},{key:"getString",value:function(p,r){return this.rows[p].getString(r)}},{key:"getObject",value:function(p){for(var r,o={},a=0;a<this.rows.length;a++)if(r=this.rows[a].obj,typeof p=="string"){if(!(0<=this.columns.indexOf(p)))throw new Error('This table has no column named "'.concat(p,'"'));o[r[p]]=r}else o[a]=this.rows[a].obj;return o}},{key:"getArray",value:function(){for(var p=[],r=0;r<this.rows.length;r++)p.push(this.rows[r].arr);return p}}])&&l(d.prototype,m),n}(),t=s.default,b.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.join":166,"core-js/modules/es.array.splice":171,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204}],311:[function(t,_,b){t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function s(l,n){for(var d=0;d<n.length;d++){var m=n[d];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(l,m.key,m)}}t.default.TableRow=function(){function l(m,p){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");var r=[];m&&(r=m.split(p=p||",")),this.arr=r,this.obj=Object.fromEntries(r.entries()),this.table=null}var n,d;return n=l,(d=[{key:"set",value:function(m,p){if(typeof m=="string"){var r=this.table.columns.indexOf(m);if(!(0<=r))throw new Error('This table has no column named "'.concat(m,'"'));this.obj[m]=p,this.arr[r]=p}else{if(!(m<this.table.columns.length))throw new Error("Column #".concat(m," is out of the range of this table"));this.arr[m]=p,r=this.table.columns[m],this.obj[r]=p}}},{key:"setNum",value:function(m,p){p=parseFloat(p),this.set(m,p)}},{key:"setString",value:function(m,p){p=p.toString(),this.set(m,p)}},{key:"get",value:function(m){return(typeof m=="string"?this.obj:this.arr)[m]}},{key:"getNum",value:function(m){var p=parseFloat(typeof m=="string"?this.obj[m]:this.arr[m]);if(p.toString()==="NaN")throw"Error: ".concat(this.obj[m]," is NaN (Not a Number)");return p}},{key:"getString",value:function(m){return(typeof m=="string"?this.obj:this.arr)[m].toString()}}])&&s(n.prototype,d),l}(),t=t.default,b.default=t},{"../core/main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.from-entries":185,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.split":206,"core-js/modules/web.dom-collections.iterator":246}],312:[function(t,_,b){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var s=(t=t("../core/main"))&&t.__esModule?t:{default:t};function l(d,m){for(var p=0;p<m.length;p++){var r=m[p];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(d,r.key,r)}}function n(d){for(var m=[],p=0;p<d.length;p++)m.push(new s.default.XML(d[p]));return m}s.default.XML=function(){function d(r){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");r?this.DOM=r:(r=document.implementation.createDocument(null,"doc"),this.DOM=r.createElement("root"))}var m,p;return m=d,(p=[{key:"getParent",value:function(){return new s.default.XML(this.DOM.parentElement)}},{key:"getName",value:function(){return this.DOM.tagName}},{key:"setName",value:function(r){var o=this.DOM.innerHTML,a=this.DOM.attributes,i=document.implementation.createDocument(null,"default").createElement(r);i.innerHTML=o;for(var h=0;h<a.length;h++)i.setAttribute(a[h].nodeName,a[h].nodeValue);this.DOM=i}},{key:"hasChildren",value:function(){return 0<this.DOM.children.length}},{key:"listChildren",value:function(){for(var r=[],o=0;o<this.DOM.childNodes.length;o++)r.push(this.DOM.childNodes[o].nodeName);return r}},{key:"getChildren",value:function(r){return n(r?this.DOM.getElementsByTagName(r):this.DOM.children)}},{key:"getChild",value:function(r){if(typeof r!="string")return new s.default.XML(this.DOM.children[r]);var o=!0,a=!1,i=void 0;try{for(var h,c=this.DOM.children[Symbol.iterator]();!(o=(h=c.next()).done);o=!0){var u=h.value;if(u.tagName===r)return new s.default.XML(u)}}catch(f){a=!0,i=f}finally{try{o||c.return==null||c.return()}finally{if(a)throw i}}}},{key:"addChild",value:function(r){r instanceof s.default.XML&&this.DOM.appendChild(r.DOM)}},{key:"removeChild",value:function(r){var o=-1;if(typeof r=="string"){for(var a=0;a<this.DOM.children.length;a++)if(this.DOM.children[a].tagName===r){o=a;break}}else o=r;o!==-1&&this.DOM.removeChild(this.DOM.children[o])}},{key:"getAttributeCount",value:function(){return this.DOM.attributes.length}},{key:"listAttributes",value:function(){var r=[],o=!0,a=!1,i=void 0;try{for(var h,c=this.DOM.attributes[Symbol.iterator]();!(o=(h=c.next()).done);o=!0){var u=h.value;r.push(u.nodeName)}}catch(f){a=!0,i=f}finally{try{o||c.return==null||c.return()}finally{if(a)throw i}}return r}},{key:"hasAttribute",value:function(r){var o={},a=!0,i=!1,h=void 0;try{for(var c,u=this.DOM.attributes[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var f=c.value;o[f.nodeName]=f.nodeValue}}catch(y){i=!0,h=y}finally{try{a||u.return==null||u.return()}finally{if(i)throw h}}return!!o[r]}},{key:"getNum",value:function(r,o){var a={},i=!0,h=!1,c=void 0;try{for(var u,f=this.DOM.attributes[Symbol.iterator]();!(i=(u=f.next()).done);i=!0){var y=u.value;a[y.nodeName]=y.nodeValue}}catch(x){h=!0,c=x}finally{try{i||f.return==null||f.return()}finally{if(h)throw c}}return Number(a[r])||o||0}},{key:"getString",value:function(r,o){var a={},i=!0,h=!1,c=void 0;try{for(var u,f=this.DOM.attributes[Symbol.iterator]();!(i=(u=f.next()).done);i=!0){var y=u.value;a[y.nodeName]=y.nodeValue}}catch(x){h=!0,c=x}finally{try{i||f.return==null||f.return()}finally{if(h)throw c}}return a[r]?String(a[r]):o||null}},{key:"setAttribute",value:function(r,o){this.DOM.setAttribute(r,o)}},{key:"getContent",value:function(r){var o=this.DOM.textContent;return(o=o.replace(/\s\s+/g,","))||r||null}},{key:"setContent",value:function(r){this.DOM.children.length||(this.DOM.textContent=r)}},{key:"serialize",value:function(){return new XMLSerializer().serializeToString(this.DOM)}}])&&l(m.prototype,p),d}(),t=s.default,b.default=t},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],313:[function(t,_,b){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.string.includes"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var s=(t=t("../core/main"))&&t.__esModule?t:{default:t};function l(n){return function(d){if(Array.isArray(d)){for(var m=0,p=new Array(d.length);m<d.length;m++)p[m]=d[m];return p}}(n)||function(d){if(Symbol.iterator in Object(d)||Object.prototype.toString.call(d)==="[object Arguments]")return Array.from(d)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}s.default.prototype.abs=Math.abs,s.default.prototype.ceil=Math.ceil,s.default.prototype.constrain=function(n,d,m){return s.default._validateParameters("constrain",arguments),Math.max(Math.min(n,m),d)},s.default.prototype.dist=function(){for(var n=arguments.length,d=new Array(n),m=0;m<n;m++)d[m]=arguments[m];return s.default._validateParameters("dist",d),d.length===4?Math.hypot(d[2]-d[0],d[3]-d[1]):d.length===6?Math.hypot(d[3]-d[0],d[4]-d[1],d[5]-d[2]):void 0},s.default.prototype.exp=Math.exp,s.default.prototype.floor=Math.floor,s.default.prototype.lerp=function(n,d,m){return s.default._validateParameters("lerp",arguments),m*(d-n)+n},s.default.prototype.log=Math.log,s.default.prototype.mag=function(n,d){return s.default._validateParameters("mag",arguments),Math.hypot(n,d)},s.default.prototype.map=function(n,d,m,p,r,o){return s.default._validateParameters("map",arguments),n=(n-d)/(m-d)*(r-p)+p,o?p<r?this.constrain(n,p,r):this.constrain(n,r,p):n},s.default.prototype.max=function(){for(var n=function(r){return Math.max.apply(Math,l(r))},d=arguments.length,m=new Array(d),p=0;p<d;p++)m[p]=arguments[p];return Array.isArray(m[0])?n(m[0]):n(m)},s.default.prototype.min=function(){for(var n=function(r){return Math.min.apply(Math,l(r))},d=arguments.length,m=new Array(d),p=0;p<d;p++)m[p]=arguments[p];return Array.isArray(m[0])?n(m[0]):n(m)},s.default.prototype.norm=function(n,d,m){return s.default._validateParameters("norm",arguments),this.map(n,d,m,0,1)},s.default.prototype.pow=Math.pow,s.default.prototype.round=function(n,d){return d?(d=Math.pow(10,d),Math.round(n*d)/d):Math.round(n)},s.default.prototype.sq=function(n){return n*n},s.default.prototype.sqrt=Math.sqrt,s.default.prototype.fract=function(p){s.default._validateParameters("fract",arguments);var d,m=0,p=Number(p);return isNaN(p)||Math.abs(p)===1/0?p:(p<0&&(p=-p,m=1),String(p).includes(".")&&!String(p).includes("e")?(d=String(p),d=+("0"+d.slice(d.indexOf("."))),Math.abs(m-d)):p<1?Math.abs(m-p):0)},t=s.default,b.default=t},{"../core/main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],314:[function(t,_,b){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var s=(t=t("../core/main"))&&t.__esModule?t:{default:t};function l(d,m,p){return(l=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?Reflect.construct:function(r,o,a){var i=[null];return i.push.apply(i,o),o=new(Function.bind.apply(r,i)),a&&n(o,a.prototype),o}).apply(null,arguments)}function n(d,m){return(n=Object.setPrototypeOf||function(p,r){return p.__proto__=r,p})(d,m)}s.default.prototype.createVector=function(d,m,p){return this instanceof s.default?l(s.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new s.default.Vector(d,m,p)},t=s.default,b.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196}],315:[function(p,_,b){Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0,p=(p=p("../core/main"))&&p.__esModule?p:{default:p};function s(r){return .5*(1-Math.cos(r*Math.PI))}var l,n=4095,d=4,m=.5,p=(p.default.prototype.noise=function(r){var o=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(l==null){l=new Array(4096);for(var i=0;i<4096;i++)l[i]=Math.random()}r<0&&(r=-r),o<0&&(o=-o),a<0&&(a=-a);for(var h,c,u=Math.floor(r),f=Math.floor(o),y=Math.floor(a),x=r-u,M=o-f,w=a-y,E=0,C=.5,L=0;L<d;L++){var k=u+(f<<4)+(y<<8),R=s(x),P=s(M),F=l[k&n];F+=R*(l[k+1&n]-F),h=l[k+16&n],F+=P*((h+=R*(l[k+16+1&n]-h))-F),h=l[(k+=256)&n],h+=R*(l[k+1&n]-h),c=l[k+16&n],h+=P*((c+=R*(l[k+16+1&n]-c))-h),E+=(F+=s(w)*(h-F))*C,C*=m,u<<=1,f<<=1,y<<=1,1<=(x*=2)&&(u++,x--),1<=(M*=2)&&(f++,M--),1<=(w*=2)&&(y++,w--)}return E},p.default.prototype.noiseDetail=function(r,o){0<r&&(d=r),0<o&&(m=o)},p.default.prototype.noiseSeed=function(r){i=4294967296;var o,a,i,h={setSeed:function(u){a=o=(u??Math.random()*i)>>>0},getSeed:function(){return o},rand:function(){return(a=(1664525*a+1013904223)%i)/i}};h.setSeed(r),l=new Array(4096);for(var c=0;c<4096;c++)l[c]=h.rand()},p.default);b.default=p},{"../core/main":283}],316:[function(t,_,b){function s(o){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(o)}function l(o){return(l=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(a){return s(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":s(a)})(o)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.number.epsilon"),t("core-js/modules/es.number.is-finite"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.some"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.number.epsilon"),t("core-js/modules/es.number.is-finite"),t("core-js/modules/es.string.sub"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var n=(r=t("../core/main"))&&r.__esModule?r:{default:r},d=function(o){if(o&&o.__esModule)return o;if(o===null||l(o)!=="object"&&typeof o!="function")return{default:o};var a=m();if(a&&a.has(o))return a.get(o);var i,h={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in o){var u;Object.prototype.hasOwnProperty.call(o,i)&&((u=c?Object.getOwnPropertyDescriptor(o,i):null)&&(u.get||u.set)?Object.defineProperty(h,i,u):h[i]=o[i])}return h.default=o,a&&a.set(o,h),h}(t("../core/constants"));function m(){var o;return typeof WeakMap!="function"?null:(o=new WeakMap,m=function(){return o},o)}function p(o,a){for(var i=0;i<a.length;i++){var h=a[i];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(o,h.key,h)}}n.default.Vector=function(){function o(){var y=this,c=o;if(!(y instanceof c))throw new TypeError("Cannot call a class as a function");var u,f,y=typeof(arguments.length<=0?void 0:arguments[0])=="function"?(this.isPInst=!0,this._fromRadians=arguments.length<=0?void 0:arguments[0],this._toRadians=arguments.length<=1?void 0:arguments[1],u=(arguments.length<=2?void 0:arguments[2])||0,f=(arguments.length<=3?void 0:arguments[3])||0,(arguments.length<=4?void 0:arguments[4])||0):(u=(arguments.length<=0?void 0:arguments[0])||0,f=(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0);this.x=u,this.y=f,this.z=y}var a,i,h;return a=o,h=[{key:"fromAngle",value:function(c){var u=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;return new n.default.Vector(u*Math.cos(c),u*Math.sin(c),0)}},{key:"fromAngles",value:function(w,x){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:1,y=Math.cos(x),x=Math.sin(x),M=Math.cos(w),w=Math.sin(w);return new n.default.Vector(f*w*x,-f*M,f*w*y)}},{key:"random2D",value:function(){return this.fromAngle(Math.random()*d.TWO_PI)}},{key:"random3D",value:function(){var c=Math.random()*d.TWO_PI,u=2*Math.random()-1,y=Math.sqrt(1-u*u),f=y*Math.cos(c),y=y*Math.sin(c);return new n.default.Vector(f,y,u)}},{key:"copy",value:function(c){return c.copy(c)}},{key:"add",value:function(){for(var c=arguments.length,u=new Array(c),f=0;f<c;f++)u[f]=arguments[f];var y=u[0],x=u[1],M=u[2];return M?M.set(y):(M=y.copy(),u.length===3&&n.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),M.add(x),M}},{key:"rem",value:function(c,u){if(c instanceof n.default.Vector&&u instanceof n.default.Vector)return(c=c.copy()).rem(u),c}},{key:"sub",value:function(){for(var c=arguments.length,u=new Array(c),f=0;f<c;f++)u[f]=arguments[f];var y=u[0],x=u[1],M=u[2];return M?M.set(y):(M=y.copy(),u.length===3&&n.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),M.sub(x),M}},{key:"mult",value:function(){for(var c=arguments.length,u=new Array(c),f=0;f<c;f++)u[f]=arguments[f];var y=u[0],x=u[1],M=u[2];return M?M.set(y):(M=y.copy(),u.length===3&&n.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),M.mult(x),M}},{key:"rotate",value:function(){for(var c=arguments.length,u=new Array(c),f=0;f<c;f++)u[f]=arguments[f];var y=u[0],x=u[1],M=u[2];return u.length===2?M=y.copy():(M instanceof n.default.Vector||n.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),M.set(y)),M.rotate(x),M}},{key:"div",value:function(){for(var c=arguments.length,u=new Array(c),f=0;f<c;f++)u[f]=arguments[f];var y=u[0],x=u[1],M=u[2];return M?M.set(y):(M=y.copy(),u.length===3&&n.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),M.div(x),M}},{key:"dot",value:function(c,u){return c.dot(u)}},{key:"cross",value:function(c,u){return c.cross(u)}},{key:"dist",value:function(c,u){return c.dist(u)}},{key:"lerp",value:function(){for(var c=arguments.length,u=new Array(c),f=0;f<c;f++)u[f]=arguments[f];var y=u[0],x=u[1],M=u[2],w=u[3];return w?w.set(y):(w=y.copy(),u.length===4&&n.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),w.lerp(x,M),w}},{key:"slerp",value:function(){for(var c=arguments.length,u=new Array(c),f=0;f<c;f++)u[f]=arguments[f];var y=u[0],x=u[1],M=u[2],w=u[3];return w?w.set(y):(w=y.copy(),u.length===4&&n.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.slerp")),w.slerp(x,M),w}},{key:"mag",value:function(c){return c.mag()}},{key:"magSq",value:function(c){return c.magSq()}},{key:"normalize",value:function(){for(var c=arguments.length,u=new Array(c),f=0;f<c;f++)u[f]=arguments[f];var y=u[0],x=u[1];return u.length<2?x=y.copy():(x instanceof n.default.Vector||n.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),x.set(y)),x.normalize()}},{key:"limit",value:function(){for(var c=arguments.length,u=new Array(c),f=0;f<c;f++)u[f]=arguments[f];var y=u[0],x=u[1],M=u[2];return u.length<3?M=y.copy():(M instanceof n.default.Vector||n.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.limit"),M.set(y)),M.limit(x)}},{key:"setMag",value:function(){for(var c=arguments.length,u=new Array(c),f=0;f<c;f++)u[f]=arguments[f];var y=u[0],x=u[1],M=u[2];return u.length<3?M=y.copy():(M instanceof n.default.Vector||n.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.setMag"),M.set(y)),M.setMag(x)}},{key:"heading",value:function(c){return c.heading()}},{key:"angleBetween",value:function(c,u){return c.angleBetween(u)}},{key:"reflect",value:function(){for(var c=arguments.length,u=new Array(c),f=0;f<c;f++)u[f]=arguments[f];var y=u[0],x=u[1],M=u[2];return u.length<3?M=y.copy():(M instanceof n.default.Vector||n.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.reflect"),M.set(y)),M.reflect(x)}},{key:"array",value:function(c){return c.array()}},{key:"equals",value:function(c,u){var f;return c instanceof n.default.Vector?f=c:Array.isArray(c)?f=new n.default.Vector().set(c):n.default._friendlyError("The v1 parameter should be of type Array or p5.Vector","p5.Vector.equals"),f.equals(u)}}],(i=[{key:"toString",value:function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")}},{key:"set",value:function(c,u,f){return c instanceof n.default.Vector?(this.x=c.x||0,this.y=c.y||0,this.z=c.z||0):Array.isArray(c)?(this.x=c[0]||0,this.y=c[1]||0,this.z=c[2]||0):(this.x=c||0,this.y=u||0,this.z=f||0),this}},{key:"copy",value:function(){return this.isPInst?new n.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new n.default.Vector(this.x,this.y,this.z)}},{key:"add",value:function(c,u,f){return c instanceof n.default.Vector?(this.x+=c.x||0,this.y+=c.y||0,this.z+=c.z||0):Array.isArray(c)?(this.x+=c[0]||0,this.y+=c[1]||0,this.z+=c[2]||0):(this.x+=c||0,this.y+=u||0,this.z+=f||0),this}},{key:"calculateRemainder2D",value:function(c,u){return c!==0&&(this.x=this.x%c),u!==0&&(this.y=this.y%u),this}},{key:"calculateRemainder3D",value:function(c,u,f){return c!==0&&(this.x=this.x%c),u!==0&&(this.y=this.y%u),f!==0&&(this.z=this.z%f),this}},{key:"rem",value:function(){for(var c=arguments.length,u=new Array(c),f=0;f<c;f++)u[f]=arguments[f];var y,x,M,w=u[0],E=u[1],C=u[2];if(w instanceof n.default.Vector){if([w.x,w.y,w.z].every(Number.isFinite))return y=parseFloat(w.x),x=parseFloat(w.y),M=parseFloat(w.z),this.calculateRemainder3D(y,x,M)}else if(Array.isArray(w)){if(w.every(Number.isFinite))return w.length===2?this.calculateRemainder2D(w[0],w[1]):w.length===3?this.calculateRemainder3D(w[0],w[1],w[2]):void 0}else if(u.length===1){if(Number.isFinite(w)&&w!==0)return this.x=this.x%w,this.y=this.y%w,this.z=this.z%w,this}else if(u.length===2){if(u.every(Number.isFinite))return this.calculateRemainder2D(w,E)}else if(u.length===3&&u.every(Number.isFinite))return this.calculateRemainder3D(w,E,C)}},{key:"sub",value:function(c,u,f){return c instanceof n.default.Vector?(this.x-=c.x||0,this.y-=c.y||0,this.z-=c.z||0):Array.isArray(c)?(this.x-=c[0]||0,this.y-=c[1]||0,this.z-=c[2]||0):(this.x-=c||0,this.y-=u||0,this.z-=f||0),this}},{key:"mult",value:function(){for(var c=arguments.length,u=new Array(c),f=0;f<c;f++)u[f]=arguments[f];var y,x=u[0],M=u[1],w=u[2];return x instanceof n.default.Vector?Number.isFinite(x.x)&&Number.isFinite(x.y)&&Number.isFinite(x.z)&&typeof x.x=="number"&&typeof x.y=="number"&&typeof x.z=="number"?(this.x*=x.x,this.y*=x.y,this.z*=x.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"):Array.isArray(x)?x.every(function(E){return Number.isFinite(E)})&&x.every(function(E){return typeof E=="number"})?x.length===1?(this.x*=x[0],this.y*=x[0],this.z*=x[0]):x.length===2?(this.x*=x[0],this.y*=x[1]):x.length===3&&(this.x*=x[0],this.y*=x[1],this.z*=x[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"):(y=u).every(function(E){return Number.isFinite(E)})&&y.every(function(E){return typeof E=="number"})?(u.length===1&&(this.x*=x,this.y*=x,this.z*=x),u.length===2&&(this.x*=x,this.y*=M),u.length===3&&(this.x*=x,this.y*=M,this.z*=w)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this}},{key:"div",value:function(){for(var c=arguments.length,u=new Array(c),f=0;f<c;f++)u[f]=arguments[f];var y=u[0],x=u[1],M=u[2];if(y instanceof n.default.Vector)if(Number.isFinite(y.x)&&Number.isFinite(y.y)&&Number.isFinite(y.z)&&typeof y.x=="number"&&typeof y.y=="number"&&typeof y.z=="number"){var w=y.z===0&&this.z===0;if(y.x===0||y.y===0||!w&&y.z===0)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=y.x,this.y/=y.y,w||(this.z/=y.z)}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(Array.isArray(y))if(y.every(Number.isFinite)&&y.every(function(E){return typeof E=="number"})){if(y.some(function(E){return E===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;y.length===1?(this.x/=y[0],this.y/=y[0],this.z/=y[0]):y.length===2?(this.x/=y[0],this.y/=y[1]):y.length===3&&(this.x/=y[0],this.y/=y[1],this.z/=y[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(u.every(Number.isFinite)&&u.every(function(E){return typeof E=="number"})){if(u.some(function(E){return E===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;u.length===1&&(this.x/=y,this.y/=y,this.z/=y),u.length===2&&(this.x/=y,this.y/=x),u.length===3&&(this.x/=y,this.y/=x,this.z/=M)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this}},{key:"mag",value:function(){return Math.sqrt(this.magSq())}},{key:"magSq",value:function(){var c=this.x,u=this.y,f=this.z;return c*c+u*u+f*f}},{key:"dot",value:function(c,u,f){return c instanceof n.default.Vector?this.dot(c.x,c.y,c.z):this.x*(c||0)+this.y*(u||0)+this.z*(f||0)}},{key:"cross",value:function(y){var u=this.y*y.z-this.z*y.y,f=this.z*y.x-this.x*y.z,y=this.x*y.y-this.y*y.x;return this.isPInst?new n.default.Vector(this._fromRadians,this._toRadians,u,f,y):new n.default.Vector(u,f,y)}},{key:"dist",value:function(c){return c.copy().sub(this).mag()}},{key:"normalize",value:function(){var c=this.mag();return c!==0&&this.mult(1/c),this}},{key:"limit",value:function(c){var u=this.magSq();return c*c<u&&this.div(Math.sqrt(u)).mult(c),this}},{key:"setMag",value:function(c){return this.normalize().mult(c)}},{key:"heading",value:function(){var c=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(c):c}},{key:"setHeading",value:function(c){this.isPInst&&(c=this._toRadians(c));var u=this.mag();return this.x=u*Math.cos(c),this.y=u*Math.sin(c),this}},{key:"rotate",value:function(u){var u=this.heading()+u,f=(this.isPInst&&(u=this._toRadians(u)),this.mag());return this.x=Math.cos(u)*f,this.y=Math.sin(u)*f,this}},{key:"angleBetween",value:function(c){var u;return this.magSq()*c.magSq()==0?NaN:(u=this.cross(c),c=Math.atan2(u.mag(),this.dot(c))*Math.sign(u.z||1),this.isPInst?this._fromRadians(c):c)}},{key:"lerp",value:function(c,u,f,y){return c instanceof n.default.Vector?this.lerp(c.x,c.y,c.z,u):(this.x+=(c-this.x)*y||0,this.y+=(u-this.y)*y||0,this.z+=(f-this.z)*y||0,this)}},{key:"slerp",value:function(c,u){if(u!==0){if(u===1)return this.set(c);var f=this.mag(),y=c.mag();if(f*y==0)this.mult(1-u).add(c.x*u,c.y*u,c.z*u);else{var x=this.cross(c),M=x.mag(),w=Math.atan2(M,this.dot(c));if(0<M)x.x/=M,x.y/=M,x.z/=M;else{if(w<.5*Math.PI)return this.mult(1-u).add(c.x*u,c.y*u,c.z*u),this;this.z===0&&c.z===0?x.set(0,0,1):this.x!==0?x.set(this.y,-this.x,0).normalize():x.set(1,0,0)}M=x.cross(this),c=1-u+u*y/f,x=c*Math.cos(u*w),y=c*Math.sin(u*w),this.x=this.x*x+M.x*y,this.y=this.y*x+M.y*y,this.z=this.z*x+M.z*y}}return this}},{key:"reflect",value:function(c){return c=n.default.Vector.normalize(c),this.sub(c.mult(2*this.dot(c)))}},{key:"array",value:function(){return[this.x||0,this.y||0,this.z||0]}},{key:"equals",value:function(M,u,f){var y,x,M=M instanceof n.default.Vector?(y=M.x||0,x=M.y||0,M.z||0):Array.isArray(M)?(y=M[0]||0,x=M[1]||0,M[2]||0):(y=M||0,x=u||0,f||0);return this.x===y&&this.y===x&&this.z===M}},{key:"clampToZero",value:function(){return this.x=this._clampToZero(this.x),this.y=this._clampToZero(this.y),this.z=this._clampToZero(this.z),this}},{key:"_clampToZero",value:function(c){return Math.abs(+(c||0))<=Number.EPSILON?0:c}}])&&p(a.prototype,i),h&&p(a,h),o}();var r=n.default.Vector;b.default=r},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.every":155,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.some":170,"core-js/modules/es.math.sign":178,"core-js/modules/es.number.constructor":179,"core-js/modules/es.number.epsilon":180,"core-js/modules/es.number.is-finite":181,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],317:[function(m,_,b){Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var s=(m=m("../core/main"))&&m.__esModule?m:{default:m},l="_lcg_random_state",n=4294967296,d=0,m=(s.default.prototype._lcg=function(p){return this[p]=(1664525*this[p]+1013904223)%n,this[p]/n},s.default.prototype._lcgSetSeed=function(p,r){this[p]=(r??Math.random()*n)>>>0},s.default.prototype.randomSeed=function(p){this._lcgSetSeed(l,p),this._gaussian_previous=!1},s.default.prototype.random=function(p,r){var o,a;return s.default._validateParameters("random",arguments),o=this[l]!=null?this._lcg(l):Math.random(),p===void 0?o:r===void 0?Array.isArray(p)?p[Math.floor(o*p.length)]:o*p:(r<p&&(a=p,p=r,r=a),o*(r-p)+p)},s.default.prototype.randomGaussian=function(p){var r,o,a,i,h=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(this._gaussian_previous)r=d,this._gaussian_previous=!1;else{for(;1<=(i=(o=this.random(2)-1)*o+(a=this.random(2)-1)*a););r=o*(i=Math.sqrt(-2*Math.log(i)/i)),d=a*i,this._gaussian_previous=!0}return r*h+(p||0)},s.default);b.default=m},{"../core/main":283}],318:[function(t,_,b){function s(r){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(r)}function l(r){return(l=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(o){return s(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":s(o)})(r)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var n=(p=t("../core/main"))&&p.__esModule?p:{default:p},d=function(r){if(r&&r.__esModule)return r;if(r===null||l(r)!=="object"&&typeof r!="function")return{default:r};var o=m();if(o&&o.has(r))return o.get(r);var a,i={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in r){var c;Object.prototype.hasOwnProperty.call(r,a)&&((c=h?Object.getOwnPropertyDescriptor(r,a):null)&&(c.get||c.set)?Object.defineProperty(i,a,c):i[a]=r[a])}return i.default=r,o&&o.set(r,i),i}(t("../core/constants"));function m(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,m=function(){return r},r)}n.default.prototype._angleMode=d.RADIANS,n.default.prototype.acos=function(r){return this._fromRadians(Math.acos(r))},n.default.prototype.asin=function(r){return this._fromRadians(Math.asin(r))},n.default.prototype.atan=function(r){return this._fromRadians(Math.atan(r))},n.default.prototype.atan2=function(r,o){return this._fromRadians(Math.atan2(r,o))},n.default.prototype.cos=function(r){return Math.cos(this._toRadians(r))},n.default.prototype.sin=function(r){return Math.sin(this._toRadians(r))},n.default.prototype.tan=function(r){return Math.tan(this._toRadians(r))},n.default.prototype.degrees=function(r){return r*d.RAD_TO_DEG},n.default.prototype.radians=function(r){return r*d.DEG_TO_RAD},n.default.prototype.angleMode=function(r){if(n.default._validateParameters("angleMode",arguments),r===void 0)return this._angleMode;r!==d.DEGREES&&r!==d.RADIANS||r!==this._angleMode&&(r===d.RADIANS?(this._setProperty("pRotationX",this.pRotationX*d.DEG_TO_RAD),this._setProperty("pRotationY",this.pRotationY*d.DEG_TO_RAD),this._setProperty("pRotationZ",this.pRotationZ*d.DEG_TO_RAD)):(this._setProperty("pRotationX",this.pRotationX*d.RAD_TO_DEG),this._setProperty("pRotationY",this.pRotationY*d.RAD_TO_DEG),this._setProperty("pRotationZ",this.pRotationZ*d.RAD_TO_DEG)),this._angleMode=r)},n.default.prototype._toRadians=function(r){return this._angleMode===d.DEGREES?r*d.DEG_TO_RAD:r},n.default.prototype._toDegrees=function(r){return this._angleMode===d.RADIANS?r*d.RAD_TO_DEG:r},n.default.prototype._fromRadians=function(r){return this._angleMode===d.DEGREES?r*d.RAD_TO_DEG:r},n.default.prototype._fromDegrees=function(r){return this._angleMode===d.RADIANS?r*d.DEG_TO_RAD:r};var p=n.default;b.default=p},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],319:[function(t,_,b){t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var s=(t=t("../core/main"))&&t.__esModule?t:{default:t};s.default.prototype.textAlign=function(l,n){var d;return s.default._validateParameters("textAlign",arguments),(d=this._renderer).textAlign.apply(d,arguments)},s.default.prototype.textLeading=function(l){var n;return s.default._validateParameters("textLeading",arguments),(n=this._renderer).textLeading.apply(n,arguments)},s.default.prototype.textSize=function(l){var n;return s.default._validateParameters("textSize",arguments),(n=this._renderer).textSize.apply(n,arguments)},s.default.prototype.textStyle=function(l){var n;return s.default._validateParameters("textStyle",arguments),(n=this._renderer).textStyle.apply(n,arguments)},s.default.prototype.textWidth=function(){for(var l=arguments.length,n=new Array(l),d=0;d<l;d++)n[d]=arguments[d];if(n[0]+="",s.default._validateParameters("textWidth",n),n[0].length===0)return 0;for(var m=n[0].replace(/\t/g,"  ").split(/\r?\n|\r|\n/g),p=[],r=0;r<m.length;r++)p.push(this._renderer.textWidth(m[r]));return Math.max.apply(Math,p)},s.default.prototype.textAscent=function(){for(var l=arguments.length,n=new Array(l),d=0;d<l;d++)n[d]=arguments[d];return s.default._validateParameters("textAscent",n),this._renderer.textAscent()},s.default.prototype.textDescent=function(){for(var l=arguments.length,n=new Array(l),d=0;d<l;d++)n[d]=arguments[d];return s.default._validateParameters("textDescent",n),this._renderer.textDescent()},s.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},s.default.prototype.textWrap=function(l){return s.default._validateParameters("textWrap",[l]),this._renderer.textWrap(l)},t=s.default,b.default=t},{"../core/main":283,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206}],320:[function(t,_,b){function s(a){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(a)}function l(a){return(l=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(i){return s(i)}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":s(i)})(a)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.split"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var n=(o=t("../core/main"))&&o.__esModule?o:{default:o},d=r(t("../core/constants")),m=r(t("opentype.js"));function p(){var a;return typeof WeakMap!="function"?null:(a=new WeakMap,p=function(){return a},a)}function r(a){if(a&&a.__esModule)return a;if(a===null||l(a)!=="object"&&typeof a!="function")return{default:a};var i=p();if(i&&i.has(a))return i.get(a);var h,c,u={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in a)Object.prototype.hasOwnProperty.call(a,h)&&((c=f?Object.getOwnPropertyDescriptor(a,h):null)&&(c.get||c.set)?Object.defineProperty(u,h,c):u[h]=a[h]);return u.default=a,i&&i.set(a,u),u}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),n.default.prototype.loadFont=function(a,i,h){n.default._validateParameters("loadFont",arguments);var c=new n.default.Font(this),u=this;return m.load(a,function(x,M){if(x)return n.default._friendlyFileLoadError(4,a),h!==void 0?h(x):void console.error(x,a);c.font=M,i!==void 0&&i(c),u._decrementPreload();var x=a.split("\\").pop().split("/").pop(),M=x.lastIndexOf("."),w=M<1?null:x.slice(M+1);["ttf","otf","woff","woff2"].includes(w)&&(w=x.slice(0,M!==-1?M:0),(x=document.createElement("style")).appendChild(document.createTextNode(`
@font-face {
font-family: `.concat(w,`;
src: url(`).concat(a,`);
}
`))),document.head.appendChild(x))}),c},n.default.prototype.text=function(a,i,h,c,u){var f;return n.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(f=this._renderer).text.apply(f,arguments):this},n.default.prototype.textFont=function(a,i){if(n.default._validateParameters("textFont",arguments),arguments.length){if(a)return this._renderer._setProperty("_textFont",a),i&&(this._renderer._setProperty("_textSize",i),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",i*d._DEFAULT_LEADMULT)),this._renderer._applyTextProperties();throw new Error("null font passed to textFont")}return this._renderer._textFont};var o=n.default;b.default=o},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,"opentype.js":257}],321:[function(t,_,b){function s(E){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(E)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var l=(l=t("../core/main"))&&l.__esModule?l:{default:l},n=function(E){if(E&&E.__esModule)return E;if(E===null||m(E)!=="object"&&typeof E!="function")return{default:E};var C=d();if(C&&C.has(E))return C.get(E);var L,k={},R=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(L in E){var P;Object.prototype.hasOwnProperty.call(E,L)&&((P=R?Object.getOwnPropertyDescriptor(E,L):null)&&(P.get||P.set)?Object.defineProperty(k,L,P):k[L]=E[L])}return k.default=E,C&&C.set(E,k),k}(t("../core/constants"));function d(){var E;return typeof WeakMap!="function"?null:(E=new WeakMap,d=function(){return E},E)}function m(E){return(m=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(C){return s(C)}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":s(C)})(E)}function p(E,C){for(var L=0;L<C.length;L++){var k=C[L];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(E,k.key,k)}}function r(E,C){var L=E.length;return E[C<0?C%L+L:C%L]}function o(E,C,L,k){var R,P,F;return k?(o.tmpPoint1===void 0&&(o.tmpPoint1=[],o.tmpPoint2=[]),P=o.tmpPoint1,F=o.tmpPoint2,P.x=C.x-E.x,P.y=C.y-E.y,F.x=L.x-C.x,F.y=L.y-C.y,R=P.x*F.x+P.y*F.y,P=Math.sqrt(P.x*P.x+P.y*P.y),F=Math.sqrt(F.x*F.x+F.y*F.y),Math.acos(R/(P*F))<k):(C[0]-E[0])*(L[1]-E[1])-(L[0]-E[0])*(C[1]-E[1])==0}function a(D,W,U,$,ee,P,F,I,B){var V=1-B,z=Math.pow(V,3),G=Math.pow(V,2),T=B*B,Q=T*B,H=z*D+3*G*B*U+3*V*B*B*ee+Q*F,z=z*W+3*G*B*$+3*V*B*B*P+Q*I,G=D+2*B*(U-D)+T*(ee-2*U+D),Q=W+2*B*($-W)+T*(P-2*$+W),ie=U+2*B*(ee-U)+T*(F-2*ee+U),T=$+2*B*(P-$)+T*(I-2*P+$),D=V*D+B*U,U=V*W+B*$,W=V*ee+B*F,$=V*P+B*I,ee=90-180*Math.atan2(G-ie,Q-T)/Math.PI;return(ie<G||Q<T)&&(ee+=180),{x:H,y:z,m:{x:G,y:Q},n:{x:ie,y:T},start:{x:D,y:U},end:{x:W,y:$},alpha:ee}}function i(E,C,L,k,R,P,F,I,B){return B==null?M(E,C,L,k,R,P,F,I):a(E,C,L,k,R,P,F,I,function(V,H,z,G,Q,ie,T,D,U){if(!(U<0||M(V,H,z,G,Q,ie,T,D)<U)){var W,$=.5,ee=1-$;for(W=M(V,H,z,G,Q,ie,T,D,ee);.01<Math.abs(W-U);)W=M(V,H,z,G,Q,ie,T,D,ee+=(W<U?1:-1)*($/=2));return ee}}(E,C,L,k,R,P,F,I,B))}function h(E,C,L){for(var k,R,P,F,I,B=0,V=0,H=(E=function(z,G){function Q(ge,be,Se){var Ie,Me;if(!ge)return["C",be.x,be.y,be.x,be.y,be.x,be.y];switch(ge[0]in{T:1,Q:1}||(be.qx=be.qy=null),ge[0]){case"M":be.X=ge[1],be.Y=ge[2];break;case"A":ge=["C"].concat(u.apply(0,[be.x,be.y].concat(ge.slice(1))));break;case"S":Me=Se==="C"||Se==="S"?(Ie=2*be.x-be.bx,2*be.y-be.by):(Ie=be.x,be.y),ge=["C",Ie,Me].concat(ge.slice(1));break;case"T":Se==="Q"||Se==="T"?(be.qx=2*be.x-be.qx,be.qy=2*be.y-be.qy):(be.qx=be.x,be.qy=be.y),ge=["C"].concat(x(be.x,be.y,be.qx,be.qy,ge[1],ge[2]));break;case"Q":be.qx=ge[1],be.qy=ge[2],ge=["C"].concat(x(be.x,be.y,ge[1],ge[2],ge[3],ge[4]));break;case"L":ge=["C"].concat(y(be.x,be.y,ge[1],ge[2]));break;case"H":ge=["C"].concat(y(be.x,be.y,ge[1],be.y));break;case"V":ge=["C"].concat(y(be.x,be.y,be.x,ge[1]));break;case"Z":ge=["C"].concat(y(be.x,be.y,be.X,be.Y))}return ge}function ie(ge,be){if(7<ge[be].length){ge[be].shift();for(var Se=ge[be];Se.length;)ne[be]="A",W&&(fe[be]="A"),ge.splice(be++,0,["C"].concat(Se.splice(0,6)));ge.splice(be,1),D=Math.max(U.length,W&&W.length||0)}}function T(ge,be,Se,Ie,Me){ge&&be&&ge[Me][0]==="M"&&be[Me][0]!=="M"&&(be.splice(Me,0,["M",Ie.x,Ie.y]),Se.bx=0,Se.by=0,Se.x=ge[Me][1],Se.y=ge[Me][2],D=Math.max(U.length,W&&W.length||0))}var D,U=c(z),W=G&&c(G),$={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ee={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ne=[],fe=[],se="",he="";D=Math.max(U.length,W&&W.length||0);for(var ae=0;ae<D;ae++){(se=U[ae]?U[ae][0]:se)!=="C"&&(ne[ae]=se,ae&&(he=ne[ae-1])),U[ae]=Q(U[ae],$,he),ne[ae]!=="A"&&se==="C"&&(ne[ae]="C"),ie(U,ae),W&&((se=W[ae]?W[ae][0]:se)!=="C"&&(fe[ae]=se,ae&&(he=fe[ae-1])),W[ae]=Q(W[ae],ee,he),fe[ae]!=="A"&&se==="C"&&(fe[ae]="C"),ie(W,ae)),T(U,W,$,ee,ae),T(W,U,ee,$,ae);var J=U[ae],le=W&&W[ae],ye=J.length,ue=W&&le.length;$.x=J[ye-2],$.y=J[ye-1],$.bx=parseFloat(J[ye-4])||$.x,$.by=parseFloat(J[ye-3])||$.y,ee.bx=W&&(parseFloat(le[ue-4])||ee.x),ee.by=W&&(parseFloat(le[ue-3])||ee.y),ee.x=W&&le[ue-2],ee.y=W&&le[ue-1]}return W?[U,W]:U}(E)).length;V<H;V++){if((P=E[V])[0]==="M")k=+P[1],R=+P[2];else{if(C<B+(F=i(k,R,P[1],P[2],P[3],P[4],P[5],P[6]))&&!L)return{x:(I=i(k,R,P[1],P[2],P[3],P[4],P[5],P[6],C-B)).x,y:I.y,alpha:I.alpha};B+=F,k=+P[5],R=+P[6]}P.shift()}return I=(I=L?B:a(k,R,P[0],P[1],P[2],P[3],P[4],P[5],1)).alpha?{x:I.x,y:I.y,alpha:I.alpha}:I}function c(E){var C=[],L=0,k=0,R=0,P=0,F=0;if(E){E[0][0]==="M"&&(R=L=+E[0][1],P=k=+E[0][2],F++,C[0]=["M",L,k]);for(var I,B,V=E.length===3&&E[0][0]==="M"&&E[1][0].toUpperCase()==="R"&&E[2][0].toUpperCase()==="Z",H=F,z=E.length;H<z;H++){if(C.push(I=[]),(B=E[H])[0]!==B[0].toUpperCase())switch(I[0]=B[0].toUpperCase(),I[0]){case"A":I[1]=B[1],I[2]=B[2],I[3]=B[3],I[4]=B[4],I[5]=B[5],I[6]=+(B[6]+L),I[7]=+(B[7]+k);break;case"V":I[1]=+B[1]+k;break;case"H":I[1]=+B[1]+L;break;case"R":for(var G,Q=2,ie=(G=[L,k].concat(B.slice(1))).length;Q<ie;Q++)G[Q]=+G[Q]+L,G[++Q]=+G[Q]+k;C.pop(),C=C.concat(f(G,V));break;case"M":R=+B[1]+L,P=+B[2]+k;break;default:for(var T=1,D=B.length;T<D;T++)I[T]=+B[T]+(T%2?L:k)}else if(B[0]==="R")G=[L,k].concat(B.slice(1)),C.pop(),C=C.concat(f(G,V)),I=["R"].concat(B.slice(-2));else for(var U=0,W=B.length;U<W;U++)I[U]=B[U];switch(I[0]){case"Z":L=R,k=P;break;case"H":L=I[1];break;case"V":k=I[1];break;case"M":R=I[I.length-2],P=I[I.length-1];break;default:L=I[I.length-2],k=I[I.length-1]}}}return C}function u(E,C,L,k,W,ne,$,I,B,V){function H(ue,ge,be){return{x:ue*Math.cos(be)-ge*Math.sin(be),y:ue*Math.sin(be)+ge*Math.cos(be)}}var z,D=Math.PI,U=120*D/180,G=D/180*(+W||0),Q=[],ie=(V?(ae=V[0],z=V[1],se=V[2],he=V[3]):(E=(ee=H(E,C,-G)).x,C=ee.y,1<(ie=(T=(E-(I=(ee=H(I,B,-G)).x))/2)*T/(L*L)+(ee=(C-(B=ee.y))/2)*ee/(k*k))&&(L*=ie=Math.sqrt(ie),k*=ie),ie=L*L,fe=k*k,se=(ne=(ne===$?-1:1)*Math.sqrt(Math.abs((ie*fe-ie*ee*ee-fe*T*T)/(ie*ee*ee+fe*T*T))))*L*ee/k+(E+I)/2,he=ne*-k*T/L+(C+B)/2,ae=Math.asin(((C-he)/k).toFixed(9)),z=Math.asin(((B-he)/k).toFixed(9)),(ae=E<se?D-ae:ae)<0&&(ae=2*D+ae),(z=I<se?D-z:z)<0&&(z=2*D+z),$&&z<ae&&(ae-=2*D),!$&&ae<z&&(z-=2*D)),z-ae),T=(Math.abs(ie)>U&&(fe=z,ee=I,ne=B,z=ae+U*($&&ae<z?1:-1),Q=u(I=se+L*Math.cos(z),B=he+k*Math.sin(z),L,k,W,0,$,ee,ne,[z,fe,se,he])),ie=z-ae,Math.cos(ae)),D=Math.sin(ae),U=Math.cos(z),W=Math.sin(z),$=Math.tan(ie/4),ee=4/3*L*$,ne=4/3*k*$,fe=[E,C],se=[E+ee*D,C-ne*T],he=[I+ee*W,B-ne*U],ae=[I,B];if(se[0]=2*fe[0]-se[0],se[1]=2*fe[1]-se[1],V)return[se,he,ae].concat(Q);for(var J=[],le=0,ye=(Q=[se,he,ae].concat(Q).join().split(",")).length;le<ye;le++)J[le]=le%2?H(Q[le-1],Q[le],G).y:H(Q[le],Q[le+1],G).x;return J}function f(E,C){for(var L=[],k=0,R=E.length;k<R-2*!C;k+=2){var P=[{x:+E[k-2],y:+E[k-1]},{x:+E[k],y:+E[k+1]},{x:+E[k+2],y:+E[k+3]},{x:+E[k+4],y:+E[k+5]}];C?k?R-4===k?P[3]={x:+E[0],y:+E[1]}:R-2===k&&(P[2]={x:+E[0],y:+E[1]},P[3]={x:+E[2],y:+E[3]}):P[0]={x:+E[R-2],y:+E[R-1]}:R-4===k?P[3]=P[2]:k||(P[0]={x:+E[k],y:+E[k+1]}),L.push(["C",(-P[0].x+6*P[1].x+P[2].x)/6,(-P[0].y+6*P[1].y+P[2].y)/6,(P[1].x+6*P[2].x-P[3].x)/6,(P[1].y+6*P[2].y-P[3].y)/6,P[2].x,P[2].y])}return L}function y(E,C,L,k){return[E,C,L,k,L,k]}function x(E,C,L,k,R,P){return[1/3*E+2/3*L,1/3*C+2/3*k,1/3*R+2/3*L,1/3*P+2/3*k,R,P]}function M(E,C,L,k,R,P,F,I,B){for(var V=(B=1<(B=B??1)?1:B<0?0:B)/2,H=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],z=0,G=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],Q=0;Q<12;Q++){var T=V*H[Q]+V,ie=w(T,E,L,R,F),T=w(T,C,k,P,I);z+=G[Q]*Math.sqrt(ie*ie+T*T)}return V*z}function w(E,C,L,k,R){return E*(E*(-3*C+9*L-9*k+3*R)+6*C-12*L+6*k)-3*C+3*L}l.default.Font=function(){function E(k){if(!(this instanceof E))throw new TypeError("Cannot call a class as a function");this.parent=k,this.cache={},this.font=void 0}var C,L;return C=E,(L=[{key:"textBounds",value:function(k){var R=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,P=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,V=3<arguments.length?arguments[3]:void 0,F=4<arguments.length?arguments[4]:void 0,I=F&&F.renderer&&F.renderer._pInst||this.parent,B=I._renderer.drawingContext,V=(B.textAlign||n.LEFT,B.textBaseline||n.BASELINE,V||I._renderer._textSize);if(!ee){for(var H=[],z=[],G=[],Q=(G[0]=[],[]),ie=this._scale(V),T=I._renderer.textLeading(),D=0,U=(this.font.forEachGlyph(k,R,P,V,F,function(se,he,ae,J){var le=se.getMetrics();se.index===0?G[D+=1]=[]:(G[D].push(he+le.xMin*ie),G[D].push(he+le.xMax*ie),Q.push(ae+D*T+-le.yMin*ie),Q.push(ae+D*T+-le.yMax*ie))}),0<G[D].length&&(H[D]=Math.min.apply(null,G[D]),z[D]=Math.max.apply(null,G[D])),0),W=0;W<=D;W++){H[W]=Math.min.apply(null,G[W]),z[W]=Math.max.apply(null,G[W]);var $=z[W]-H[W];U<$&&(U=$)}var B=Math.min.apply(null,H),ee={x:B,y:P=Math.min.apply(null,Q),h:Math.max.apply(null,Q)-P,w:U,advance:B-R},V=this._handleAlignment(I._renderer,k,ee.x,ee.y,ee.w+ee.advance);ee.x=V.x,ee.y=V.y}return ee}},{key:"textToPoints",value:function(k,R,P,F,I){var B=R,V=[],H=k.split(/\r?\n|\r|\n/g);F=F||this.parent._renderer._textSize;for(var z,G,Q,ie=0;ie<H.length;ie++){var T=0;R=B;for(var D=(D=H[ie]).replace("	","  "),U=this._getGlyphs(D),W=0;W<U.length;W++){if(G=D,!((Q=U)[z=W].name&&Q[z].name==="space"||G.length===Q.length&&G[z]===" "))for(var $=function(se){for(var he,ae=[],J=0;J<se.length;J++)se[J].type==="M"&&(he&&ae.push(he),he=[]),he.push(function(le){var ye=[le.type];return le.type==="M"||le.type==="L"?ye.push(le.x,le.y):le.type==="C"?ye.push(le.x1,le.y1,le.x2,le.y2,le.x,le.y):le.type==="Q"&&ye.push(le.x1,le.y1,le.x,le.y),ye}(se[J]));return ae.push(he),ae}(U[W].getPath(R,P,F).commands),ee=0;ee<$.length;ee++)for(var ne=function(se,he){for(var he=function(ge,be){if(m(ge)!=="object")ge=be;else for(var Se in be)ge[Se]===void 0&&(ge[Se]=be[Se]);return ge}(he,{sampleFactor:.1,simplifyThreshold:0}),ae=h(se,0,1),J=ae/(ae*he.sampleFactor),le=[],ye=0;ye<ae;ye+=J)le.push(h(se,ye));return he.simplifyThreshold&&function(ue){for(var ge=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,be=0,Se=ue.length-1;3<ue.length&&0<=Se;--Se)o(r(ue,Se-1),r(ue,Se),r(ue,Se+1),ge)&&(ue.splice(Se%ue.length,1),be++)}(le,he.simplifyThreshold),le}($[ee],I),fe=0;fe<ne.length;fe++)ne[fe].x+=T,V.push(ne[fe]);T+=U[W].advanceWidth*this._scale(F)}P+=this.parent._renderer._textLeading}return V}},{key:"_getGlyphs",value:function(k){return this.font.stringToGlyphs(k)}},{key:"_getPath",value:function(k,B,P,F){var I=(F&&F.renderer&&F.renderer._pInst||this.parent)._renderer,B=this._handleAlignment(I,k,B,P);return this.font.getPath(k,B.x,B.y,I._textSize,F)}},{key:"_getPathData",value:function(k,R,P,F){var I=3;return typeof k=="string"&&2<arguments.length?k=this._getPath(k,R,P,F):m(R)==="object"&&(F=R),F&&typeof F.decimals=="number"&&(I=F.decimals),k.toPathData(I)}},{key:"_getSVG",value:function(k,R,P,F){var I=3;return typeof k=="string"&&2<arguments.length?k=this._getPath(k,R,P,F):m(R)==="object"&&(F=R),F&&(typeof F.decimals=="number"&&(I=F.decimals),typeof F.strokeWidth=="number"&&(k.strokeWidth=F.strokeWidth),F.fill!==void 0&&(k.fill=F.fill),F.stroke!==void 0&&(k.stroke=F.stroke)),k.toSVG(I)}},{key:"_renderPath",value:function(V,z,G,F){var I=F&&F.renderer||this.parent._renderer,B=I.drawingContext,V=(m(V)==="object"&&V.commands?V:this._getPath(V,z,G,F)).commands,H=(I._clipping||B.beginPath(),!0),z=!1,G=void 0;try{for(var Q,ie=V[Symbol.iterator]();!(H=(Q=ie.next()).done);H=!0){var T=Q.value;T.type==="M"?B.moveTo(T.x,T.y):T.type==="L"?B.lineTo(T.x,T.y):T.type==="C"?B.bezierCurveTo(T.x1,T.y1,T.x2,T.y2,T.x,T.y):T.type==="Q"?B.quadraticCurveTo(T.x1,T.y1,T.x,T.y):T.type==="Z"&&B.closePath()}}catch(D){z=!0,G=D}finally{try{H||ie.return==null||ie.return()}finally{if(z)throw G}}return I._doStroke&&I._strokeSet&&!I._clipping&&B.stroke(),I._doFill&&!I._clipping&&(I._fillSet||I._setFill(n._DEFAULT_TEXT_FILL),B.fill()),this}},{key:"_textWidth",value:function(k,R){return this.font.getAdvanceWidth(k,R)}},{key:"_textAscent",value:function(k){return this.font.ascender*this._scale(k)}},{key:"_textDescent",value:function(k){return-this.font.descender*this._scale(k)}},{key:"_scale",value:function(k){return 1/this.font.unitsPerEm*(k||this.parent._renderer._textSize)}},{key:"_handleAlignment",value:function(k,R,P,F,I){var B=k._textSize;switch(I===void 0&&(I=this._textWidth(R,B)),k._textAlign){case n.CENTER:P-=I/2;break;case n.RIGHT:P-=I}switch(k._textBaseline){case n.TOP:F+=this._textAscent(B);break;case n.CENTER:F+=this._textAscent(B)/2;break;case n.BOTTOM:F-=this._textDescent(B)}return{x:P,y:F}}}])&&p(C.prototype,L),E}(),t=l.default,b.default=t},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],322:[function(t,_,b){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.object.to-string"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.append=function(s,l){return s.push(l),s},t.default.prototype.arrayCopy=function(s,l,n,d,m){var p,r;s=m!==void 0?(r=Math.min(m,s.length),p=d,s.slice(l,r+l)):(r=n!==void 0?(r=n,Math.min(r,s.length)):s.length,n=l,s.slice(p=0,r)),Array.prototype.splice.apply(n,[p,r].concat(s))},t.default.prototype.concat=function(s,l){return s.concat(l)},t.default.prototype.reverse=function(s){return s.reverse()},t.default.prototype.shorten=function(s){return s.pop(),s},t.default.prototype.shuffle=function(s,l){for(var n,d,m=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(s),p=(s=l||m?s:s.slice()).length;1<p;)n=this.random(0,1)*p|0,d=s[--p],s[p]=s[n],s[n]=d;return s},t.default.prototype.sort=function(s,d){var n=d?s.slice(0,Math.min(d,s.length)):s,d=d?s.slice(Math.min(d,s.length)):[];return(n=typeof n[0]=="string"?n.sort():n.sort(function(m,p){return m-p})).concat(d)},t.default.prototype.splice=function(s,l,n){return Array.prototype.splice.apply(s,[n,0].concat(l)),s},t.default.prototype.subset=function(s,l,n){return n!==void 0?s.slice(l,l+n):s.slice(l,s.length)},t=t.default,b.default=t},{"../core/main":283,"core-js/modules/es.array-buffer.constructor":152,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.to-string":190}],323:[function(t,_,b){t("core-js/modules/es.array.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.repeat"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.repeat"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var s=(t=t("../core/main"))&&t.__esModule?t:{default:t};s.default.prototype.float=function(l){return l instanceof Array?l.map(parseFloat):parseFloat(l)},s.default.prototype.int=function(l){var n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:10;return l===1/0||l==="Infinity"?1/0:l===-1/0||l==="-Infinity"?-1/0:typeof l=="string"?parseInt(l,n):typeof l=="number"?0|l:typeof l=="boolean"?l?1:0:l instanceof Array?l.map(function(d){return s.default.prototype.int(d,n)}):void 0},s.default.prototype.str=function(l){return l instanceof Array?l.map(s.default.prototype.str):String(l)},s.default.prototype.boolean=function(l){return typeof l=="number"?l!==0:typeof l=="string"?l.toLowerCase()==="true":typeof l=="boolean"?l:l instanceof Array?l.map(s.default.prototype.boolean):void 0},s.default.prototype.byte=function(l){return l=s.default.prototype.int(l,10),typeof l=="number"?(l+128)%256-128:l instanceof Array?l.map(s.default.prototype.byte):void 0},s.default.prototype.char=function(l){return typeof l!="number"||isNaN(l)?l instanceof Array?l.map(s.default.prototype.char):typeof l=="string"?s.default.prototype.char(parseInt(l,10)):void 0:String.fromCharCode(l)},s.default.prototype.unchar=function(l){return typeof l=="string"&&l.length===1?l.charCodeAt(0):l instanceof Array?l.map(s.default.prototype.unchar):void 0},s.default.prototype.hex=function(l,n){if(n=n??8,l instanceof Array)return l.map(function(m){return s.default.prototype.hex(m,n)});if(l===1/0||l===-1/0)return(l===1/0?"F":"0").repeat(n);if(typeof l=="number"){l<0&&(l=4294967295+l+1);for(var d=Number(l).toString(16).toUpperCase();d.length<n;)d="0".concat(d);return d=d.length>=n?d.substring(d.length-n,d.length):d}},s.default.prototype.unhex=function(l){return l instanceof Array?l.map(s.default.prototype.unhex):parseInt("0x".concat(l),16)},t=s.default,b.default=t},{"../core/main":283,"core-js/modules/es.array.map":168,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.repeat":203}],324:[function(t,_,b){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.pad-start"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.pad-start"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var s=(r=t("../core/main"))&&r.__esModule?r:{default:r};function l(o,a){return function(i){if(Array.isArray(i))return i}(o)||function(i,h){if(Symbol.iterator in Object(i)||Object.prototype.toString.call(i)==="[object Arguments]"){var c=[],u=!0,f=!1,y=void 0;try{for(var x,M=i[Symbol.iterator]();!(u=(x=M.next()).done)&&(c.push(x.value),!h||c.length!==h);u=!0);}catch(w){f=!0,y=w}finally{try{u||M.return==null||M.return()}finally{if(f)throw y}}return c}}(o,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function n(o,a,i){var c=l(o.toString().split("."),2),h=c[0],c=c[1];return i===void 0?(h=h.padStart(a,"0"),c?h+"."+c:h):(h=(o=l(o.toFixed(i).toString().split("."),2))[0],c=o[1],h=h.padStart(a,"0"),c===void 0?h:h+"."+c)}function d(c,a){var i=(c=c.toString()).indexOf("."),h=i!==-1?c.substring(i):"",c=(c=i!==-1?c.substring(0,i):c).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");if(a===0)h="";else if(a!==void 0)if(a>h.length)for(var u=a-(h+=i===-1?".":"").length+1,f=0;f<u;f++)h+="0";else h=h.substring(0,a+1);return c+h}function m(o){return 0<parseFloat(o)?"+".concat(o.toString()):o.toString()}function p(o){return 0<=parseFloat(o)?" ".concat(o.toString()):o.toString()}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),s.default.prototype.join=function(o,a){return s.default._validateParameters("join",arguments),o.join(a)},s.default.prototype.match=function(o,a){return s.default._validateParameters("match",arguments),o.match(a)},s.default.prototype.matchAll=function(o,a){s.default._validateParameters("matchAll",arguments);for(var i=new RegExp(a,"g"),h=i.exec(o),c=[];h!==null;)c.push(h),h=i.exec(o);return c},s.default.prototype.nf=function(o,a,i){return s.default._validateParameters("nf",arguments),o instanceof Array?o.map(function(h){return n(h,a,i)}):Object.prototype.toString.call(o)==="[object Arguments]"?o.length===3?this.nf(o[0],o[1],o[2]):o.length===2?this.nf(o[0],o[1]):this.nf(o[0]):n(o,a,i)},s.default.prototype.nfc=function(o,a){return s.default._validateParameters("nfc",arguments),o instanceof Array?o.map(function(i){return d(i,a)}):d(o,a)},s.default.prototype.nfp=function(){for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];s.default._validateParameters("nfp",a);var h=s.default.prototype.nf.apply(this,a);return h instanceof Array?h.map(m):m(h)},s.default.prototype.nfs=function(){for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];s.default._validateParameters("nfs",a);var h=s.default.prototype.nf.apply(this,a);return h instanceof Array?h.map(p):p(h)},s.default.prototype.split=function(o,a){return s.default._validateParameters("split",arguments),o.split(a)},s.default.prototype.splitTokens=function(o,a){var i,h;return s.default._validateParameters("splitTokens",arguments),h=a!==void 0?(h=/\]/g.exec(a=a),(i=/\[/g.exec(a))&&h?(a=a.slice(0,h.index)+a.slice(h.index+1),i=/\[/g.exec(a),a=a.slice(0,i.index)+a.slice(i.index+1),new RegExp("[\\[".concat(a,"\\]]"),"g")):h?(a=a.slice(0,h.index)+a.slice(h.index+1),new RegExp("[".concat(a,"\\]]"),"g")):i?(a=a.slice(0,i.index)+a.slice(i.index+1),new RegExp("[".concat(a,"\\[]"),"g")):new RegExp("[".concat(a,"]"),"g")):/\s/g,o.split(h).filter(function(c){return c})},s.default.prototype.trim=function(o){return s.default._validateParameters("trim",arguments),o instanceof Array?o.map(this.trim):o.trim()};var r=s.default;b.default=r},{"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.pad-start":202,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],325:[function(t,_,b){Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.day=function(){return new Date().getDate()},t.default.prototype.hour=function(){return new Date().getHours()},t.default.prototype.minute=function(){return new Date().getMinutes()},t.default.prototype.millis=function(){return this._millisStart===-1?0:window.performance.now()-this._millisStart},t.default.prototype.month=function(){return new Date().getMonth()+1},t.default.prototype.second=function(){return new Date().getSeconds()},t.default.prototype.year=function(){return new Date().getFullYear()},t=t.default,b.default=t},{"../core/main":283}],326:[function(t,_,b){function s(o){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(o)}function l(o){return(l=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(a){return s(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":s(a)})(o)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var n=(r=t("../core/main"))&&r.__esModule?r:{default:r},d=(t("./p5.Geometry"),function(o){if(o&&o.__esModule)return o;if(o===null||l(o)!=="object"&&typeof o!="function")return{default:o};var a=m();if(a&&a.has(o))return a.get(o);var i,h={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in o){var u;Object.prototype.hasOwnProperty.call(o,i)&&((u=c?Object.getOwnPropertyDescriptor(o,i):null)&&(u.get||u.set)?Object.defineProperty(h,i,u):h[i]=o[i])}return h.default=o,a&&a.set(o,h),h}(t("../core/constants")));function m(){var o;return typeof WeakMap!="function"?null:(o=new WeakMap,m=function(){return o},o)}n.default.prototype.beginGeometry=function(){return this._renderer.beginGeometry()},n.default.prototype.endGeometry=function(){return this._renderer.endGeometry()},n.default.prototype.buildGeometry=function(o){return this._renderer.buildGeometry(o)},n.default.prototype.freeGeometry=function(o){this._renderer._freeBuffers(o.gid)},n.default.prototype.plane=function(){var o,a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:a,h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:1,c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,u=(this._assert3d("plane"),n.default._validateParameters("plane",arguments),"plane|".concat(h,"|").concat(c));return this._renderer.geometryInHash(u)||((o=new n.default.Geometry(h,c,function(){for(var f,y,x=0;x<=this.detailY;x++)for(var M=x/this.detailY,w=0;w<=this.detailX;w++)f=w/this.detailX,y=new n.default.Vector(f-.5,M-.5,0),this.vertices.push(y),this.uvs.push(f,M)})).computeFaces().computeNormals(),h<=1&&c<=1?o._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(u,o)),this._renderer.drawBuffersScaled(u,a,i,1),this},n.default.prototype.box=function(o,a,i,h,c){this._assert3d("box"),n.default._validateParameters("box",arguments),o===void 0&&(o=50),a===void 0&&(a=o),i===void 0&&(i=a);var u,f=this._renderer.attributes&&this._renderer.attributes.perPixelLighting,f=(c===void 0&&(c=f?1:4),"box|".concat(h=h===void 0?f?1:4:h,"|").concat(c));return this._renderer.geometryInHash(f)||((u=new n.default.Geometry(h,c,function(){var y=this;this.edges=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]],[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]].forEach(function(x,M){for(var M=4*M,w=0;w<4;w++){var E=x[w],E=new n.default.Vector((2*(1&E)-1)/2,((2&E)-1)/2,((4&E)/2-1)/2);y.vertices.push(E),y.uvs.push(1&w,(2&w)/2)}y.faces.push([M,1+M,2+M]),y.faces.push([2+M,1+M,3+M])})})).computeNormals(),h<=4&&c<=4?u._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(f,u)),this._renderer.drawBuffersScaled(f,o,a,i),this},n.default.prototype.sphere=function(){var o=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,a=1<arguments.length&&arguments[1]!==void 0?arguments[1]:24,i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:16;return this._assert3d("sphere"),n.default._validateParameters("sphere",arguments),this.ellipsoid(o,o,o,a,i),this};function p(o,a,i,h,c,u,f){o=o<=0?1:o,a=a<0?0:a,i=i<=0?o:i,h=h<3?3:h;for(var y,x,M=(u=u===void 0||u)?-2:0,w=(c=c<1?1:c)+((f=f===void 0?a!==0:f)?2:0),E=Math.atan2(o-a,i),C=Math.sin(E),L=Math.cos(E),k=M;k<=w;++k){var R=k/c,P=i*R,F=void 0,F=k<0?(R=P=0,o):c<k?(P=i,R=1,a):o+(a-o)*R;for(k!==-2&&k!==c+2||(F=0),P-=i/2,y=0;y<h;++y){var I=y/(h-1),V=2*Math.PI*I,B=Math.sin(V),V=Math.cos(V),H=(this.vertices.push(new n.default.Vector(B*F,P,V*F)),void 0),H=k<0?new n.default.Vector(0,-1,0):c<k&&a?new n.default.Vector(0,1,0):new n.default.Vector(B*L,C,V*L);this.vertexNormals.push(H),this.uvs.push(I,R)}}var z=0;if(u){for(x=0;x<h;++x)this.faces.push([z+x,z+h+(x+1)%h,z+h+x]);z+=2*h}for(k=0;k<c;++k){for(y=0;y<h;++y){var G=(y+1)%h;this.faces.push([z+y,z+G,z+h+G]),this.faces.push([z+y,z+h+G,z+h+y])}z+=h}if(f)for(z+=h,y=0;y<h;++y)this.faces.push([z+y,z+(y+1)%h,z+h])}n.default.prototype.cylinder=function(){var o,a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:a,h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:24,c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,u=!(4<arguments.length&&arguments[4]!==void 0)||arguments[4],f=!(5<arguments.length&&arguments[5]!==void 0)||arguments[5],y=(this._assert3d("cylinder"),n.default._validateParameters("cylinder",arguments),"cylinder|".concat(h,"|").concat(c,"|").concat(u,"|").concat(f));return this._renderer.geometryInHash(y)||(o=new n.default.Geometry(h,c),p.call(o,1,1,1,h,c,u,f),h<=24&&c<=16?o._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(y,o)),this._renderer.drawBuffersScaled(y,a,i,a),this},n.default.prototype.cone=function(){var o,a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:a,h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:24,c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,u=!(4<arguments.length&&arguments[4]!==void 0)||arguments[4],f=(this._assert3d("cone"),n.default._validateParameters("cone",arguments),"cone|".concat(h,"|").concat(c,"|").concat(u));return this._renderer.geometryInHash(f)||(o=new n.default.Geometry(h,c),p.call(o,1,0,1,h,c,u,!1),h<=24&&c<=16?o._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(f,o)),this._renderer.drawBuffersScaled(f,a,i,a),this},n.default.prototype.ellipsoid=function(){var o,a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:a,h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:a,c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:24,u=4<arguments.length&&arguments[4]!==void 0?arguments[4]:16,f=(this._assert3d("ellipsoid"),n.default._validateParameters("ellipsoid",arguments),"ellipsoid|".concat(c,"|").concat(u));return this._renderer.geometryInHash(f)||((o=new n.default.Geometry(c,u,function(){for(var y=0;y<=this.detailY;y++)for(var x=y/this.detailY,M=Math.PI*x-Math.PI/2,w=Math.cos(M),E=Math.sin(M),C=0;C<=this.detailX;C++){var L=C/this.detailX,R=2*Math.PI*L,k=Math.cos(R),R=Math.sin(R),R=new n.default.Vector(w*R,E,w*k);this.vertices.push(R),this.vertexNormals.push(R),this.uvs.push(L,x)}})).computeFaces(),c<=24&&u<=24?o._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(f,o)),this._renderer.drawBuffersScaled(f,a,i,h),this},n.default.prototype.torus=function(o,f,i,h){if(this._assert3d("torus"),n.default._validateParameters("torus",arguments),o===void 0)o=50;else if(!o)return;if(f===void 0)f=10;else if(!f)return;i===void 0&&(i=24),h===void 0&&(h=16);var c,u=(f/o).toPrecision(4),f="torus|".concat(u,"|").concat(i,"|").concat(h);return this._renderer.geometryInHash(f)||((c=new n.default.Geometry(i,h,function(){for(var y=0;y<=this.detailY;y++)for(var x=y/this.detailY,M=2*Math.PI*x,w=Math.cos(M),E=Math.sin(M),C=1+u*w,L=0;L<=this.detailX;L++){var k=L/this.detailX,R=2*Math.PI*k,F=Math.cos(R),R=Math.sin(R),P=new n.default.Vector(C*F,C*R,u*E),F=new n.default.Vector(w*F,w*R,E);this.vertices.push(P),this.vertexNormals.push(F),this.uvs.push(k,x)}})).computeFaces(),i<=24&&h<=16?c._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(f,c)),this._renderer.drawBuffersScaled(f,o,o,o),this},n.default.RendererGL.prototype.point=function(o,a){var i=[];return i.push(new n.default.Vector(o,a,2<arguments.length&&arguments[2]!==void 0?arguments[2]:0)),this._drawPoints(i,this.immediateMode.buffers.point),this},n.default.RendererGL.prototype.triangle=function(f){var a=f[0],i=f[1],h=f[2],c=f[3],u=f[4],f=f[5],y=(this.geometryInHash("tri")||((y=new n.default.Geometry(1,1,function(){var w=[];w.push(new n.default.Vector(0,0,0)),w.push(new n.default.Vector(1,0,0)),w.push(new n.default.Vector(0,1,0)),this.edges=[[0,1],[1,2],[2,0]],this.vertices=w,this.faces=[[0,1,2]],this.uvs=[0,0,1,0,1,1]}))._edgesToVertices(),y.computeNormals(),this.createBuffers("tri",y)),this.uModelMatrix.copy());try{var x=Math.sign(a*c-h*i+h*f-u*c+u*i-a*f),M=new n.default.Matrix([h-a,c-i,0,0,u-a,f-i,0,0,0,0,x,0,a,i,0,1]).mult(this.uModelMatrix);this.uModelMatrix=M,this.drawBuffers("tri")}finally{this.uModelMatrix=y}return this},n.default.RendererGL.prototype.ellipse=function(o){this.arc(o[0],o[1],o[2],o[3],0,d.TWO_PI,d.OPEN,o[4])},n.default.RendererGL.prototype.arc=function(){var o,a=arguments.length<=0?void 0:arguments[0],i=arguments.length<=1?void 0:arguments[1],h=arguments.length<=2?void 0:arguments[2],c=arguments.length<=3?void 0:arguments[3],u=arguments.length<=4?void 0:arguments[4],f=arguments.length<=5?void 0:arguments[5],y=arguments.length<=6?void 0:arguments[6],x=(arguments.length<=7?void 0:arguments[7])||25,M=(Math.abs(f-u)>=d.TWO_PI?"".concat(w="ellipse","|"):"".concat(w="arc","|").concat(u,"|").concat(f,"|").concat(y,"|")).concat(x,"|"),w=(this.geometryInHash(M)||((o=new n.default.Geometry(x,1,function(){if(u.toFixed(10)!==f.toFixed(10)){y!==d.PIE&&y!==void 0||(this.vertices.push(new n.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var E=0;E<=x;E++){var L=(f-u)*(E/x)+u,C=.5+Math.cos(L)/2,L=.5+Math.sin(L)/2;this.vertices.push(new n.default.Vector(C,L,0)),this.uvs.push([C,L]),E<x-1&&(this.faces.push([0,E+1,E+2]),this.edges.push([E+1,E+2]))}switch(y){case d.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,1]),this.edges.push([this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,this.vertices.length-1]);break;case d.CHORD:this.edges.push([0,1]),this.edges.push([0,this.vertices.length-1]);break;case d.OPEN:this.edges.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([this.vertices.length-2,this.vertices.length-1])}}})).computeNormals(),x<=50?o._edgesToVertices(o):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(w," with more than 50 detail")),this.createBuffers(M,o)),this.uModelMatrix.copy());try{this.uModelMatrix.translate([a,i,0]),this.uModelMatrix.scale(h,c,1),this.drawBuffers(M)}finally{this.uModelMatrix=w}return this},n.default.RendererGL.prototype.rect=function(o){var a=o[0],i=o[1],h=o[2],c=o[3];if(o[4]===void 0){var y=this._pInst._glAttributes.perPixelLighting,u=o[4]||(y?1:24),f=o[5]||(y?1:16),y="rect|".concat(u,"|").concat(f),x=(this.geometryInHash(y)||((x=new n.default.Geometry(u,f,function(){for(var H=0;H<=this.detailY;H++)for(var z=H/this.detailY,G=0;G<=this.detailX;G++){var Q=G/this.detailX,ie=new n.default.Vector(Q,z,0);this.vertices.push(ie),this.uvs.push(Q,z)}0<u&&0<f&&(this.edges=[[0,u],[u,(u+1)*(f+1)-1],[(u+1)*(f+1)-1,(u+1)*f],[(u+1)*f,0]])})).computeFaces().computeNormals()._edgesToVertices(),this.createBuffers(y,x)),this.uModelMatrix.copy());try{this.uModelMatrix.translate([a,i,0]),this.uModelMatrix.scale(h,c,1),this.drawBuffers(y)}finally{this.uModelMatrix=x}}else{var y=o[4],x=o[5]===void 0?y:o[5],M=o[6]===void 0?x:o[6],o=o[7]===void 0?M:o[7],R=h,w=c,L=((R+=a)<a&&(L=a,a=R,R=L),(w+=i)<i&&(L=i,i=w,w=L),Math.min((R-a)/2,(w-i)/2)),E=(L<y&&(y=L),L<x&&(x=L),L<M&&(M=L),L<o&&(o=L),a),C=i,L=R,a=w,k=(this.beginShape(),x!==0?(this.vertex(L-x,C),this.quadraticVertex(L,C,L,C+x)):this.vertex(L,C),M!==0?(this.vertex(L,a-M),this.quadraticVertex(L,a,L-M,a)):this.vertex(L,a),o!==0?(this.vertex(E+o,a),this.quadraticVertex(E,a,E,a-o)):this.vertex(E,a),y!==0?(this.vertex(E,C+y),this.quadraticVertex(E,C,E+y,C)):this.vertex(E,C),!(this.immediateMode.geometry.uvs.length=0)),i=!1,R=void 0;try{for(var P,F=this.immediateMode.geometry.vertices[Symbol.iterator]();!(k=(P=F.next()).done);k=!0){var I=P.value,B=(I.x-E)/h,V=(I.y-C)/c;this.immediateMode.geometry.uvs.push(B,V)}}catch(T){i=!0,R=T}finally{try{k||F.return==null||F.return()}finally{if(i)throw R}}this.endShape(d.CLOSE)}return this},n.default.RendererGL.prototype.quad=function(o,a,i,h,c,u,f,y,x,M,w,E){var C=12<arguments.length&&arguments[12]!==void 0?arguments[12]:2,L=13<arguments.length&&arguments[13]!==void 0?arguments[13]:2,k="quad|".concat(o,"|").concat(a,"|").concat(i,"|").concat(h,"|").concat(c,"|").concat(u,"|").concat(f,"|").concat(y,"|").concat(x,"|").concat(M,"|").concat(w,"|").concat(E,"|").concat(C,"|").concat(L);if(!this.geometryInHash(k)){var R=new n.default.Geometry(C,L,function(){for(var G=1/(this.detailX-1),Q=1/(this.detailY-1),ie=0;ie<this.detailY;ie++)for(var T=0;T<this.detailX;T++){var D=T*G,U=ie*Q;this.vertices.push(new n.default.Vector((1-D)*((1-U)*o+U*M)+D*((1-U)*h+U*f),(1-D)*((1-U)*a+U*w)+D*((1-U)*c+U*y),(1-D)*((1-U)*i+U*E)+D*((1-U)*u+U*x))),this.uvs.push([D,U])}});R.faces=[];for(var P=0;P<L-1;P++)for(var F=0;F<C-1;F++){var I=F+P*C,B=F+1+(P+1)*C,V=F+(P+1)*C;R.faces.push([I,F+1+P*C,B]),R.faces.push([I,B,V])}R.computeNormals();for(var H=[R.edges.length=0,2,3,1],z=0;z<H.length;z++)R.edges.push([H[z],H[(z+1)%H.length]]);R._edgesToVertices(),this.createBuffers(k,R)}return this.drawBuffers(k),this},n.default.RendererGL.prototype.bezier=function(o,a,i,h,c,u,f,y,x,M,w,E){arguments.length===8&&(w=y,M=f,y=u,f=c,c=h,h=i,i=u=x=E=0);var C=this._pInst._bezierDetail||20;this.beginShape();for(var L=0;L<=C;L++){var k=Math.pow(1-L/C,3),R=L/C*3*Math.pow(1-L/C,2),P=3*Math.pow(L/C,2)*(1-L/C),F=Math.pow(L/C,3);this.vertex(o*k+h*R+f*P+M*F,a*k+c*R+y*P+w*F,i*k+u*R+x*P+E*F)}return this.endShape(),this},n.default.RendererGL.prototype.curve=function(o,a,i,h,c,u,f,y,x,M,w,E){arguments.length===8&&(M=f,w=y,f=c,y=h,c=h=i,i=u=x=E=0);var C=this._pInst._curveDetail;this.beginShape();for(var L=0;L<=C;L++){var k=.5*Math.pow(L/C,3),R=.5*Math.pow(L/C,2),P=L/C*.5;this.vertex(k*(3*h-o-3*f+M)+R*(2*o-5*h+4*f-M)+P*(-o+f)+2*h*.5,k*(3*c-a-3*y+w)+R*(2*a-5*c+4*y-w)+P*(-a+y)+2*c*.5,k*(3*u-i-3*x+E)+R*(2*i-5*u+4*x-E)+P*(-i+x)+2*u*.5)}return this.endShape(),this},n.default.RendererGL.prototype.line=function(){return arguments.length===6?(this.beginShape(d.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):arguments.length===4&&(this.beginShape(d.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},n.default.RendererGL.prototype.bezierVertex=function(){if(this.immediateMode._bezierVertex.length===0)throw Error("vertex() must be used once before calling bezierVertex()");var o,a,i,h,c,u,f=[],y=[],x=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var M=1/this._lutBezierDetail,w=0,E=1,C=0;w<1;){if(u=parseFloat(w.toFixed(6)),this._lookUpTableBezier[C]=this._bezierCoefficients(u),E.toFixed(6)===M.toFixed(6)){u=parseFloat(E.toFixed(6))+parseFloat(w.toFixed(6)),++C,this._lookUpTableBezier[C]=this._bezierCoefficients(u);break}w+=M,E-=M,++C}}for(var L=this._lookUpTableBezier.length,k=[],R=0;R<4;R++)k.push([]);k[0]=this.immediateMode.geometry.vertexColors.slice(-4),k[3]=this.curFillColor.slice();var P=[];for(R=0;R<4;R++)P.push([]);if(P[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),P[3]=this.curStrokeColor.slice(),x===6){this.isBezier=!0;var f=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],y=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]],F=Math.hypot(f[0]-f[1],y[0]-y[1]),B=Math.hypot(f[1]-f[2],y[1]-y[2]),I=Math.hypot(f[2]-f[3],y[2]-y[3]),B=F+B+I;for(F/=B,I/=B,c=0;c<4;c++)k[1].push(k[0][c]*(1-F)+k[3][c]*F),k[2].push(k[0][c]*I+k[3][c]*(1-I)),P[1].push(P[0][c]*(1-F)+P[3][c]*F),P[2].push(P[0][c]*I+P[3][c]*(1-I));for(h=0;h<L;h++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],R=o=a=0;R<4;R++){for(c=0;c<4;c++)this.curFillColor[c]+=this._lookUpTableBezier[h][R]*k[R][c],this.curStrokeColor[c]+=this._lookUpTableBezier[h][R]*P[R][c];o+=f[R]*this._lookUpTableBezier[h][R],a+=y[R]*this._lookUpTableBezier[h][R]}this.vertex(o,a)}this.curFillColor=k[3],this.curStrokeColor=P[3],this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(x===9){this.isBezier=!0,f=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],y=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]];var V=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],H=Math.hypot(f[0]-f[1],y[0]-y[1],V[0]-V[1]),B=Math.hypot(f[1]-f[2],y[1]-y[2],V[1]-V[2]),z=Math.hypot(f[2]-f[3],y[2]-y[3],V[2]-V[3]),x=H+B+z;for(H/=x,z/=x,c=0;c<4;c++)k[1].push(k[0][c]*(1-H)+k[3][c]*H),k[2].push(k[0][c]*z+k[3][c]*(1-z)),P[1].push(P[0][c]*(1-H)+P[3][c]*H),P[2].push(P[0][c]*z+P[3][c]*(1-z));for(h=0;h<L;h++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],R=o=a=i=0;R<4;R++){for(c=0;c<4;c++)this.curFillColor[c]+=this._lookUpTableBezier[h][R]*k[R][c],this.curStrokeColor[c]+=this._lookUpTableBezier[h][R]*P[R][c];o+=f[R]*this._lookUpTableBezier[h][R],a+=y[R]*this._lookUpTableBezier[h][R],i+=V[R]*this._lookUpTableBezier[h][R]}this.vertex(o,a,i)}this.curFillColor=k[3],this.curStrokeColor=P[3],this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},n.default.RendererGL.prototype.quadraticVertex=function(){if(this.immediateMode._quadraticVertex.length===0)throw Error("vertex() must be used once before calling quadraticVertex()");var o,a,i,h,c,u,f=[],y=[],x=arguments.length;if(this._lookUpTableQuadratic.length===0||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var M=1/this._lutQuadraticDetail,w=0,E=1,C=0;w<1;){if(u=parseFloat(w.toFixed(6)),this._lookUpTableQuadratic[C]=this._quadraticCoefficients(u),E.toFixed(6)===M.toFixed(6)){u=parseFloat(E.toFixed(6))+parseFloat(w.toFixed(6)),++C,this._lookUpTableQuadratic[C]=this._quadraticCoefficients(u);break}w+=M,E-=M,++C}}for(var L=this._lookUpTableQuadratic.length,k=[],R=0;R<3;R++)k.push([]);k[0]=this.immediateMode.geometry.vertexColors.slice(-4),k[2]=this.curFillColor.slice();var P=[];for(R=0;R<3;R++)P.push([]);if(P[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),P[2]=this.curStrokeColor.slice(),x===4){this.isQuadratic=!0;var f=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],y=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]],F=Math.hypot(f[0]-f[1],y[0]-y[1]);for(F/=F+Math.hypot(f[1]-f[2],y[1]-y[2]),c=0;c<4;c++)k[1].push(k[0][c]*(1-F)+k[2][c]*F),P[1].push(P[0][c]*(1-F)+P[2][c]*F);for(h=0;h<L;h++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],R=o=a=0;R<3;R++){for(c=0;c<4;c++)this.curFillColor[c]+=this._lookUpTableQuadratic[h][R]*k[R][c],this.curStrokeColor[c]+=this._lookUpTableQuadratic[h][R]*P[R][c];o+=f[R]*this._lookUpTableQuadratic[h][R],a+=y[R]*this._lookUpTableQuadratic[h][R]}this.vertex(o,a)}this.curFillColor=k[2],this.curStrokeColor=P[2],this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(x===6){this.isQuadratic=!0,f=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],y=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]];var I=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],B=Math.hypot(f[0]-f[1],y[0]-y[1],I[0]-I[1]);for(B/=B+Math.hypot(f[1]-f[2],y[1]-y[2],I[1]-I[2]),c=0;c<4;c++)k[1].push(k[0][c]*(1-B)+k[2][c]*B),P[1].push(P[0][c]*(1-B)+P[2][c]*B);for(h=0;h<L;h++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],R=o=a=i=0;R<3;R++){for(c=0;c<4;c++)this.curFillColor[c]+=this._lookUpTableQuadratic[h][R]*k[R][c],this.curStrokeColor[c]+=this._lookUpTableQuadratic[h][R]*P[R][c];o+=f[R]*this._lookUpTableQuadratic[h][R],a+=y[R]*this._lookUpTableQuadratic[h][R],i+=I[R]*this._lookUpTableQuadratic[h][R]}this.vertex(o,a,i)}this.curFillColor=k[2],this.curStrokeColor=P[2],this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},n.default.RendererGL.prototype.curveVertex=function(){var o,a,i,h,c,u,f=[],y=[],x=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var M=1/this._lutBezierDetail,w=0,E=1,C=0;w<1;){if(u=parseFloat(w.toFixed(6)),this._lookUpTableBezier[C]=this._bezierCoefficients(u),E.toFixed(6)===M.toFixed(6)){u=parseFloat(E.toFixed(6))+parseFloat(w.toFixed(6)),++C,this._lookUpTableBezier[C]=this._bezierCoefficients(u);break}w+=M,E-=M,++C}}var L=this._lookUpTableBezier.length;if(x===2){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.length===8){for(this.isCurve=!0,f=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),y=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),c=0;c<L;c++)a=f[0]*this._lookUpTableBezier[c][0]+f[1]*this._lookUpTableBezier[c][1]+f[2]*this._lookUpTableBezier[c][2]+f[3]*this._lookUpTableBezier[c][3],i=y[0]*this._lookUpTableBezier[c][0]+y[1]*this._lookUpTableBezier[c][1]+y[2]*this._lookUpTableBezier[c][2]+y[3]*this._lookUpTableBezier[c][3],this.vertex(a,i);for(c=0;c<x;c++)this.immediateMode._curveVertex.shift()}}else if(x===3&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),this.immediateMode._curveVertex.length===12)){for(this.isCurve=!0,f=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),y=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),o=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),c=0;c<L;c++)a=f[0]*this._lookUpTableBezier[c][0]+f[1]*this._lookUpTableBezier[c][1]+f[2]*this._lookUpTableBezier[c][2]+f[3]*this._lookUpTableBezier[c][3],i=y[0]*this._lookUpTableBezier[c][0]+y[1]*this._lookUpTableBezier[c][1]+y[2]*this._lookUpTableBezier[c][2]+y[3]*this._lookUpTableBezier[c][3],h=o[0]*this._lookUpTableBezier[c][0]+o[1]*this._lookUpTableBezier[c][1]+o[2]*this._lookUpTableBezier[c][2]+o[3]*this._lookUpTableBezier[c][3],this.vertex(a,i,h);for(c=0;c<x;c++)this.immediateMode._curveVertex.shift()}},n.default.RendererGL.prototype.image=function(o,E,i,C,c,u,f,y,x){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.noStroke(),this._pInst.texture(o),this._pInst.textureMode(d.NORMAL);var M=0,w=(E<=o.width&&(M=E/o.width),1),E=(E+C<=o.width&&(w=(E+C)/o.width),0),C=(i<=o.height&&(E=i/o.height),1);i+c<=o.height&&(C=(i+c)/o.height),this.beginShape(),this.vertex(u,f,0,M,E),this.vertex(u+y,f,0,w,E),this.vertex(u+y,f+x,0,w,C),this.vertex(u,f+x,0,M,C),this.endShape(d.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(d.REMOVE)};var r=n.default;b.default=r},{"../core/constants":272,"../core/main":283,"./p5.Geometry":335,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.math.sign":178,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],327:[function(t,_,b){function s(a){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(a)}function l(a){return(l=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(i){return s(i)}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":s(i)})(a)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.assign"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var n=(o=t("../core/main"))&&o.__esModule?o:{default:o},d=function(a){if(a&&a.__esModule)return a;if(a===null||l(a)!=="object"&&typeof a!="function")return{default:a};var i=m();if(i&&i.has(a))return i.get(a);var h,c={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in a){var f;Object.prototype.hasOwnProperty.call(a,h)&&((f=u?Object.getOwnPropertyDescriptor(a,h):null)&&(f.get||f.set)?Object.defineProperty(c,h,f):c[h]=a[h])}return c.default=a,i&&i.set(a,c),c}(t("../core/constants"));function m(){var a;return typeof WeakMap!="function"?null:(a=new WeakMap,m=function(){return a},a)}function p(a){return function(i){if(Array.isArray(i)){for(var h=0,c=new Array(i.length);h<i.length;h++)c[h]=i[h];return c}}(a)||function(i){if(Symbol.iterator in Object(i)||Object.prototype.toString.call(i)==="[object Arguments]")return Array.from(i)}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function r(a,i){for(var h=0;h<i.length;h++){var c=i[h];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}}var o=function(){function a(c){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");(this.renderer=c)._pInst.push(),this.identityMatrix=new n.default.Matrix,c.uModelMatrix=new n.default.Matrix,this.geometry=new n.default.Geometry,this.geometry.gid="_p5_GeometryBuilder_".concat(a.nextGeometryId),a.nextGeometryId++,this.hasTransform=!1}var i,h;return i=a,(h=[{key:"transformVertices",value:function(c){var u=this;return this.hasTransform?c.map(function(f){return u.renderer.uModelMatrix.multiplyPoint(f)}):c}},{key:"transformNormals",value:function(c){var u=this;return this.hasTransform?c.map(function(f){return u.renderer.uNMatrix.multiplyVec3(f)}):c}},{key:"addGeometry",value:function(c){for(var u,f=this,y=(this.hasTransform=!this.renderer.uModelMatrix.mat4.every(function(M,w){return M===f.identityMatrix.mat4[w]}),this.hasTransform&&this.renderer.uNMatrix.inverseTranspose(this.renderer.uModelMatrix),this.geometry.vertices.length),x=((u=this.geometry.vertices).push.apply(u,p(this.transformVertices(c.vertices))),(u=this.geometry.vertexNormals).push.apply(u,p(this.transformNormals(c.vertexNormals))),(u=this.geometry.uvs).push.apply(u,p(c.uvs)),this.renderer._doFill&&(u=this.geometry.faces).push.apply(u,p(c.faces.map(function(M){return M.map(function(w){return w+y})}))),this.renderer._doStroke&&(u=this.geometry.edges).push.apply(u,p(c.edges.map(function(M){return M.map(function(w){return w+y})}))),p(c.vertexColors));x.length<4*c.vertices.length;)x.push.apply(x,p(this.renderer.curFillColor));(u=this.geometry.vertexColors).push.apply(u,p(x))}},{key:"addImmediate",value:function(){var c=this.renderer.immediateMode.geometry,u=this.renderer.immediateMode.shapeMode,f=[];if(this.renderer._doFill)if(u===d.TRIANGLE_STRIP||u===d.QUAD_STRIP)for(var y=2;y<c.vertices.length;y++)y%2==0?f.push([y,y-1,y-2]):f.push([y,y-2,y-1]);else if(u===d.TRIANGLE_FAN)for(var x=2;x<c.vertices.length;x++)f.push([0,x-1,x]);else for(var M=0;M<c.vertices.length;M+=3)f.push([M,M+1,M+2]);this.addGeometry(Object.assign({},c,{faces:f}))}},{key:"addRetained",value:function(c){this.addGeometry(c.model)}},{key:"finish",value:function(){return this.renderer._pInst.pop(),this.geometry}}])&&r(i.prototype,h),a}();o.nextGeometryId=0,b.default=o},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.every":155,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],328:[function(t,_,b){function s(r){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(r)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var l=(p=t("../core/main"))&&p.__esModule?p:{default:p},n=function(r){if(r&&r.__esModule)return r;if(r===null||m(r)!=="object"&&typeof r!="function")return{default:r};var o=d();if(o&&o.has(r))return o.get(r);var a,i={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in r){var c;Object.prototype.hasOwnProperty.call(r,a)&&((c=h?Object.getOwnPropertyDescriptor(r,a):null)&&(c.get||c.set)?Object.defineProperty(i,a,c):i[a]=r[a])}return i.default=r,o&&o.set(r,i),i}(t("../core/constants"));function d(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,d=function(){return r},r)}function m(r){return(m=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(o){return s(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":s(o)})(r)}l.default.prototype.orbitControl=function(r,o,a,x){var h=this,c=(this._assert3d("orbitControl"),l.default._validateParameters("orbitControl",arguments),this._renderer._curCamera);r===void 0&&(r=1),o===void 0&&(o=r),a===void 0&&(a=1),m(x)!=="object"&&(x={}),this.contextMenuDisabled!==!0&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),this.wheelDefaultDisabled!==!0&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var w=x.disableTouchActions;this.touchActionsDisabled===!0||w!==void 0&&!w||(this.canvas.style["touch-action"]="none",this._setProperty("touchActionsDisabled",!0));var u,f,y,w=x.freeRotation,x=w!==void 0&&w,M=[],w=(this.touches.forEach(function(F){h._renderer.prevTouches.forEach(function(I){F.id===I.id&&(I={x:F.x,y:F.y,px:I.x,py:I.y},M.push(I))})}),this._renderer.prevTouches=this.touches,0),E=0,C=0,L=0,k=0,R=this.height<this.width?this.height:this.width,P=!1;return 0<M.length?(P=0<M[0].x&&M[0].x<this.width&&0<M[0].y&&M[0].y<this.height,M.length===1?(E=-r*((u=M[0]).x-u.px)/R,C=o*(u.y-u.py)/R):(u=M[0],f=M[1],w=-(Math.hypot(u.x-f.x,u.y-f.y)-Math.hypot(u.px-f.px,u.py-f.py))*a*4e-4,L=.5*(u.x+f.x)-.5*(u.px+f.px),k=.5*(u.y+f.y)-.5*(u.py+f.py)),0<this.touches.length?P&&(this._renderer.executeRotateAndMove=!0,this._renderer.executeZoom=!0):(this._renderer.executeRotateAndMove=!1,this._renderer.executeZoom=!1)):(P=0<this.mouseX&&this.mouseX<this.width&&0<this.mouseY&&this.mouseY<this.height,this._mouseWheelDeltaY!==0?(w=Math.sign(this._mouseWheelDeltaY)*a,w*=.01,this._mouseWheelDeltaY=0,P&&(this._renderer.executeZoom=!0)):this._renderer.executeZoom=!1,this.mouseIsPressed?(this.mouseButton===this.LEFT?(E=-r*this.movedX/R,C=o*this.movedY/R):this.mouseButton===this.RIGHT&&(L=this.movedX,k=this.movedY*c.yScale),P&&(this._renderer.executeRotateAndMove=!0)):this._renderer.executeRotateAndMove=!1),w!==0&&this._renderer.executeZoom&&(this._renderer.zoomVelocity+=w),.001<Math.abs(this._renderer.zoomVelocity)?(x?c._orbitFree(0,0,this._renderer.zoomVelocity):c._orbit(0,0,this._renderer.zoomVelocity),c.projMatrix.mat4[15]!==0&&(c.projMatrix.mat4[0]*=Math.pow(10,-this._renderer.zoomVelocity),c.projMatrix.mat4[5]*=Math.pow(10,-this._renderer.zoomVelocity),this._renderer.uPMatrix.mat4[0]=c.projMatrix.mat4[0],this._renderer.uPMatrix.mat4[5]=c.projMatrix.mat4[5]),this._renderer.zoomVelocity*=.85):this._renderer.zoomVelocity=0,E===0&&C===0||!this._renderer.executeRotateAndMove||this._renderer.rotateVelocity.add(.6*E,.6*C),1e-6<this._renderer.rotateVelocity.magSq()?(x?c._orbitFree(-this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0):c._orbit(this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0),this._renderer.rotateVelocity.mult(.85)):this._renderer.rotateVelocity.set(0,0),L===0&&k===0||!this._renderer.executeRotateAndMove||(u=2*L/this.width,f=2*-k/this.height,this._renderer.moveVelocity.add(.15*u,.15*f)),1e-6<this._renderer.moveVelocity.magSq()?(a=c._getLocalAxes(),r=c.eyeX-c.centerX,o=c.eyeY-c.centerY,R=c.eyeZ-c.centerZ,P=Math.sqrt(r*r+o*o+R*R),w=new l.default.Vector(c.centerX,c.centerY,c.centerZ),w=c.cameraMatrix.multiplyPoint(w),(w=this._renderer.uPMatrix.multiplyAndNormalizePoint(w)).x-=this._renderer.moveVelocity.x,w.y-=this._renderer.moveVelocity.y,C=(E=this._renderer.uPMatrix.mat4)[15]===0?(y=(E[8]+w.x)/E[0]*P,(E[9]+w.y)/E[5]*P):(y=(w.x-E[12])/E[0],(w.y-E[13])/E[5]),c.setPosition(c.eyeX+y*a.x[0]+C*a.y[0],c.eyeY+y*a.x[1]+C*a.y[1],c.eyeZ+y*a.x[2]+C*a.y[2]),this._renderer.moveVelocity.mult(.85)):this._renderer.moveVelocity.set(0,0),this},l.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];l.default._validateParameters("debugMode",o);for(var i=this._registeredMethods.post.length-1;0<=i;i--)this._registeredMethods.post[i].toString()!==this._grid().toString()&&this._registeredMethods.post[i].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(i,1);o[0]===n.GRID?this.registerMethod("post",this._grid(o[1],o[2],o[3],o[4],o[5])):o[0]===n.AXES?this.registerMethod("post",this._axesIcon(o[1],o[2],o[3],o[4])):(this.registerMethod("post",this._grid(o[0],o[1],o[2],o[3],o[4])),this.registerMethod("post",this._axesIcon(o[5],o[6],o[7],o[8])))},l.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var r=this._registeredMethods.post.length-1;0<=r;r--)this._registeredMethods.post[r].toString()!==this._grid().toString()&&this._registeredMethods.post[r].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(r,1)},l.default.prototype._grid=function(r,o,a,i,h){r===void 0&&(r=this.width/2),o===void 0&&(o=Math.round(r/30)<4?4:Math.round(r/30)),a===void 0&&(a=0),i===void 0&&(i=0),h===void 0&&(h=0);var c=r/o,u=r/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uModelMatrix.reset();for(var f=0;f<=o;f++)this.beginShape(this.LINES),this.vertex(-u+a,i,f*c-u+h),this.vertex(u+a,i,f*c-u+h),this.endShape();for(var y=0;y<=o;y++)this.beginShape(this.LINES),this.vertex(y*c-u+a,i,-u+h),this.vertex(y*c-u+a,i,u+h),this.endShape();this.pop()}},l.default.prototype._axesIcon=function(r,o,a,i){return r===void 0&&(r=40<this.width/20?this.width/20:40),o===void 0&&(o=-this.width/4),a===void 0&&(a=o),i===void 0&&(i=o),function(){this.push(),this._renderer.uModelMatrix.reset(),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(o,a,i),this.vertex(o+r,a,i),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(o,a,i),this.vertex(o,a+r,i),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(o,a,i),this.vertex(o,a,i+r),this.endShape(),this.pop()}};var p=l.default;b.default=p},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.splice":171,"core-js/modules/es.math.hypot":176,"core-js/modules/es.math.sign":178,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],329:[function(t,_,b){t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.filter"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var s=(t=t("../core/main"))&&t.__esModule?t:{default:t};s.default.prototype.ambientLight=function(l,n,d,m){this._assert3d("ambientLight"),s.default._validateParameters("ambientLight",arguments);var p=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(p._array[0],p._array[1],p._array[2]),this._renderer._enableLighting=!0,this},s.default.prototype.specularColor=function(l,n,d){this._assert3d("specularColor"),s.default._validateParameters("specularColor",arguments);var m=this.color.apply(this,arguments);return this._renderer.specularColors=[m._array[0],m._array[1],m._array[2]],this},s.default.prototype.directionalLight=function(l,h,i,m,p,r){this._assert3d("directionalLight"),s.default._validateParameters("directionalLight",arguments),l=l instanceof s.default.Color?l:this.color(l,h,i);var o,a,h=arguments[arguments.length-1],i=typeof h=="number"?(o=arguments[arguments.length-3],a=arguments[arguments.length-2],arguments[arguments.length-1]):(o=h.x,a=h.y,h.z),h=Math.sqrt(o*o+a*a+i*i);return this._renderer.directionalLightDirections.push(o/h,a/h,i/h),this._renderer.directionalLightDiffuseColors.push(l._array[0],l._array[1],l._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},s.default.prototype.pointLight=function(l,i,h,m,p,r){this._assert3d("pointLight"),s.default._validateParameters("pointLight",arguments),l=l instanceof s.default.Color?l:this.color(l,i,h);var o,a,i=arguments[arguments.length-1],h=typeof i=="number"?(o=arguments[arguments.length-3],a=arguments[arguments.length-2],arguments[arguments.length-1]):(o=i.x,a=i.y,i.z);return this._renderer.pointLightPositions.push(o,a,h),this._renderer.pointLightDiffuseColors.push(l._array[0],l._array[1],l._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},s.default.prototype.imageLight=function(l){this._renderer.activeImageLight=l,this._renderer._enableLighting=!0},s.default.prototype.panorama=function(l){this.filter(this._renderer._getSphereMapping(l))},s.default.prototype.lights=function(){this._assert3d("lights");var l=this.color("rgb(128,128,128)");return this.ambientLight(l),this.directionalLight(l,0,0,-1),this},s.default.prototype.lightFalloff=function(l,n,d){return this._assert3d("lightFalloff"),s.default._validateParameters("lightFalloff",arguments),l<0&&(l=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),n<0&&(n=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),d<0&&(d=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),l===0&&n===0&&d===0&&(l=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=l,this._renderer.linearAttenuation=n,this._renderer.quadraticAttenuation=d,this},s.default.prototype.spotLight=function(l,n,d,m,p,r,o,a,i,h,c){this._assert3d("spotLight"),s.default._validateParameters("spotLight",arguments);var u,f,y,x=arguments.length;switch(x){case 11:case 10:u=this.color(l,n,d),f=new s.default.Vector(m,p,r),y=new s.default.Vector(o,a,i);break;case 9:l instanceof s.default.Color?(u=l,f=new s.default.Vector(n,d,m),y=new s.default.Vector(p,r,o),h=a,c=i):m instanceof s.default.Vector?(u=this.color(l,n,d),f=m,y=new s.default.Vector(p,r,o),h=a,c=i):o instanceof s.default.Vector?(u=this.color(l,n,d),f=new s.default.Vector(m,p,r),y=o,h=a,c=i):(u=this.color(l,n,d),f=new s.default.Vector(m,p,r),y=new s.default.Vector(o,a,i));break;case 8:h=(y=l instanceof s.default.Color?(u=l,f=new s.default.Vector(n,d,m),new s.default.Vector(p,r,o)):m instanceof s.default.Vector?(u=this.color(l,n,d),f=m,new s.default.Vector(p,r,o)):(u=this.color(l,n,d),f=new s.default.Vector(m,p,r),o),a);break;case 7:l instanceof s.default.Color&&n instanceof s.default.Vector?(u=l,f=n,y=new s.default.Vector(d,m,p),h=r,c=o):l instanceof s.default.Color&&p instanceof s.default.Vector?(u=l,f=new s.default.Vector(n,d,m),y=p,h=r,c=o):m instanceof s.default.Vector&&p instanceof s.default.Vector?(u=this.color(l,n,d),f=m,y=p,h=r,c=o):y=l instanceof s.default.Color?(u=l,f=new s.default.Vector(n,d,m),new s.default.Vector(p,r,o)):m instanceof s.default.Vector?(u=this.color(l,n,d),f=m,new s.default.Vector(p,r,o)):(u=this.color(l,n,d),f=new s.default.Vector(m,p,r),o);break;case 6:m instanceof s.default.Vector&&p instanceof s.default.Vector?(u=this.color(l,n,d),f=m,y=p,h=r):l instanceof s.default.Color&&p instanceof s.default.Vector?(u=l,f=new s.default.Vector(n,d,m),y=p,h=r):l instanceof s.default.Color&&n instanceof s.default.Vector&&(u=l,f=n,y=new s.default.Vector(d,m,p),h=r);break;case 5:l instanceof s.default.Color&&n instanceof s.default.Vector&&d instanceof s.default.Vector?(u=l,f=n,y=d,h=m,c=p):m instanceof s.default.Vector&&p instanceof s.default.Vector?(u=this.color(l,n,d),f=m,y=p):l instanceof s.default.Color&&p instanceof s.default.Vector?(u=l,f=new s.default.Vector(n,d,m),y=p):l instanceof s.default.Color&&n instanceof s.default.Vector&&(u=l,f=n,y=new s.default.Vector(d,m,p));break;case 4:u=l,f=n,y=d,h=m;break;case 3:u=l,f=n,y=d;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(x<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(u._array[0],u._array[1],u._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(f.x,f.y,f.z),y.normalize(),this._renderer.spotLightDirections.push(y.x,y.y,y.z),h===void 0&&(h=Math.PI/3),c!==void 0&&c<1?(c=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):c===void 0&&(c=100),h=this._renderer._pInst._toRadians(h),this._renderer.spotLightAngle.push(Math.cos(h)),this._renderer.spotLightConc.push(c),this._renderer._enableLighting=!0,this},s.default.prototype.noLights=function(){this._assert3d("noLights");for(var l=arguments.length,n=new Array(l),d=0;d<l;d++)n[d]=arguments[d];return s.default._validateParameters("noLights",n),this._renderer.activeImageLight=null,this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this._renderer._useMetalness=0,this},t=s.default,b.default=t},{"../core/main":283,"core-js/modules/es.array.filter":157}],330:[function(t,_,b){function s(o){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(o)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0,t("regenerator-runtime/runtime");var l=(r=t("../core/main"))&&r.__esModule?r:{default:r};function n(o){return function(a){if(Array.isArray(a)){for(var i=0,h=new Array(a.length);i<a.length;i++)h[i]=a[i];return h}}(o)||function(a){if(Symbol.iterator in Object(a)||Object.prototype.toString.call(a)==="[object Arguments]")return Array.from(a)}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(o,a,i,h,c,u,f){try{var y=o[u](f),x=y.value}catch(M){return void i(M)}y.done?a(x):Promise.resolve(x).then(h,c)}function m(o){return function(){var a=this,i=arguments;return new Promise(function(h,c){var u=o.apply(a,i);function f(x){d(u,h,c,f,y,"next",x)}function y(x){d(u,h,c,f,y,"throw",x)}f(void 0)})}}function p(o){return(p=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(a){return s(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":s(a)})(o)}t("./p5.Geometry"),l.default.prototype.loadModel=function(o,a){l.default._validateParameters("loadModel",arguments);var i,h,c=!1,u=!1,f=!1,y=o.slice(-4),x=(a&&p(a)==="object"?(c=a.normalize||!1,i=a.successCallback,h=a.failureCallback,y=a.fileType||y,u=a.flipU||!1,f=a.flipV||!1):typeof a=="boolean"?(c=a,i=arguments[2],h=arguments[3],arguments[4]!==void 0&&(y=arguments[4])):(i=typeof a=="function"?a:void 0,h=arguments[2],arguments[3]!==void 0&&(y=arguments[3])),new l.default.Geometry),M=(x.gid="".concat(o,"|").concat(c),this);function w(){return(w=m(regeneratorRuntime.mark(function C(L){var k,R,P,F;return regeneratorRuntime.wrap(function(I){for(;;)switch(I.prev=I.next){case 0:for(k=[],R=0;R<L.length;R++)(P=L[R].match(/^mtllib (.+)/))&&function(){var B="",V=P[1],H=o.split("/");B=1<H.length?(H.pop(),H.join("/")+"/"+V):V,k.push(function(){return E.apply(this,arguments)}(B).then(function(z){return z?(G=M,Q=B,new Promise(function(ie,T){var D=null,U={};G.loadStrings(Q,function(W){for(var $=0;$<W.length;++$){var ee,ne=W[$].trim().split(/\s+/);ne[0]==="newmtl"?(ee=ne[1],U[D=ee]={}):ne[0]==="Kd"?U[D].diffuseColor=[parseFloat(ne[1]),parseFloat(ne[2]),parseFloat(ne[3])]:ne[0]==="Ka"?U[D].ambientColor=[parseFloat(ne[1]),parseFloat(ne[2]),parseFloat(ne[3])]:ne[0]==="Ks"?U[D].specularColor=[parseFloat(ne[1]),parseFloat(ne[2]),parseFloat(ne[3])]:ne[0]==="map_Kd"&&(U[D].texturePath=ne[1])}ie(U)},T)})):(console.warn("MTL file not found or error in parsing; proceeding without materials: ".concat(B)),{});var G,Q}).catch(function(z){return console.warn("Error loading MTL file: ".concat(B),z),{}}))}();return I.prev=2,I.next=5,Promise.all(k);case 5:return F=I.sent,F=Object.assign.apply(Object,[{}].concat(n(F))),I.abrupt("return",F);case 10:return I.prev=10,I.t0=I.catch(2),I.abrupt("return",{});case 13:case"end":return I.stop()}},C,null,[[2,10]])}))).apply(this,arguments)}function E(){return(E=m(regeneratorRuntime.mark(function C(L){var k;return regeneratorRuntime.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.prev=0,R.next=3,fetch(L,{method:"HEAD"});case 3:return k=R.sent,R.abrupt("return",k.ok);case 7:return R.prev=7,R.t0=R.catch(0),R.abrupt("return",!1);case 10:case"end":return R.stop()}},C,null,[[0,7]])}))).apply(this,arguments)}return y.match(/\.stl$/i)?this.httpDo(o,"GET","arrayBuffer",function(C){(function(L,k){if(function(R){for(var P=new DataView(R),F=[115,111,108,105,100],I=0;I<5;I++)if(function(B,V,H){for(var z=0,G=B.length;z<G;z++)if(B[z]!==V.getUint8(H+z,!1))return;return 1}(F,P,I))return;return 1}(k))(function(R,P){for(var F,I,B,V,H,z,G,Q=new DataView(P),ie=Q.getUint32(80,!0),T=!1,D=0;D<70;D++)Q.getUint32(D,!1)===1129270351&&Q.getUint8(D+4)===82&&Q.getUint8(D+5)===61&&(T=!0,V=[],H=Q.getUint8(D+6)/255,z=Q.getUint8(D+7)/255,G=Q.getUint8(D+8)/255);for(var U=0;U<ie;U++){for(var W,$=84+50*U,ee=Q.getFloat32($,!0),ne=Q.getFloat32(4+$,!0),fe=Q.getFloat32(8+$,!0),se=(T&&(W=Q.getUint16(48+$,!0),B=32768&W?(F=H,I=z,G):(F=(31&W)/31,I=(W>>5&31)/31,(W>>10&31)/31)),new l.default.Vector(ee,ne,fe)),he=1;he<=3;he++){var ae=$+12*he,ae=new l.default.Vector(Q.getFloat32(ae,!0),Q.getFloat32(4+ae,!0),Q.getFloat32(8+ae,!0));R.vertices.push(ae),R.vertexNormals.push(se),T&&V.push(F,I,B)}R.faces.push([3*U,3*U+1,3*U+2]),R.uvs.push([0,0],[0,0],[0,0])}})(L,k);else{if(k=new DataView(k),!("TextDecoder"in window))return console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)");k=new TextDecoder("utf-8").decode(k).split(`
`),function(R,P){for(var F,I,B="",V=[],H=0;H<P.length;++H){for(var z=P[H].trim(),G=z.split(" "),Q=0;Q<G.length;++Q)G[Q]===""&&G.splice(Q,1);if(G.length!==0)switch(B){case"":if(G[0]!=="solid")return console.error(z),console.error('Invalid state "'.concat(G[0],'", should be "solid"'));B="solid";break;case"solid":if(G[0]!=="facet"||G[1]!=="normal")return console.error(z),console.error('Invalid state "'.concat(G[0],'", should be "facet normal"'));F=new l.default.Vector(parseFloat(G[2]),parseFloat(G[3]),parseFloat(G[4])),R.vertexNormals.push(F,F,F),B="facet normal";break;case"facet normal":if(G[0]!=="outer"||G[1]!=="loop")return console.error(z),console.error('Invalid state "'.concat(G[0],'", should be "outer loop"'));B="vertex";break;case"vertex":if(G[0]==="vertex")I=new l.default.Vector(parseFloat(G[1]),parseFloat(G[2]),parseFloat(G[3])),R.vertices.push(I),R.uvs.push([0,0]),V.push(R.vertices.indexOf(I));else{if(G[0]!=="endloop")return console.error(z),console.error('Invalid state "'.concat(G[0],'", should be "vertex" or "endloop"'));R.faces.push(V),V=[],B="endloop"}break;case"endloop":if(G[0]!=="endfacet")return console.error(z),console.error('Invalid state "'.concat(G[0],'", should be "endfacet"'));B="endfacet";break;case"endfacet":if(G[0]!=="endsolid"){if(G[0]!=="facet"||G[1]!=="normal")return console.error(z),console.error('Invalid state "'.concat(G[0],'", should be "endsolid" or "facet normal"'));F=new l.default.Vector(parseFloat(G[2]),parseFloat(G[3]),parseFloat(G[4])),R.vertexNormals.push(F,F,F),B="facet normal"}break;default:console.error('Invalid state "'.concat(B,'"'))}}}(L,k)}})(x,C),c&&x.normalize(),u&&x.flipU(),f&&x.flipV(),M._decrementPreload(),typeof i=="function"&&i(x)},h):y.match(/\.obj$/i)?this.loadStrings(o,function(){var C=m(regeneratorRuntime.mark(function L(k){var R;return regeneratorRuntime.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.prev=0,P.next=3,function(){return w.apply(this,arguments)}(k);case 3:R=P.sent,function(F,I){for(var B=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},V={v:[],vt:[],vn:[]},H={},z=null,G=new Set,Q=!1,ie=!1,T=0;T<I.length;++T){var D=I[T].trim().split(/\b\s+/);if(0<D.length){if(D[0]==="usemtl")z=D[1];else if(D[0]==="v"||D[0]==="vn"){var U=new l.default.Vector(parseFloat(D[1]),parseFloat(D[2]),parseFloat(D[3]));V[D[0]].push(U)}else if(D[0]==="vt")U=[parseFloat(D[1]),1-parseFloat(D[2])],V[D[0]].push(U);else if(D[0]==="f")for(var W=3;W<D.length;++W){for(var $=[],ee=[1,W-1,W],ne=0;ne<ee.length;++ne){for(var fe,se=D[ee[ne]],he=se.split("/"),ae=0;ae<he.length;ae++)he[ae]=parseInt(he[ae])-1;H[se]||(H[se]={}),H[se][z]===void 0?(fe=F.vertices.length,F.vertices.push(V.v[he[0]].copy()),F.uvs.push(V.vt[he[1]]?V.vt[he[1]].slice():[0,0]),F.vertexNormals.push(V.vn[he[2]]?V.vn[he[2]].copy():new l.default.Vector),H[se][z]=fe,$.push(fe),z&&B[z]&&B[z].diffuseColor&&G.add(V.v[he[0]])):$.push(H[se][z])}if($[0]!==$[1]&&$[0]!==$[2]&&$[1]!==$[2])if(F.faces.push($),z&&B[z]&&B[z].diffuseColor){Q=Q=!0;for(var J=B[z].diffuseColor,le=0;le<$.length;le++)F.vertexColors.push(J[0]),F.vertexColors.push(J[1]),F.vertexColors.push(J[2])}else ie=!0}}}if(F.vertexNormals.length===0&&F.computeNormals(),Q===ie)throw new Error("Model coloring is inconsistent. Either all vertices should have colors or none should.")}(x,k,R),P.next=11;break;case 7:return P.prev=7,P.t0=P.catch(0),h?h(P.t0):l.default._friendlyError("Error during parsing: "+P.t0.message),P.abrupt("return");case 11:return P.prev=11,c&&x.normalize(),u&&x.flipU(),f&&x.flipV(),M._decrementPreload(),typeof i=="function"&&i(x),P.finish(11);case 18:case"end":return P.stop()}},L,null,[[0,7,11,18]])}));return function(L){return C.apply(this,arguments)}}(),h):(l.default._friendlyFileLoadError(3,o),h?h():l.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),x},l.default.prototype.model=function(o){this._assert3d("model"),l.default._validateParameters("model",arguments),0<o.vertices.length&&(this._renderer.geometryInHash(o.gid)||(o.edges.length===0&&o._makeTriangleEdges(),o._edgesToVertices(),this._renderer.createBuffers(o.gid,o)),this._renderer.drawBuffers(o.gid))};var r=l.default;b.default=r},{"../core/main":283,"./p5.Geometry":335,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.from":162,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246,"regenerator-runtime/runtime":260}],331:[function(t,_,b){function s(r){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(r)}function l(r){return(l=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(o){return s(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":s(o)})(r)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var n=(p=t("../core/main"))&&p.__esModule?p:{default:p},d=function(r){if(r&&r.__esModule)return r;if(r===null||l(r)!=="object"&&typeof r!="function")return{default:r};var o=m();if(o&&o.has(r))return o.get(r);var a,i={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in r){var c;Object.prototype.hasOwnProperty.call(r,a)&&((c=h?Object.getOwnPropertyDescriptor(r,a):null)&&(c.get||c.set)?Object.defineProperty(i,a,c):i[a]=r[a])}return i.default=r,o&&o.set(r,i),i}(t("../core/constants"));function m(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,m=function(){return r},r)}t("./p5.Texture"),n.default.prototype.loadShader=function(r,o,a,i){n.default._validateParameters("loadShader",arguments),i=i||console.error;function h(){u._decrementPreload(),a&&a(c)}var c=new n.default.Shader,u=this,f=!1,y=!1;return this.loadStrings(r,function(x){c._vertSrc=x.join(`
`),y=!0,f&&h()},i),this.loadStrings(o,function(x){c._fragSrc=x.join(`
`),f=!0,y&&h()},i),c},n.default.prototype.createShader=function(r,o){return n.default._validateParameters("createShader",arguments),new n.default.Shader(this._renderer,r,o)},n.default.prototype.createFilterShader=function(r){n.default._validateParameters("createFilterShader",arguments);var o=r.includes("#version 300 es")?`#version 300 es
    uniform mat4 uModelViewMatrix;
    uniform mat4 uProjectionMatrix;

    in vec3 aPosition;
    in vec2 aTexCoord;
    out vec2 vTexCoord;

    void main() {
      // transferring texcoords for the frag shader
      vTexCoord = aTexCoord;

      // copy position with a fourth coordinate for projection (1.0 is normal)
      vec4 positionVec4 = vec4(aPosition, 1.0);

      // project to 3D space
      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
    }
  `:`
    uniform mat4 uModelViewMatrix;
    uniform mat4 uProjectionMatrix;

    attribute vec3 aPosition;
    // texcoords only come from p5 to vertex shader
    // so pass texcoords on to the fragment shader in a varying variable
    attribute vec2 aTexCoord;
    varying vec2 vTexCoord;

    void main() {
      // transferring texcoords for the frag shader
      vTexCoord = aTexCoord;

      // copy position with a fourth coordinate for projection (1.0 is normal)
      vec4 positionVec4 = vec4(aPosition, 1.0);

      // project to 3D space
      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
    }
  `,o=new n.default.Shader(this._renderer,o,r);return this._renderer.GL?o.ensureCompiledOnContext(this):o.ensureCompiledOnContext(this._renderer.getFilterGraphicsLayer()),o},n.default.prototype.shader=function(r){return this._assert3d("shader"),n.default._validateParameters("shader",arguments),r.ensureCompiledOnContext(this),r.isStrokeShader()?this._renderer.userStrokeShader=r:(this._renderer.userFillShader=r,this._renderer._useNormalMaterial=!1),this},n.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},n.default.prototype.texture=function(r){return this._assert3d("texture"),n.default._validateParameters("texture",arguments),r.gifProperties&&r._animateGif(this),this._renderer.drawMode=d.TEXTURE,this._renderer._useNormalMaterial=!1,this._renderer._tex=r,this._renderer._setProperty("_doFill",!0),this},n.default.prototype.textureMode=function(r){r!==d.IMAGE&&r!==d.NORMAL?console.warn("You tried to set ".concat(r," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=r},n.default.prototype.textureWrap=function(r){var o=1<arguments.length&&arguments[1]!==void 0?arguments[1]:r,a=(this._renderer.textureWrapX=r,this._renderer.textureWrapY=o,!0),i=!1,h=void 0;try{for(var c,u=this._renderer.textures.values()[Symbol.iterator]();!(a=(c=u.next()).done);a=!0)c.value.setWrapMode(r,o)}catch(f){i=!0,h=f}finally{try{a||u.return==null||u.return()}finally{if(i)throw h}}},n.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n.default._validateParameters("normalMaterial",o),this._renderer.drawMode=d.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},n.default.prototype.ambientMaterial=function(r,o,a){this._assert3d("ambientMaterial"),n.default._validateParameters("ambientMaterial",arguments);var i=n.default.prototype.color.apply(this,arguments);return this._renderer._hasSetAmbient=!0,this._renderer.curAmbientColor=i._array,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._setProperty("_doFill",!0),this},n.default.prototype.emissiveMaterial=function(r,o,a,i){this._assert3d("emissiveMaterial"),n.default._validateParameters("emissiveMaterial",arguments);var h=n.default.prototype.color.apply(this,arguments);return this._renderer.curEmissiveColor=h._array,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},n.default.prototype.specularMaterial=function(r,o,a,i){this._assert3d("specularMaterial"),n.default._validateParameters("specularMaterial",arguments);var h=n.default.prototype.color.apply(this,arguments);return this._renderer.curSpecularColor=h._array,this._renderer._useSpecularMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},n.default.prototype.shininess=function(r){return this._assert3d("shininess"),n.default._validateParameters("shininess",arguments),this._renderer._useShininess=r=r<1?1:r,this},n.default.prototype.metalness=function(r){return this._assert3d("metalness"),r=1-Math.exp(-r/100),this._renderer._useMetalness=r,this},n.default.RendererGL.prototype._applyColorBlend=function(r,h){var a=this.GL,i=this.drawMode===d.TEXTURE,h=h||this.userFillShader||this.userStrokeShader||this.userPointShader||i||this.curBlendMode!==d.BLEND||r[r.length-1]<1||this._isErasing;return h!==this._isBlending&&(h||this.curBlendMode!==d.BLEND&&this.curBlendMode!==d.ADD?a.enable(a.BLEND):a.disable(a.BLEND),a.depthMask(!0),this._isBlending=h),this._applyBlendMode(),r},n.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var r=this.GL;switch(this.curBlendMode){case d.BLEND:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ONE,r.ONE_MINUS_SRC_ALPHA);break;case d.ADD:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ONE,r.ONE);break;case d.REMOVE:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ZERO,r.ONE_MINUS_SRC_ALPHA);break;case d.MULTIPLY:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.DST_COLOR,r.ONE_MINUS_SRC_ALPHA);break;case d.SCREEN:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ONE,r.ONE_MINUS_SRC_COLOR);break;case d.EXCLUSION:r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD),r.blendFuncSeparate(r.ONE_MINUS_DST_COLOR,r.ONE_MINUS_SRC_COLOR,r.ONE,r.ONE);break;case d.REPLACE:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ONE,r.ZERO);break;case d.SUBTRACT:r.blendEquationSeparate(r.FUNC_REVERSE_SUBTRACT,r.FUNC_ADD),r.blendFuncSeparate(r.ONE,r.ONE,r.ONE,r.ONE_MINUS_SRC_ALPHA);break;case d.DARKEST:this.blendExt?(r.blendEquationSeparate(this.blendExt.MIN||this.blendExt.MIN_EXT,r.FUNC_ADD),r.blendFuncSeparate(r.ONE,r.ONE,r.ONE,r.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case d.LIGHTEST:this.blendExt?(r.blendEquationSeparate(this.blendExt.MAX||this.blendExt.MAX_EXT,r.FUNC_ADD),r.blendFuncSeparate(r.ONE,r.ONE,r.ONE,r.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var p=n.default;b.default=p},{"../core/constants":272,"../core/main":283,"./p5.Texture":343,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],332:[function(t,_,b){t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.string.sub"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var s=(t=t("../core/main"))&&t.__esModule?t:{default:t};function l(n,d){for(var m=0;m<d.length;m++){var p=d[m];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(n,p.key,p)}}s.default.prototype.camera=function(){var n;this._assert3d("camera");for(var d=arguments.length,m=new Array(d),p=0;p<d;p++)m[p]=arguments[p];return s.default._validateParameters("camera",m),(n=this._renderer._curCamera).camera.apply(n,m),this},s.default.prototype.perspective=function(){var n;this._assert3d("perspective");for(var d=arguments.length,m=new Array(d),p=0;p<d;p++)m[p]=arguments[p];return s.default._validateParameters("perspective",m),(n=this._renderer._curCamera).perspective.apply(n,m),this},s.default.prototype.linePerspective=function(n){if(s.default._validateParameters("linePerspective",arguments),!(this._renderer instanceof s.default.RendererGL))throw new Error("linePerspective() must be called in WebGL mode.");if(n===void 0)return this._renderer._curCamera.useLinePerspective;this._renderer._curCamera.useLinePerspective=n},s.default.prototype.ortho=function(){var n;this._assert3d("ortho");for(var d=arguments.length,m=new Array(d),p=0;p<d;p++)m[p]=arguments[p];return s.default._validateParameters("ortho",m),(n=this._renderer._curCamera).ortho.apply(n,m),this},s.default.prototype.frustum=function(){var n;this._assert3d("frustum");for(var d=arguments.length,m=new Array(d),p=0;p<d;p++)m[p]=arguments[p];return s.default._validateParameters("frustum",m),(n=this._renderer._curCamera).frustum.apply(n,m),this},s.default.prototype.createCamera=function(){this._assert3d("createCamera");var n=new s.default.Camera(this._renderer);return n._computeCameraDefaultSettings(),n._setDefaultCamera(),this._renderer._curCamera=n},s.default.Camera=function(){function n(p){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");this._renderer=p,this.cameraType="default",this.useLinePerspective=!0,this.cameraMatrix=new s.default.Matrix,this.projMatrix=new s.default.Matrix,this.yScale=1}var d,m;return d=n,(m=[{key:"perspective",value:function(i,r,o,a){this.cameraType=0<arguments.length?"custom":"default",i===void 0?(i=this.defaultCameraFOV,this.cameraFOV=i):this.cameraFOV=this._renderer._pInst._toRadians(i),r===void 0&&(r=this.defaultAspectRatio),o===void 0&&(o=this.defaultCameraNear),a===void 0&&(a=this.defaultCameraFar),o<=1e-4&&(o=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),a<o&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=r,this.cameraNear=o,this.cameraFar=a,this.projMatrix=s.default.Matrix.identity();var i=1/Math.tan(this.cameraFOV/2),h=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(i/r,0,0,0,0,-i*this.yScale,0,0,0,0,(a+o)*h,-1,0,0,2*a*o*h,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix)}},{key:"ortho",value:function(w,M,o,a,i,h){var E=this.fbo||this._renderer,E=(w===void 0&&(w=-E.width/2),M===void 0&&(M=+E.width/2),o===void 0&&(o=-E.height/2),a===void 0&&(a=+E.height/2),i===void 0&&(i=0),h===void 0&&(h=Math.max(E.width,E.height)+800),this.cameraNear=i,M-w),c=a-o,u=(this.cameraFar=h)-i,f=2/E,y=2/c*this.yScale,x=-2/u,M=-(M+w)/E,w=-(a+o)/c,E=-(h+i)/u;this.projMatrix=s.default.Matrix.identity(),this.projMatrix.set(f,0,0,0,0,-y,0,0,0,0,x,0,M,w,E,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"frustum",value:function(w,M,o,a,i,h){w===void 0&&(w=.05*-this._renderer.width),M===void 0&&(M=.05*+this._renderer.width),o===void 0&&(o=.05*+this._renderer.height),a===void 0&&(a=.05*-this._renderer.height),i===void 0&&(i=this.defaultCameraNear),h===void 0&&(h=this.defaultCameraFar),this.cameraNear=i;var E=M-w,c=a-o,u=(this.cameraFar=h)-i,f=2*i/E,y=2*i/c*this.yScale,x=-2*h*i/u,M=(M+w)/E,w=(a+o)/c,E=-(h+i)/u;this.projMatrix=s.default.Matrix.identity(),this.projMatrix.set(f,0,0,0,0,-y,0,0,M,w,E,-1,0,0,x,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"_rotateView",value:function(f,r,o,a){var i=this.centerX,h=this.centerY,c=this.centerZ,u=(i-=this.eyeX,h-=this.eyeY,c-=this.eyeZ,s.default.Matrix.identity(this._renderer._pInst)),f=(u.rotate(this._renderer._pInst._toRadians(f),r,o,a),[i*u.mat4[0]+h*u.mat4[4]+c*u.mat4[8],i*u.mat4[1]+h*u.mat4[5]+c*u.mat4[9],i*u.mat4[2]+h*u.mat4[6]+c*u.mat4[10]]);f[0]+=this.eyeX,f[1]+=this.eyeY,f[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,f[0],f[1],f[2],this.upX,this.upY,this.upZ)}},{key:"roll",value:function(o){var r=this._getLocalAxes(),o=s.default.Quat.fromAxisAngle(this._renderer._pInst._toRadians(o),r.z[0],r.z[1],r.z[2]).rotateVector(new s.default.Vector(this.upX,this.upY,this.upZ));this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,o.x,o.y,o.z)}},{key:"pan",value:function(p){var r=this._getLocalAxes();this._rotateView(p,r.y[0],r.y[1],r.y[2])}},{key:"tilt",value:function(p){var r=this._getLocalAxes();this._rotateView(p,r.x[0],r.x[1],r.x[2])}},{key:"lookAt",value:function(p,r,o){this.camera(this.eyeX,this.eyeY,this.eyeZ,p,r,o,this.upX,this.upY,this.upZ)}},{key:"camera",value:function(p,r,o,a,i,h,c,u,f){return p===void 0&&(p=this.defaultEyeX,r=this.defaultEyeY,o=this.defaultEyeZ,a=p,i=r,u=1,f=c=h=0),this.eyeX=p,this.eyeY=r,this.eyeZ=o,a!==void 0&&(this.centerX=a,this.centerY=i,this.centerZ=h),c!==void 0&&(this.upX=c,this.upY=u,this.upZ=f),a=this._getLocalAxes(),this.cameraMatrix.set(a.x[0],a.y[0],a.z[0],0,a.x[1],a.y[1],a.z[1],0,a.x[2],a.y[2],a.z[2],0,0,0,0,1),i=-p,this.cameraMatrix.translate([i,-r,-o]),this._isActive()&&this._renderer.uViewMatrix.set(this.cameraMatrix),this}},{key:"move",value:function(a,i,o){var h=this._getLocalAxes(),a=[h.x[0]*a,h.x[1]*a,h.x[2]*a],i=[h.y[0]*i,h.y[1]*i,h.y[2]*i],h=[h.z[0]*o,h.z[1]*o,h.z[2]*o];this.camera(this.eyeX+a[0]+i[0]+h[0],this.eyeY+a[1]+i[1]+h[1],this.eyeZ+a[2]+i[2]+h[2],this.centerX+a[0]+i[0]+h[0],this.centerY+a[1]+i[1]+h[1],this.centerZ+a[2]+i[2]+h[2],this.upX,this.upY,this.upZ)}},{key:"setPosition",value:function(p,r,o){var a=p-this.eyeX,i=r-this.eyeY,h=o-this.eyeZ;this.camera(p,r,o,this.centerX+a,this.centerY+i,this.centerZ+h,this.upX,this.upY,this.upZ)}},{key:"set",value:function(p){for(var r=0,o=["eyeX","eyeY","eyeZ","centerX","centerY","centerZ","upX","upY","upZ","cameraFOV","aspectRatio","cameraNear","cameraFar","cameraType","yScale"];r<o.length;r++){var a=o[r];this[a]=p[a]}this.cameraMatrix=p.cameraMatrix.copy(),this.projMatrix=p.projMatrix.copy(),this._isActive()&&(this._renderer.uModelMatrix.reset(),this._renderer.uViewMatrix.set(this.cameraMatrix),this._renderer.uPMatrix.set(this.projMatrix))}},{key:"slerp",value:function(p,r,o){var a,i,h,c,u,f,y,x,M,w,E,C,L,k,R,P,F,I;o===0?this.set(p):o===1?this.set(r):(this.projMatrix.mat4[15]!==0&&(this.projMatrix.mat4[0]=p.projMatrix.mat4[0]*Math.pow(r.projMatrix.mat4[0]/p.projMatrix.mat4[0],o),this.projMatrix.mat4[5]=p.projMatrix.mat4[5]*Math.pow(r.projMatrix.mat4[5]/p.projMatrix.mat4[5],o),this._isActive()&&(this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())),c=new s.default.Vector(p.eyeX,p.eyeY,p.eyeZ),u=new s.default.Vector(r.eyeX,r.eyeY,r.eyeZ),P=new s.default.Vector(p.centerX,p.centerY,p.centerZ),I=new s.default.Vector(r.centerX,r.centerY,r.centerZ),h=s.default.Vector.dist(c,P),a=s.default.Vector.dist(u,I),a=h*Math.pow(a/h,o),h=s.default.Vector.sub(c,u),i=1,1e-6<(F=(k=c.copy().sub(u).sub(P).add(I)).magSq())&&(i=s.default.Vector.dot(h,k)/F,i=Math.max(0,Math.min(i,1))),h=s.default.Vector.lerp(s.default.Vector.lerp(c,P,i),s.default.Vector.lerp(u,I,i),o),k=p.cameraMatrix.createSubMatrix3x3(),F=r.cameraMatrix.createSubMatrix3x3(),c=k.row(2),P=F.row(2),u=k.row(1),I=F.row(1),p=new s.default.Vector,r=new s.default.Vector,f=new s.default.Vector,y=new s.default.Vector,1-(x=.5*((k=(F=F.mult3x3(k.copy().transpose3x3())).diagonal())[0]+k[1]+k[2]-1))<1e-7?(p.set(s.default.Vector.lerp(c,P,o)).normalize(),f.set(p).mult(i*a).add(h),y.set(p).mult((i-1)*a).add(h),r.set(s.default.Vector.lerp(u,I,o)).normalize()):(P=1/(1-x),I=Math.max(k[0],k[1],k[2]),C=F.mat3[1]+F.mat3[3],L=F.mat3[2]+F.mat3[6],R=F.mat3[5]+F.mat3[7],I=I===k[0]?(w=.5*C*(P/=M=Math.sqrt((k[0]-x)*P)),E=.5*L*P,.5*(F.mat3[7]-F.mat3[5])/M):I===k[1]?(E=.5*R*(P/=w=Math.sqrt((k[1]-x)*P)),M=.5*C*P,.5*(F.mat3[2]-F.mat3[6])/w):(M=.5*L*(P/=E=Math.sqrt((k[2]-x)*P)),w=.5*R*P,.5*(F.mat3[3]-F.mat3[1])/E),C=o*Math.atan2(I,x),L=Math.cos(C),k=Math.sin(C),(I=new s.default.Matrix("mat3",[L+(R=1-L)*M*M,R*(P=M*w)+k*E,R*(F=E*M)-k*w,R*P-k*E,L+R*w*w,R*(o=w*E)+k*M,R*F+k*w,R*o-k*M,L+R*E*E])).multiplyVec3(c,p),f.set(p).mult(i*a).add(h),y.set(p).mult((i-1)*a).add(h),I.multiplyVec3(u,r)),this.camera(f.x,f.y,f.z,y.x,y.y,y.z,r.x,r.y,r.z))}},{key:"_computeCameraDefaultSettings",value:function(){this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=800,this.defaultCameraFOV=2*Math.atan(this._renderer.height/2/this.defaultEyeZ),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ}},{key:"_setDefaultCamera",value:function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"}},{key:"_resize",value:function(){this.cameraType==="default"&&(this._computeCameraDefaultSettings(),this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.perspective())}},{key:"copy",value:function(){var p=new s.default.Camera(this._renderer);return p.cameraFOV=this.cameraFOV,p.aspectRatio=this.aspectRatio,p.eyeX=this.eyeX,p.eyeY=this.eyeY,p.eyeZ=this.eyeZ,p.centerX=this.centerX,p.centerY=this.centerY,p.centerZ=this.centerZ,p.upX=this.upX,p.upY=this.upY,p.upZ=this.upZ,p.cameraNear=this.cameraNear,p.cameraFar=this.cameraFar,p.cameraType=this.cameraType,p.cameraMatrix=this.cameraMatrix.copy(),p.projMatrix=this.projMatrix.copy(),p.yScale=this.yScale,p}},{key:"_getLocalAxes",value:function(){var p=this.eyeX-this.centerX,r=this.eyeY-this.centerY,o=this.eyeZ-this.centerZ,c=Math.sqrt(p*p+r*r+o*o),c=(c!==0&&(p/=c,r/=c,o/=c),this.upX),a=(u=this.upY)*o-(f=this.upZ)*r,i=-c*o+f*p,h=c*r-u*p,c=r*h-o*i,u=-p*h+o*a,f=p*i-r*a,y=Math.sqrt(a*a+i*i+h*h),y=(y!==0&&(a/=y,i/=y,h/=y),Math.sqrt(c*c+u*u+f*f));return y!==0&&(c/=y,u/=y,f/=y),{x:[a,i,h],y:[c,u,f],z:[p,r,o]}}},{key:"_orbit",value:function(p,y,f){var i=this.eyeX-this.centerX,h=this.eyeY-this.centerY,c=this.eyeZ-this.centerZ,a=Math.hypot(i,h,c),i=new s.default.Vector(i,h,c).normalize(),h=new s.default.Vector(this.upX,this.upY,this.upZ).normalize(),c=s.default.Vector.cross(h,i).normalize(),u=s.default.Vector.cross(c,h),f=((a=(a*=Math.pow(10,f))<this.cameraNear?this.cameraNear:a)>this.cameraFar&&(a=this.cameraFar),Math.acos(Math.max(-1,Math.min(1,s.default.Vector.dot(i,h))))+y),y=p;(f<=0||f>=Math.PI)&&(this.upX*=-1,this.upY*=-1,this.upZ*=-1),h.mult(Math.cos(f)),u.mult(Math.cos(y)*Math.sin(f)),c.mult(Math.sin(y)*Math.sin(f)),i.set(h).add(u).add(c),this.eyeX=a*i.x+this.centerX,this.eyeY=a*i.y+this.centerY,this.eyeZ=a*i.z+this.centerZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,this.upX,this.upY,this.upZ)}},{key:"_orbitFree",value:function(f,y,M){var i=this.eyeX-this.centerX,h=this.eyeY-this.centerY,c=this.eyeZ-this.centerZ,a=Math.hypot(i,h,c),i=new s.default.Vector(i,h,c).normalize(),h=new s.default.Vector(this.upX,this.upY,this.upZ),c=s.default.Vector.cross(h,i).normalize(),u=s.default.Vector.cross(i,c),w=Math.atan2(y,f),w=(u.mult(Math.sin(w)),c.mult(Math.cos(w)).add(u),Math.sqrt(f*f+y*y)),u=s.default.Vector.cross(i,c),f=((a=(a*=Math.pow(10,M))<this.cameraNear?this.cameraNear:a)>this.cameraFar&&(a=this.cameraFar),Math.cos(w)),y=Math.sin(w),M=h.dot(i),w=h.dot(c),x=M*f+w*y,M=-M*y+w*f,w=h.dot(u);h.x=x*i.x+M*c.x+w*u.x,h.y=x*i.y+M*c.y+w*u.y,h.z=x*i.z+M*c.z+w*u.z,c.mult(-y),i.mult(f).add(c).mult(a),this.camera(i.x+this.centerX,i.y+this.centerY,i.z+this.centerZ,this.centerX,this.centerY,this.centerZ,h.x,h.y,h.z)}},{key:"_isActive",value:function(){return this===this._renderer._curCamera}}])&&l(d.prototype,m),n}(),s.default.prototype.setCamera=function(n){this._renderer._curCamera=n,this._renderer.uPMatrix.set(n.projMatrix),this._renderer.uViewMatrix.set(n.cameraMatrix)},t=s.default.Camera,b.default=t},{"../core/main":283,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.string.sub":208}],333:[function(t,_,b){t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.log2"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.log2"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function s(l,n){for(var d=0;d<n.length;d++){var m=n[d];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(l,m.key,m)}}t.default.DataArray=function(){function l(){var m=0<arguments.length&&arguments[0]!==void 0?arguments[0]:128,p=this,r=l;if(!(p instanceof r))throw new TypeError("Cannot call a class as a function");this.length=0,this.data=new Float32Array(m),this.initialLength=m}var n,d;return n=l,(d=[{key:"dataArray",value:function(){return this.subArray(0,this.length)}},{key:"clear",value:function(){this.length=0}},{key:"rescale",value:function(){var m;this.length<this.data.length/2&&(m=1<<Math.ceil(Math.log2(this.length)),(m=new Float32Array(m)).set(this.data.subarray(0,this.length),0),this.data=m)}},{key:"reset",value:function(){this.clear(),this.data=new Float32Array(this.initialLength)}},{key:"push",value:function(){for(var m=arguments.length,p=new Array(m),r=0;r<m;r++)p[r]=arguments[r];this.ensureLength(this.length+p.length),this.data.set(p,this.length),this.length+=p.length}},{key:"slice",value:function(m,p){return this.data.slice(m,Math.min(p,this.length))}},{key:"subArray",value:function(m,p){return this.data.subarray(m,Math.min(p,this.length))}},{key:"ensureLength",value:function(m){for(;this.data.length<m;){var p=new Float32Array(2*this.data.length);p.set(this.data,0),this.data=p}}}])&&s(n.prototype,d),l}(),t=t.default.DataArray,b.default=t},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.log2":177,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239}],334:[function(C,_,b){function s(L){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k})(L)}function l(L){return(l=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(k){return s(k)}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":s(k)})(L)}C("core-js/modules/es.symbol"),C("core-js/modules/es.symbol.description"),C("core-js/modules/es.symbol.iterator"),C("core-js/modules/es.array.fill"),C("core-js/modules/es.array.includes"),C("core-js/modules/es.array.iterator"),C("core-js/modules/es.object.get-own-property-descriptor"),C("core-js/modules/es.object.get-prototype-of"),C("core-js/modules/es.object.to-string"),C("core-js/modules/es.reflect.construct"),C("core-js/modules/es.reflect.get"),C("core-js/modules/es.regexp.to-string"),C("core-js/modules/es.string.includes"),C("core-js/modules/es.string.iterator"),C("core-js/modules/es.typed-array.float32-array"),C("core-js/modules/es.typed-array.uint8-array"),C("core-js/modules/es.typed-array.uint8-clamped-array"),C("core-js/modules/es.typed-array.copy-within"),C("core-js/modules/es.typed-array.every"),C("core-js/modules/es.typed-array.fill"),C("core-js/modules/es.typed-array.filter"),C("core-js/modules/es.typed-array.find"),C("core-js/modules/es.typed-array.find-index"),C("core-js/modules/es.typed-array.for-each"),C("core-js/modules/es.typed-array.includes"),C("core-js/modules/es.typed-array.index-of"),C("core-js/modules/es.typed-array.iterator"),C("core-js/modules/es.typed-array.join"),C("core-js/modules/es.typed-array.last-index-of"),C("core-js/modules/es.typed-array.map"),C("core-js/modules/es.typed-array.reduce"),C("core-js/modules/es.typed-array.reduce-right"),C("core-js/modules/es.typed-array.reverse"),C("core-js/modules/es.typed-array.set"),C("core-js/modules/es.typed-array.slice"),C("core-js/modules/es.typed-array.some"),C("core-js/modules/es.typed-array.sort"),C("core-js/modules/es.typed-array.subarray"),C("core-js/modules/es.typed-array.to-locale-string"),C("core-js/modules/es.typed-array.to-string"),C("core-js/modules/es.weak-map"),C("core-js/modules/web.dom-collections.iterator"),C("core-js/modules/es.array.fill"),C("core-js/modules/es.array.includes"),C("core-js/modules/es.array.iterator"),C("core-js/modules/es.object.get-prototype-of"),C("core-js/modules/es.object.to-string"),C("core-js/modules/es.string.includes"),C("core-js/modules/es.typed-array.float32-array"),C("core-js/modules/es.typed-array.uint8-array"),C("core-js/modules/es.typed-array.uint8-clamped-array"),C("core-js/modules/es.typed-array.copy-within"),C("core-js/modules/es.typed-array.every"),C("core-js/modules/es.typed-array.fill"),C("core-js/modules/es.typed-array.filter"),C("core-js/modules/es.typed-array.find"),C("core-js/modules/es.typed-array.find-index"),C("core-js/modules/es.typed-array.for-each"),C("core-js/modules/es.typed-array.includes"),C("core-js/modules/es.typed-array.index-of"),C("core-js/modules/es.typed-array.iterator"),C("core-js/modules/es.typed-array.join"),C("core-js/modules/es.typed-array.last-index-of"),C("core-js/modules/es.typed-array.map"),C("core-js/modules/es.typed-array.reduce"),C("core-js/modules/es.typed-array.reduce-right"),C("core-js/modules/es.typed-array.reverse"),C("core-js/modules/es.typed-array.set"),C("core-js/modules/es.typed-array.slice"),C("core-js/modules/es.typed-array.some"),C("core-js/modules/es.typed-array.sort"),C("core-js/modules/es.typed-array.subarray"),C("core-js/modules/es.typed-array.to-locale-string"),C("core-js/modules/es.typed-array.to-string"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var n=(E=C("../core/main"))&&E.__esModule?E:{default:E},d=function(L){if(L&&L.__esModule)return L;if(L===null||l(L)!=="object"&&typeof L!="function")return{default:L};var k=r();if(k&&k.has(L))return k.get(L);var R,P={},F=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(R in L){var I;Object.prototype.hasOwnProperty.call(L,R)&&((I=F?Object.getOwnPropertyDescriptor(L,R):null)&&(I.get||I.set)?Object.defineProperty(P,R,I):P[R]=L[R])}return P.default=L,k&&k.set(L,P),P}(C("../core/constants")),m=C("./p5.Texture"),p=C("./p5.RendererGL");function r(){var L;return typeof WeakMap!="function"?null:(L=new WeakMap,r=function(){return L},L)}function o(L,k){return function(R){if(Array.isArray(R))return R}(L)||function(R,P){if(Symbol.iterator in Object(R)||Object.prototype.toString.call(R)==="[object Arguments]"){var F=[],I=!0,B=!1,V=void 0;try{for(var H,z=R[Symbol.iterator]();!(I=(H=z.next()).done)&&(F.push(H.value),!P||F.length!==P);I=!0);}catch(G){B=!0,V=G}finally{try{I||z.return==null||z.return()}finally{if(B)throw V}}return F}}(L,k)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(L,k,R){return k in L?Object.defineProperty(L,k,{value:R,enumerable:!0,configurable:!0,writable:!0}):L[k]=R,L}function i(L,k){if(!(L instanceof k))throw new TypeError("Cannot call a class as a function")}function h(L,k){for(var R=0;R<k.length;R++){var P=k[R];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(L,P.key,P)}}function c(L,k,R){k&&h(L.prototype,k)}function u(L,k,R){return(u=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(B,F,I){var B=function(V,H){for(;!Object.prototype.hasOwnProperty.call(V,H)&&(V=x(V))!==null;);return V}(B,F);if(B)return(B=Object.getOwnPropertyDescriptor(B,F)).get?B.get.call(I):B.value})(L,k,R||L)}function f(L,k){return(f=Object.setPrototypeOf||function(R,P){return R.__proto__=P,R})(L,k)}function y(L){return function(){var k,R=x(L),R=(k=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(k=x(this).constructor,Reflect.construct(R,arguments,k)):R.apply(this,arguments),this);if(!k||l(k)!=="object"&&typeof k!="function"){if(R!==void 0)return R;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return k}}function x(L){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(k){return k.__proto__||Object.getPrototypeOf(k)})(L)}var M=function(L){var k=P;if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(L&&L.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),L&&f(k,L);var R=y(P);function P(F){var I;return i(this,P),(I=R.call(this,F.target._renderer)).fbo=F,I.yScale=-1,I}return c(P,[{key:"_computeCameraDefaultSettings",value:function(){u(x(P.prototype),"_computeCameraDefaultSettings",this).call(this),this.defaultAspectRatio=this.fbo.width/this.fbo.height,this.defaultCameraFOV=2*Math.atan(this.fbo.height/2/this.defaultEyeZ)}}]),P}(n.default.Camera),w=(n.default.FramebufferCamera=M,function(){function L(k,R){i(this,L),this.framebuffer=k,this.property=R}return c(L,[{key:"rawTexture",value:function(){return this.framebuffer[this.property]}},{key:"width",get:function(){return this.framebuffer.width*this.framebuffer.density}},{key:"height",get:function(){return this.framebuffer.height*this.framebuffer.density}}]),L}()),E=(n.default.FramebufferTexture=w,function(){function L(k){var R=this,P=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},F=(i(this,L),this.target=k,this.target._renderer.framebuffers.add(this),this._isClipApplied=!1,this.pixels=[],this.format=P.format||d.UNSIGNED_BYTE,this.channels=P.channels||(k._renderer._pInst._glAttributes.alpha?d.RGBA:d.RGB),this.useDepth=P.depth===void 0||P.depth,this.depthFormat=P.depthFormat||d.FLOAT,this.textureFiltering=P.textureFiltering||d.LINEAR,P.antialias===void 0?this.antialiasSamples=k._renderer._pInst._glAttributes.antialias?2:0:typeof P.antialias=="number"?this.antialiasSamples=P.antialias:this.antialiasSamples=P.antialias?2:0,this.antialias=0<this.antialiasSamples,this.antialias&&k.webglVersion!==d.WEBGL2&&(console.warn("Antialiasing is unsupported in a WebGL 1 context"),this.antialias=!1),this.density=P.density||k.pixelDensity(),k._renderer.GL);if(this.gl=F,P.width&&P.height?(I=k._renderer._adjustDimensions(P.width,P.height),this.width=I.adjustedWidth,this.height=I.adjustedHeight,this._autoSized=!1):(P.width===void 0!=(P.height===void 0)&&console.warn("Please supply both width and height for a framebuffer to give it a size. Only one was given, so the framebuffer will match the size of its canvas."),this.width=k.width,this.height=k.height,this._autoSized=!0),this._checkIfFormatsAvailable(),P.stencil&&!this.useDepth&&console.warn("A stencil buffer can only be used if also using depth. Since the framebuffer has no depth buffer, the stencil buffer will be ignored."),this.useStencil=this.useDepth&&(P.stencil===void 0||P.stencil),this.framebuffer=F.createFramebuffer(),!this.framebuffer)throw new Error("Unable to create a framebuffer");if(this.antialias&&(this.aaFramebuffer=F.createFramebuffer(),!this.aaFramebuffer))throw new Error("Unable to create a framebuffer for antialiasing");this._recreateTextures();var I=this.target._renderer._curCamera;this.defaultCamera=this.createCamera(),this.filterCamera=this.createCamera(),this.target._renderer._curCamera=I,this.draw(function(){return R.target.clear()})}return c(L,[{key:"resize",value:function(k,R){this._autoSized=!1;var P=this.target._renderer._adjustDimensions(k,R);k=P.adjustedWidth,R=P.adjustedHeight,this.width=k,this.height=R,this._handleResize()}},{key:"pixelDensity",value:function(k){if(!k)return this.density;this._autoSized=!1,this.density=k,this._handleResize()}},{key:"autoSized",value:function(k){if(k===void 0)return this._autoSized;this._autoSized=k,this._handleResize()}},{key:"_checkIfFormatsAvailable",value:function(){var k=this.gl,k=(this.useDepth&&this.target.webglVersion===d.WEBGL&&!k.getExtension("WEBGL_depth_texture")&&(console.warn("Unable to create depth textures in this environment. Falling back to a framebuffer without depth."),this.useDepth=!1),this.useDepth&&this.target.webglVersion===d.WEBGL&&this.depthFormat===d.FLOAT&&(console.warn("FLOAT depth format is unavailable in WebGL 1. Defaulting to UNSIGNED_INT."),this.depthFormat=d.UNSIGNED_INT),[d.UNSIGNED_BYTE,d.FLOAT,d.HALF_FLOAT].includes(this.format)||(console.warn("Unknown Framebuffer format. Please use UNSIGNED_BYTE, FLOAT, or HALF_FLOAT. Defaulting to UNSIGNED_BYTE."),this.format=d.UNSIGNED_BYTE),this.useDepth&&![d.UNSIGNED_INT,d.FLOAT].includes(this.depthFormat)&&(console.warn("Unknown Framebuffer depth format. Please use UNSIGNED_INT or FLOAT. Defaulting to FLOAT."),this.depthFormat=d.FLOAT),(0,m.checkWebGLCapabilities)(this.target._renderer));k.float||this.format!==d.FLOAT||(console.warn("This environment does not support FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=d.UNSIGNED_BYTE),this.useDepth&&!k.float&&this.depthFormat===d.FLOAT&&(console.warn("This environment does not support FLOAT depth textures. Falling back to UNSIGNED_INT."),this.depthFormat=d.UNSIGNED_INT),k.halfFloat||this.format!==d.HALF_FLOAT||(console.warn("This environment does not support HALF_FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=d.UNSIGNED_BYTE),this.channels===d.RGB&&[d.FLOAT,d.HALF_FLOAT].includes(this.format)&&(console.warn("FLOAT and HALF_FLOAT formats do not work cross-platform with only RGB channels. Falling back to RGBA."),this.channels=d.RGBA)}},{key:"_recreateTextures",value:function(){var k=this.gl,R=(this._updateSize(),k.getParameter(k.TEXTURE_BINDING_2D)),P=k.getParameter(k.FRAMEBUFFER_BINDING),F=k.createTexture();if(!F)throw new Error("Unable to create color texture");k.bindTexture(k.TEXTURE_2D,F);var I=this._glColorFormat();if(k.texImage2D(k.TEXTURE_2D,0,I.internalFormat,this.width*this.density,this.height*this.density,0,I.format,I.type,null),this.colorTexture=F,k.bindFramebuffer(k.FRAMEBUFFER,this.framebuffer),k.framebufferTexture2D(k.FRAMEBUFFER,k.COLOR_ATTACHMENT0,k.TEXTURE_2D,F,0),this.useDepth){var F=k.createTexture();if(!F)throw new Error("Unable to create depth texture");var B=this._glDepthFormat();k.bindTexture(k.TEXTURE_2D,F),k.texImage2D(k.TEXTURE_2D,0,B.internalFormat,this.width*this.density,this.height*this.density,0,B.format,B.type,null),k.framebufferTexture2D(k.FRAMEBUFFER,this.useStencil?k.DEPTH_STENCIL_ATTACHMENT:k.DEPTH_ATTACHMENT,k.TEXTURE_2D,F,0),this.depthTexture=F}this.antialias&&(this.colorRenderbuffer=k.createRenderbuffer(),k.bindRenderbuffer(k.RENDERBUFFER,this.colorRenderbuffer),k.renderbufferStorageMultisample(k.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,k.getParameter(k.MAX_SAMPLES))),I.internalFormat,this.width*this.density,this.height*this.density),this.useDepth&&(B=this._glDepthFormat(),this.depthRenderbuffer=k.createRenderbuffer(),k.bindRenderbuffer(k.RENDERBUFFER,this.depthRenderbuffer),k.renderbufferStorageMultisample(k.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,k.getParameter(k.MAX_SAMPLES))),B.internalFormat,this.width*this.density,this.height*this.density)),k.bindFramebuffer(k.FRAMEBUFFER,this.aaFramebuffer),k.framebufferRenderbuffer(k.FRAMEBUFFER,k.COLOR_ATTACHMENT0,k.RENDERBUFFER,this.colorRenderbuffer),this.useDepth&&k.framebufferRenderbuffer(k.FRAMEBUFFER,this.useStencil?k.DEPTH_STENCIL_ATTACHMENT:k.DEPTH_ATTACHMENT,k.RENDERBUFFER,this.depthRenderbuffer)),this.useDepth&&(this.depth=new w(this,"depthTexture"),F=k.NEAREST,this.depthP5Texture=new n.default.Texture(this.target._renderer,this.depth,{minFilter:F,magFilter:F}),this.target._renderer.textures.set(this.depth,this.depthP5Texture)),this.color=new w(this,"colorTexture"),I=this.textureFiltering===d.LINEAR?k.LINEAR:k.NEAREST,this.colorP5Texture=new n.default.Texture(this.target._renderer,this.color,{minFilter:I,magFilter:I}),this.target._renderer.textures.set(this.color,this.colorP5Texture),k.bindTexture(k.TEXTURE_2D,R),k.bindFramebuffer(k.FRAMEBUFFER,P)}},{key:"_glColorFormat",value:function(){var k,R,P=this.gl,F=this.format===d.FLOAT?P.FLOAT:this.format===d.HALF_FLOAT?this.target.webglVersion===d.WEBGL2?P.HALF_FLOAT:P.getExtension("OES_texture_half_float").HALF_FLOAT_OES:P.UNSIGNED_BYTE,I=this.channels===d.RGBA?P.RGBA:P.RGB;return{internalFormat:this.target.webglVersion===d.WEBGL2?(a(R={},P.FLOAT,a({},P.RGBA,P.RGBA32F)),a(R,P.HALF_FLOAT,a({},P.RGBA,P.RGBA16F)),a(R,P.UNSIGNED_BYTE,(a(k={},P.RGBA,P.RGBA8),a(k,P.RGB,P.RGB8),k)),R[F][I]):this.format===d.HALF_FLOAT?P.RGBA:I,format:I,type:F}}},{key:"_glDepthFormat",value:function(){var P=this.gl,k=this.useStencil?this.depthFormat===d.FLOAT?P.FLOAT_32_UNSIGNED_INT_24_8_REV:this.target.webglVersion===d.WEBGL2?P.UNSIGNED_INT_24_8:P.getExtension("WEBGL_depth_texture").UNSIGNED_INT_24_8_WEBGL:this.depthFormat===d.FLOAT?P.FLOAT:P.UNSIGNED_INT,R=this.useStencil?P.DEPTH_STENCIL:P.DEPTH_COMPONENT,P=this.useStencil?this.depthFormat===d.FLOAT?P.DEPTH32F_STENCIL8:this.target.webglVersion===d.WEBGL2?P.DEPTH24_STENCIL8:P.DEPTH_STENCIL:this.target.webglVersion===d.WEBGL2?this.depthFormat===d.FLOAT?P.DEPTH_COMPONENT32F:P.DEPTH_COMPONENT24:P.DEPTH_COMPONENT;return{internalFormat:P,format:R,type:k}}},{key:"_updateSize",value:function(){this._autoSized&&(this.width=this.target.width,this.height=this.target.height,this.density=this.target.pixelDensity())}},{key:"_canvasSizeChanged",value:function(){this._autoSized&&this._handleResize()}},{key:"_handleResize",value:function(){var F=this.color,k=this.depth,R=this.colorRenderbuffer,P=this.depthRenderbuffer,F=(this._deleteTexture(F),k&&this._deleteTexture(k),this.gl);R&&F.deleteRenderbuffer(R),P&&F.deleteRenderbuffer(P),this._recreateTextures(),this.defaultCamera._resize()}},{key:"createCamera",value:function(){var k=new M(this);return k._computeCameraDefaultSettings(),k._setDefaultCamera(),this.target._renderer._curCamera=k}},{key:"_deleteTexture",value:function(k){this.gl.deleteTexture(k.rawTexture()),this.target._renderer.textures.delete(k)}},{key:"remove",value:function(){var k=this.gl;this._deleteTexture(this.color),this.depth&&this._deleteTexture(this.depth),k.deleteFramebuffer(this.framebuffer),this.aaFramebuffer&&k.deleteFramebuffer(this.aaFramebuffer),this.depthRenderbuffer&&k.deleteRenderbuffer(this.depthRenderbuffer),this.colorRenderbuffer&&k.deleteRenderbuffer(this.colorRenderbuffer),this.target._renderer.framebuffers.delete(this)}},{key:"begin",value:function(){this.prevFramebuffer=this.target._renderer.activeFramebuffer(),this.prevFramebuffer&&this.prevFramebuffer._beforeEnd(),this.target._renderer.activeFramebuffers.push(this),this._beforeBegin(),this.target.push(),this.target.setCamera(this.defaultCamera),this.target.resetMatrix(),this.target._renderer.uViewMatrix.set(this.target._renderer._curCamera.cameraMatrix),this.target._renderer.uModelMatrix.reset(),this.target._renderer._applyStencilTestIfClipping()}},{key:"_framebufferToBind",value:function(){return this.antialias?this.aaFramebuffer:this.framebuffer}},{key:"_beforeBegin",value:function(){var k=this.gl;k.bindFramebuffer(k.FRAMEBUFFER,this._framebufferToBind()),this.target._renderer.viewport(this.width*this.density,this.height*this.density)}},{key:"_beforeEnd",value:function(){if(this.antialias){var k=this.gl,R=(k.bindFramebuffer(k.READ_FRAMEBUFFER,this.aaFramebuffer),k.bindFramebuffer(k.DRAW_FRAMEBUFFER,this.framebuffer),[[k.COLOR_BUFFER_BIT,this.colorP5Texture.glMagFilter]]);this.useDepth&&R.push([k.DEPTH_BUFFER_BIT,this.depthP5Texture.glMagFilter]);for(var P=0,F=R;P<F.length;P++){var B=o(F[P],2),I=B[0],B=B[1];k.blitFramebuffer(0,0,this.width*this.density,this.height*this.density,0,0,this.width*this.density,this.height*this.density,I,B)}}}},{key:"end",value:function(){var k=this.gl;if(this.target.pop(),this.target._renderer.activeFramebuffers.pop()!==this)throw new Error("It looks like you've called end() while another Framebuffer is active.");this._beforeEnd(),this.prevFramebuffer?this.prevFramebuffer._beforeBegin():(k.bindFramebuffer(k.FRAMEBUFFER,null),this.target._renderer.viewport(this.target._renderer._origViewport.width,this.target._renderer._origViewport.height)),this.target._renderer._applyStencilTestIfClipping()}},{key:"draw",value:function(k){this.begin(),k(),this.end()}},{key:"loadPixels",value:function(){var k=this.gl,R=this.target._renderer.activeFramebuffer(),P=(k.bindFramebuffer(k.FRAMEBUFFER,this.framebuffer),this._glColorFormat());this.pixels=(0,p.readPixelsWebGL)(this.pixels,k,this.framebuffer,0,0,this.width*this.density,this.height*this.density,P.format,P.type),R?k.bindFramebuffer(k.FRAMEBUFFER,R._framebufferToBind()):k.bindFramebuffer(k.FRAMEBUFFER,null)}},{key:"get",value:function(k,R,P,F){n.default._validateParameters("p5.Framebuffer.get",arguments);var I=this._glColorFormat();if(k===void 0&&R===void 0)R=k=0,P=this.width,F=this.height;else if(P===void 0&&F===void 0)return(k<0||R<0||k>=this.width||R>=this.height)&&(console.warn("The x and y values passed to p5.Framebuffer.get are outside of its range and will be clamped."),k=this.target.constrain(k,0,this.width-1),R=this.target.constrain(R,0,this.height-1)),(0,p.readPixelWebGL)(this.gl,this.framebuffer,k*this.density,R*this.density,I.format,I.type);k=this.target.constrain(k,0,this.width-1),R=this.target.constrain(R,0,this.height-1),P=this.target.constrain(P,1,this.width-k),F=this.target.constrain(F,1,this.height-R);for(var B=(0,p.readPixelsWebGL)(void 0,this.gl,this.framebuffer,k*this.density,R*this.density,P*this.density,F*this.density,I.format,I.type),V=new Uint8ClampedArray(P*F*this.density*this.density*4),H=(V.fill(255),I.type===this.gl.RGB?3:4),z=0;z<F*this.density;z++)for(var G=0;G<P*this.density;G++)for(var Q=0;Q<4;Q++){var ie,T=4*(z*P*this.density+G)+Q;Q<H&&(ie=H==4?T:(z*P*this.density+G)*H+Q,V[T]=B[ie])}return k=new n.default.Image(P*this.density,F*this.density),k.imageData=k.canvas.getContext("2d").createImageData(k.width,k.height),k.imageData.data.set(V),k.pixels=k.imageData.data,k.updatePixels(),this.density!==1&&k.resize(P,F),k}},{key:"updatePixels",value:function(){var k=this.gl,R=(this.colorP5Texture.bindTexture(),this._glColorFormat()),P=R.format===k.RGBA?4:3,P=this.width*this.height*this.density*this.density*P,F=R.type===k.UNSIGNED_BYTE?Uint8Array:Float32Array;if(!(this.pixels instanceof F)||this.pixels.length!==P)throw new Error("The pixels array has not been set correctly. Please call loadPixels() before updatePixels().");k.texImage2D(k.TEXTURE_2D,0,R.internalFormat,this.width*this.density,this.height*this.density,0,R.format,R.type,this.pixels),this.colorP5Texture.unbindTexture(),F=this.target._renderer.activeFramebuffer(),this.antialias?(this.begin(),this.target.push(),this.target.imageMode(this.target.CENTER),this.target.resetMatrix(),this.target.noStroke(),this.target.clear(),this.target.image(this,0,0),this.target.pop(),this.useDepth&&(k.clearDepth(1),k.clear(k.DEPTH_BUFFER_BIT)),this.end()):(k.bindFramebuffer(k.FRAMEBUFFER,this.framebuffer),this.useDepth&&(k.clearDepth(1),k.clear(k.DEPTH_BUFFER_BIT)),F?k.bindFramebuffer(k.FRAMEBUFFER,F._framebufferToBind()):k.bindFramebuffer(k.FRAMEBUFFER,null))}}]),L}()),C=n.default.Framebuffer=E;b.default=C},{"../core/constants":272,"../core/main":283,"./p5.RendererGL":341,"./p5.Texture":343,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.typed-array.uint8-clamped-array":243,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],335:[function(t,_,b){function s(i){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(i)}function l(i){return(l=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(h){return s(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":s(h)})(i)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.flat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.unscopables.flat"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.entries"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.flat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.unscopables.flat"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var n=(a=t("../core/main"))&&a.__esModule?a:{default:a},d=function(i){if(i&&i.__esModule)return i;if(i===null||l(i)!=="object"&&typeof i!="function")return{default:i};var h=m();if(h&&h.has(i))return h.get(i);var c,u={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in i){var y;Object.prototype.hasOwnProperty.call(i,c)&&((y=f?Object.getOwnPropertyDescriptor(i,c):null)&&(y.get||y.set)?Object.defineProperty(u,c,y):u[c]=i[c])}return u.default=i,h&&h.set(i,u),u}(t("../core/constants"));function m(){var i;return typeof WeakMap!="function"?null:(i=new WeakMap,m=function(){return i},i)}function p(i){return function(h){if(Array.isArray(h)){for(var c=0,u=new Array(h.length);c<h.length;c++)u[c]=h[c];return u}}(i)||function(h){if(Symbol.iterator in Object(h)||Object.prototype.toString.call(h)==="[object Arguments]")return Array.from(h)}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function r(i,h){return function(c){if(Array.isArray(c))return c}(i)||function(c,u){if(Symbol.iterator in Object(c)||Object.prototype.toString.call(c)==="[object Arguments]"){var f=[],y=!0,x=!1,M=void 0;try{for(var w,E=c[Symbol.iterator]();!(y=(w=E.next()).done)&&(f.push(w.value),!u||f.length!==u);y=!0);}catch(C){x=!0,M=C}finally{try{y||E.return==null||E.return()}finally{if(x)throw M}}return f}}(i,h)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(i,h){for(var c=0;c<h.length;c++){var u=h[c];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(i,u.key,u)}}n.default.Geometry=function(){function i(u,f,y){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.vertices=[],this.boundingBoxCache=null,this.lineVertices=new n.default.DataArray,this.lineTangentsIn=new n.default.DataArray,this.lineTangentsOut=new n.default.DataArray,this.lineSides=new n.default.DataArray,this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.vertexStrokeColors=[],this.lineVertexColors=new n.default.DataArray,this.detailX=u!==void 0?u:1,this.detailY=f!==void 0?f:1,this.dirtyFlags={},this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,y instanceof Function&&y.call(this)}var h,c;return h=i,(c=[{key:"calculateBoundingBox",value:function(){if(!this.boundingBoxCache){for(var u=new n.default.Vector(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),f=new n.default.Vector(Number.MIN_VALUE,Number.MIN_VALUE,Number.MIN_VALUE),y=0;y<this.vertices.length;y++){var x=this.vertices[y];u.x=Math.min(u.x,x.x),u.y=Math.min(u.y,x.y),u.z=Math.min(u.z,x.z),f.x=Math.max(f.x,x.x),f.y=Math.max(f.y,x.y),f.z=Math.max(f.z,x.z)}var M=new n.default.Vector(f.x-u.x,f.y-u.y,f.z-u.z),w=new n.default.Vector((u.x+f.x)/2,(u.y+f.y)/2,(u.z+f.z)/2);this.boundingBoxCache={min:u,max:f,size:M,offset:w}}return this.boundingBoxCache}},{key:"reset",value:function(){this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear(),this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexStrokeColors.length=0,this.lineVertexColors.clear(),this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}}},{key:"hasFillTransparency",value:function(){if(this._hasFillTransparency===void 0){this._hasFillTransparency=!1;for(var u=0;u<this.vertexColors.length;u+=4)if(this.vertexColors[u+3]<1){this._hasFillTransparency=!0;break}}return this._hasFillTransparency}},{key:"hasStrokeTransparency",value:function(){if(this._hasStrokeTransparency===void 0){this._hasStrokeTransparency=!1;for(var u=0;u<this.lineVertexColors.length;u+=4)if(this.lineVertexColors[u+3]<1){this._hasStrokeTransparency=!0;break}}return this._hasStrokeTransparency}},{key:"clearColors",value:function(){return this.vertexColors=[],this}},{key:"saveObj",value:function(){var u=this,f=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"model.obj",y="";if(this.vertices.forEach(function(w){y+="v ".concat(w.x," ").concat(w.y," ").concat(w.z,`
`)}),this.uvs&&0<this.uvs.length)for(var x=0;x<this.uvs.length;x+=2)y+="vt ".concat(this.uvs[x]," ").concat(this.uvs[x+1],`
`);this.vertexNormals&&0<this.vertexNormals.length&&this.vertexNormals.forEach(function(w){y+="vn ".concat(w.x," ").concat(w.y," ").concat(w.z,`
`)}),this.faces.forEach(function(w){var E="f";w.forEach(function(C){E=E+" "+(C+1),(0<u.vertexNormals.length||0<u.uvs.length)&&(E+="/",0<u.uvs.length&&(E+=C+1),E+="/",0<u.vertexNormals.length&&(E+=C+1))}),y+=E+`
`});var M=new Blob([y],{type:"text/plain"});n.default.prototype.downloadFile(M,f,"obj")}},{key:"saveStl",value:function(){var u=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"model.stl",f=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).binary,f=f!==void 0&&f,y=u.substring(0,u.lastIndexOf(".")),x=[],M=!0,w=!1,E=void 0;try{for(var C,L=this.faces[Symbol.iterator]();!(M=(C=L.next()).done);M=!0){var k=C.value,R=n.default.Vector.sub(this.vertices[k[1]],this.vertices[k[0]]),P=n.default.Vector.sub(this.vertices[k[2]],this.vertices[k[0]]),F=R.y*P.z-R.z*P.y,I=R.z*P.x-R.x*P.z,B=R.x*P.y-R.y*P.x;x.push(new n.default.Vector(F,I,B).normalize())}}catch(be){w=!0,E=be}finally{try{M||L.return==null||L.return()}finally{if(w)throw E}}if(f){var V,H=80,w=2*this.faces.length+3*this.faces.length*4*4+80+4,E=new ArrayBuffer(w);(V=new DataView(E)).setUint32(H,this.faces.length,!0),H+=4;for(var z=0,G=Object.entries(this.faces);z<G.length;z++){var Q=r(G[z],2),T=Q[0],Q=Q[1],T=x[T],ie=(V.setFloat32(H,T.x,!0),H+=4,V.setFloat32(H,T.y,!0),H+=4,V.setFloat32(H,T.z,!0),H+=4,!0),T=!1,D=void 0;try{for(var U,W=Q[Symbol.iterator]();!(ie=(U=W.next()).done);ie=!0){var $=U.value,ee=this.vertices[$];V.setFloat32(H,ee.x,!0),H+=4,V.setFloat32(H,ee.y,!0),H+=4,V.setFloat32(H,ee.z,!0),H+=4}}catch(Ie){T=!0,D=Ie}finally{try{ie||W.return==null||W.return()}finally{if(T)throw D}}V.setUint16(H,0,!0),H+=2}}else{V="solid "+y+`
`;for(var ne=0,fe=Object.entries(this.faces);ne<fe.length;ne++){var se=r(fe[ne],2),ae=se[0],se=se[1],ae=x[ae],he=(V=V+(" facet norm "+ae.x+" "+ae.y+" "+ae.z+`
`)+`  outer loop
`,!0),ae=!1,J=void 0;try{for(var le,ye=se[Symbol.iterator]();!(he=(le=ye.next()).done);he=!0){var ue=le.value,ge=this.vertices[ue];V+="   vertex "+ge.x+" "+ge.y+" "+ge.z+`
`}}catch(be){ae=!0,J=be}finally{try{he||ye.return==null||ye.return()}finally{if(ae)throw J}}V=V+`  endloop
 endfacet
`}V+="endsolid "+y+`
`}f=new Blob([V],{type:"text/plain"}),n.default.prototype.downloadFile(f,u,"stl")}},{key:"flipU",value:function(){this.uvs=this.uvs.flat().map(function(u,f){return f%2==0?1-u:u})}},{key:"flipV",value:function(){this.uvs=this.uvs.flat().map(function(u,f){return f%2==0?u:1-u})}},{key:"computeFaces",value:function(){this.faces.length=0;for(var u,f,y,x=this.detailX+1,M=0;M<this.detailY;M++)for(var w=0;w<this.detailX;w++)f=(M+1)*x+w+1,this.faces.push([M*x+w,u=M*x+w+1,y=(M+1)*x+w]),this.faces.push([y,u,f]);return this}},{key:"_getFaceNormal",value:function(f){var f=this.faces[f],y=this.vertices[f[0]],M=this.vertices[f[1]],f=this.vertices[f[2]],M=n.default.Vector.sub(M,y),f=n.default.Vector.sub(f,y),y=n.default.Vector.cross(M,f),x=n.default.Vector.mag(y),M=x/(n.default.Vector.mag(M)*n.default.Vector.mag(f));return M===0||isNaN(M)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),y):(1<M&&(M=1),y.mult(Math.asin(M)/x))}},{key:"computeNormals",value:function(){var u,f=this,y=0<arguments.length&&arguments[0]!==void 0?arguments[0]:d.FLAT,x=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).roundToPrecision,M=this.vertexNormals,w=this.vertices,E=this.faces;if(y===d.SMOOTH){for(var C={},L=[],k=Math.pow(10,x===void 0?3:x),R=function(V){return Math.round(V*k)/k},P=function(V){return"".concat(R(V.x),",").concat(R(V.y),",").concat(R(V.z))},F=0;F<w.length;F++){var I=w[F],B=P(I);C[B]===void 0&&(C[B]=L.length,L.push(I))}E.forEach(function(V){for(var H=0;H<3;++H){var z=V[H],z=w[z],z=P(z);V[H]=C[z]}}),this.edges.forEach(function(V){for(var H=0;H<2;++H){var z=V[H],z=w[z],z=P(z);V[H]=C[z]}}),this.vertices=w=L}for(u=M.length=0;u<w.length;++u)M.push(new n.default.Vector);for(E.forEach(function(V,H){for(var z=f._getFaceNormal(H),G=0;G<3;++G){var Q=V[G];M[Q].add(z)}}),u=0;u<w.length;++u)M[u].normalize();return this}},{key:"averageNormals",value:function(){for(var u=0;u<=this.detailY;u++){var f=this.detailX+1,y=n.default.Vector.add(this.vertexNormals[u*f],this.vertexNormals[u*f+this.detailX]),y=n.default.Vector.div(y,2);this.vertexNormals[u*f]=y,this.vertexNormals[u*f+this.detailX]=y}return this}},{key:"averagePoleNormals",value:function(){for(var u=new n.default.Vector(0,0,0),f=0;f<this.detailX;f++)u.add(this.vertexNormals[f]);for(var u=n.default.Vector.div(u,this.detailX),y=0;y<this.detailX;y++)this.vertexNormals[y]=u;u=new n.default.Vector(0,0,0);for(var x=this.vertices.length-1;x>this.vertices.length-1-this.detailX;x--)u.add(this.vertexNormals[x]);u=n.default.Vector.div(u,this.detailX);for(var M=this.vertices.length-1;M>this.vertices.length-1-this.detailX;M--)this.vertexNormals[M]=u;return this}},{key:"_makeTriangleEdges",value:function(){for(var u=this.edges.length=0;u<this.faces.length;u++)this.edges.push([this.faces[u][0],this.faces[u][1]]),this.edges.push([this.faces[u][1],this.faces[u][2]]),this.edges.push([this.faces[u][2],this.faces[u][0]]);return this}},{key:"_edgesToVertices",value:function(){this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear();for(var u,f=new Map,y=new Set,x=0;x<this.edges.length;x++){var M,w=this.edges[x-1],E=this.edges[x],C=this.vertices[E[0]],L=this.vertices[E[1]],k=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*E[0],4*(E[0]+1)):[0,0,0,0],R=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*E[1],4*(E[1]+1)):[0,0,0,0],P=L.copy().sub(C).normalize(),F=0<P.magSq();F&&this._addSegment(C,L,k,R,P),0<x&&w[1]===E[0]?y.has(E[0])||(y.add(E[0]),f.delete(E[0]),u&&F&&P.dot(u)<1-1e-8&&this._addJoin(C,u,P,k)):(F&&!y.has(E[0])&&((M=f.get(E[0]))?(this._addJoin(C,M.dir,P,k),f.delete(E[0]),y.add(E[0])):f.set(E[0],{point:C,dir:P.copy().mult(-1),color:k})),u&&!y.has(w[1])&&((M=f.get(w[1]))?(this._addJoin(this.vertices[w[1]],u,M.dir.copy().mult(-1),k),f.delete(w[1]),y.add(w[1])):f.set(w[1],{point:this.vertices[w[1]],dir:u,color:k}),u=void 0)),x!==this.edges.length-1||y.has(E[1])||((C=f.get(E[1]))?(this._addJoin(L,P,C.dir.copy().mult(-1),R),f.delete(E[1]),y.add(E[1])):f.set(E[1],{point:L,dir:P,color:R})),F&&(u=P)}var I=!0,B=!1,V=void 0;try{for(var H,z=f.values()[Symbol.iterator]();!(I=(H=z.next()).done);I=!0){var G=H.value,Q=G.point,ie=G.dir,T=G.color;this._addCap(Q,ie,T)}}catch(D){B=!0,V=D}finally{try{I||z.return==null||z.return()}finally{if(B)throw V}}return this}},{key:"_addSegment",value:function(w,E,y,x,M){var w=w.array(),E=E.array(),C=M.array();this.lineSides.push(1,1,-1,1,-1,-1);for(var L=0,k=[this.lineTangentsIn,this.lineTangentsOut];L<k.length;L++)for(var R=k[L],P=0;P<6;P++)R.push.apply(R,p(C));return(M=this.lineVertices).push.apply(M,p(w).concat(p(E),p(w),p(E),p(E),p(w))),(M=this.lineVertexColors).push.apply(M,p(y).concat(p(x),p(y),p(x),p(x),p(y))),this}},{key:"_addCap",value:function(u,f,y){for(var x,M=u.array(),w=f.array(),E=[0,0,0],C=0;C<6;C++)(x=this.lineVertices).push.apply(x,p(M)),(x=this.lineTangentsIn).push.apply(x,p(w)),(x=this.lineTangentsOut).push.apply(x,E),(x=this.lineVertexColors).push.apply(x,p(y));return this.lineSides.push(-1,2,-2,1,2,-1),this}},{key:"_addJoin",value:function(u,f,y,x){for(var M,w=u.array(),E=f.array(),C=y.array(),L=0;L<12;L++)(M=this.lineVertices).push.apply(M,p(w)),(M=this.lineTangentsIn).push.apply(M,p(E)),(M=this.lineTangentsOut).push.apply(M,p(C)),(M=this.lineVertexColors).push.apply(M,p(x));return this.lineSides.push(-1,-3,-2,-1,0,-3),this.lineSides.push(3,1,2,3,0,1),this}},{key:"normalize",value:function(){if(0<this.vertices.length){for(var u=this.vertices[0].copy(),f=this.vertices[0].copy(),y=0;y<this.vertices.length;y++)u.x=Math.max(u.x,this.vertices[y].x),f.x=Math.min(f.x,this.vertices[y].x),u.y=Math.max(u.y,this.vertices[y].y),f.y=Math.min(f.y,this.vertices[y].y),u.z=Math.max(u.z,this.vertices[y].z),f.z=Math.min(f.z,this.vertices[y].z);for(var x=n.default.Vector.lerp(u,f,.5),M=n.default.Vector.sub(u,f),w=200/Math.max(Math.max(M.x,M.y),M.z),E=0;E<this.vertices.length;E++)this.vertices[E].sub(x),this.vertices[E].mult(w)}return this}}])&&o(h.prototype,c),i}();var a=n.default.Geometry;b.default=a},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array-buffer.constructor":152,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.flat":160,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.unscopables.flat":173,"core-js/modules/es.map":175,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.entries":184,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],336:[function(m,_,b){m("core-js/modules/es.array.iterator"),m("core-js/modules/es.object.to-string"),m("core-js/modules/es.typed-array.float32-array"),m("core-js/modules/es.typed-array.copy-within"),m("core-js/modules/es.typed-array.every"),m("core-js/modules/es.typed-array.fill"),m("core-js/modules/es.typed-array.filter"),m("core-js/modules/es.typed-array.find"),m("core-js/modules/es.typed-array.find-index"),m("core-js/modules/es.typed-array.for-each"),m("core-js/modules/es.typed-array.includes"),m("core-js/modules/es.typed-array.index-of"),m("core-js/modules/es.typed-array.iterator"),m("core-js/modules/es.typed-array.join"),m("core-js/modules/es.typed-array.last-index-of"),m("core-js/modules/es.typed-array.map"),m("core-js/modules/es.typed-array.reduce"),m("core-js/modules/es.typed-array.reduce-right"),m("core-js/modules/es.typed-array.reverse"),m("core-js/modules/es.typed-array.set"),m("core-js/modules/es.typed-array.slice"),m("core-js/modules/es.typed-array.some"),m("core-js/modules/es.typed-array.sort"),m("core-js/modules/es.typed-array.subarray"),m("core-js/modules/es.typed-array.to-locale-string"),m("core-js/modules/es.typed-array.to-string"),m("core-js/modules/es.array.iterator"),m("core-js/modules/es.object.to-string"),m("core-js/modules/es.typed-array.float32-array"),m("core-js/modules/es.typed-array.copy-within"),m("core-js/modules/es.typed-array.every"),m("core-js/modules/es.typed-array.fill"),m("core-js/modules/es.typed-array.filter"),m("core-js/modules/es.typed-array.find"),m("core-js/modules/es.typed-array.find-index"),m("core-js/modules/es.typed-array.for-each"),m("core-js/modules/es.typed-array.includes"),m("core-js/modules/es.typed-array.index-of"),m("core-js/modules/es.typed-array.iterator"),m("core-js/modules/es.typed-array.join"),m("core-js/modules/es.typed-array.last-index-of"),m("core-js/modules/es.typed-array.map"),m("core-js/modules/es.typed-array.reduce"),m("core-js/modules/es.typed-array.reduce-right"),m("core-js/modules/es.typed-array.reverse"),m("core-js/modules/es.typed-array.set"),m("core-js/modules/es.typed-array.slice"),m("core-js/modules/es.typed-array.some"),m("core-js/modules/es.typed-array.sort"),m("core-js/modules/es.typed-array.subarray"),m("core-js/modules/es.typed-array.to-locale-string"),m("core-js/modules/es.typed-array.to-string"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var s=(m=m("../core/main"))&&m.__esModule?m:{default:m};function l(p,r){for(var o=0;o<r.length;o++){var a=r[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(p,a.key,a)}}var n=Array,d=function(p){return Array.isArray(p)},m=(typeof Float32Array<"u"&&(n=Float32Array,d=function(p){return Array.isArray(p)||p instanceof Float32Array}),s.default.Matrix=function(){function p(){var i=this,h=p;if(i instanceof h)return arguments.length&&((i=arguments.length-1)<0||arguments.length<=i?void 0:arguments[i])instanceof s.default&&(this.p5=(h=arguments.length-1)<0||arguments.length<=h?void 0:arguments[h]),(arguments.length<=0?void 0:arguments[0])==="mat3"?this.mat3=Array.isArray(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:new n([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:new n([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this;throw new TypeError("Cannot call a class as a function")}var r,o,a;return r=p,a=[{key:"identity",value:function(i){return new s.default.Matrix(i)}}],(o=[{key:"reset",value:function(){return this.mat3?this.mat3.set([1,0,0,0,1,0,0,0,1]):this.mat4&&this.mat4.set([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this}},{key:"set",value:function(i){var h=arguments;if(i instanceof s.default.Matrix?h=i.mat4:d(i)&&(h=i),h.length!==16)s.default._friendlyError("Expected 16 values but received ".concat(h.length,"."),"p5.Matrix.set");else for(var c=0;c<16;c++)this.mat4[c]=h[c];return this}},{key:"get",value:function(){return new s.default.Matrix(this.mat4,this.p5)}},{key:"copy",value:function(){var i;return this.mat3!==void 0?((i=new s.default.Matrix("mat3",this.p5)).mat3[0]=this.mat3[0],i.mat3[1]=this.mat3[1],i.mat3[2]=this.mat3[2],i.mat3[3]=this.mat3[3],i.mat3[4]=this.mat3[4],i.mat3[5]=this.mat3[5],i.mat3[6]=this.mat3[6],i.mat3[7]=this.mat3[7],i.mat3[8]=this.mat3[8]):((i=new s.default.Matrix(this.p5)).mat4[0]=this.mat4[0],i.mat4[1]=this.mat4[1],i.mat4[2]=this.mat4[2],i.mat4[3]=this.mat4[3],i.mat4[4]=this.mat4[4],i.mat4[5]=this.mat4[5],i.mat4[6]=this.mat4[6],i.mat4[7]=this.mat4[7],i.mat4[8]=this.mat4[8],i.mat4[9]=this.mat4[9],i.mat4[10]=this.mat4[10],i.mat4[11]=this.mat4[11],i.mat4[12]=this.mat4[12],i.mat4[13]=this.mat4[13],i.mat4[14]=this.mat4[14],i.mat4[15]=this.mat4[15]),i}},{key:"transpose",value:function(i){var h,c,u,f,y,x;return i instanceof s.default.Matrix?(h=i.mat4[1],c=i.mat4[2],u=i.mat4[3],f=i.mat4[6],y=i.mat4[7],x=i.mat4[11],this.mat4[0]=i.mat4[0],this.mat4[1]=i.mat4[4],this.mat4[2]=i.mat4[8],this.mat4[3]=i.mat4[12],this.mat4[4]=h,this.mat4[5]=i.mat4[5],this.mat4[6]=i.mat4[9],this.mat4[7]=i.mat4[13],this.mat4[8]=c,this.mat4[9]=f,this.mat4[10]=i.mat4[10],this.mat4[11]=i.mat4[14],this.mat4[12]=u,this.mat4[13]=y,this.mat4[14]=x,this.mat4[15]=i.mat4[15]):d(i)&&(h=i[1],c=i[2],u=i[3],f=i[6],y=i[7],x=i[11],this.mat4[0]=i[0],this.mat4[1]=i[4],this.mat4[2]=i[8],this.mat4[3]=i[12],this.mat4[4]=h,this.mat4[5]=i[5],this.mat4[6]=i[9],this.mat4[7]=i[13],this.mat4[8]=c,this.mat4[9]=f,this.mat4[10]=i[10],this.mat4[11]=i[14],this.mat4[12]=u,this.mat4[13]=y,this.mat4[14]=x,this.mat4[15]=i[15]),this}},{key:"invert",value:function(B){B instanceof s.default.Matrix?(h=B.mat4[0],c=B.mat4[1],u=B.mat4[2],f=B.mat4[3],y=B.mat4[4],x=B.mat4[5],M=B.mat4[6],w=B.mat4[7],E=B.mat4[8],C=B.mat4[9],L=B.mat4[10],k=B.mat4[11],R=B.mat4[12],P=B.mat4[13],F=B.mat4[14],I=B.mat4[15]):d(B)&&(h=B[0],c=B[1],u=B[2],f=B[3],y=B[4],x=B[5],M=B[6],w=B[7],E=B[8],C=B[9],L=B[10],k=B[11],R=B[12],P=B[13],F=B[14],I=B[15]);var h,c,u,f,y,x,M,w,E,C,L,k,R,P,F,I,B=h*x-c*y,V=h*M-u*y,H=h*w-f*y,z=c*M-u*x,G=c*w-f*x,Q=u*w-f*M,ie=E*P-C*R,T=E*F-L*R,D=E*I-k*R,U=C*F-L*P,W=C*I-k*P,$=L*I-k*F,ee=B*$-V*W+H*U+z*D-G*T+Q*ie;return ee?(this.mat4[0]=(x*$-M*W+w*U)*(ee=1/ee),this.mat4[1]=(u*W-c*$-f*U)*ee,this.mat4[2]=(P*Q-F*G+I*z)*ee,this.mat4[3]=(L*G-C*Q-k*z)*ee,this.mat4[4]=(M*D-y*$-w*T)*ee,this.mat4[5]=(h*$-u*D+f*T)*ee,this.mat4[6]=(F*H-R*Q-I*V)*ee,this.mat4[7]=(E*Q-L*H+k*V)*ee,this.mat4[8]=(y*W-x*D+w*ie)*ee,this.mat4[9]=(c*D-h*W-f*ie)*ee,this.mat4[10]=(R*G-P*H+I*B)*ee,this.mat4[11]=(C*H-E*G-k*B)*ee,this.mat4[12]=(x*T-y*U-M*ie)*ee,this.mat4[13]=(h*U-c*T+u*ie)*ee,this.mat4[14]=(P*V-R*z-F*B)*ee,this.mat4[15]=(E*z-C*V+L*B)*ee,this):null}},{key:"invert3x3",value:function(){var i=this.mat3[0],h=this.mat3[1],c=this.mat3[2],u=this.mat3[3],f=this.mat3[4],y=this.mat3[5],x=this.mat3[6],M=this.mat3[7],w=this.mat3[8],E=w*f-y*M,C=-w*u+y*x,L=M*u-f*x,k=i*E+h*C+c*L;return k?(this.mat3[0]=E*(k=1/k),this.mat3[1]=(-w*h+c*M)*k,this.mat3[2]=(y*h-c*f)*k,this.mat3[3]=C*k,this.mat3[4]=(w*i-c*x)*k,this.mat3[5]=(-y*i+c*u)*k,this.mat3[6]=L*k,this.mat3[7]=(-M*i+h*x)*k,this.mat3[8]=(f*i-h*u)*k,this):null}},{key:"transpose3x3",value:function(i){var h=(i=i===void 0?this.mat3:i)[1],c=i[2],u=i[5];return this.mat3[0]=i[0],this.mat3[1]=i[3],this.mat3[2]=i[6],this.mat3[3]=h,this.mat3[4]=i[4],this.mat3[5]=i[7],this.mat3[6]=c,this.mat3[7]=u,this.mat3[8]=i[8],this}},{key:"inverseTranspose",value:function(i){if(i=i.mat4,this.mat3===void 0?s.default._friendlyError("sorry, this function only works with mat3"):(this.mat3[0]=i[0],this.mat3[1]=i[1],this.mat3[2]=i[2],this.mat3[3]=i[4],this.mat3[4]=i[5],this.mat3[5]=i[6],this.mat3[6]=i[8],this.mat3[7]=i[9],this.mat3[8]=i[10]),i=this.invert3x3(),i)i.transpose3x3(this.mat3);else for(var h=0;h<9;h++)this.mat3[h]=0;return this}},{key:"determinant",value:function(){var i=this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4],h=this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4],c=this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4],u=this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5],f=this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5],y=this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6],x=this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12],M=this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12],w=this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12],E=this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13],C=this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13];return i*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-h*C+c*E+u*w-f*M+y*x}},{key:"mult",value:function(c){var h;if(c===this||c===this.mat4)h=this.copy().mat4;else if(c instanceof s.default.Matrix)h=c.mat4;else if(d(c))h=c;else{if(arguments.length!==16)return;h=arguments}var c=this.mat4[0],u=this.mat4[1],f=this.mat4[2],y=this.mat4[3];return this.mat4[0]=c*h[0]+u*h[4]+f*h[8]+y*h[12],this.mat4[1]=c*h[1]+u*h[5]+f*h[9]+y*h[13],this.mat4[2]=c*h[2]+u*h[6]+f*h[10]+y*h[14],this.mat4[3]=c*h[3]+u*h[7]+f*h[11]+y*h[15],c=this.mat4[4],u=this.mat4[5],f=this.mat4[6],y=this.mat4[7],this.mat4[4]=c*h[0]+u*h[4]+f*h[8]+y*h[12],this.mat4[5]=c*h[1]+u*h[5]+f*h[9]+y*h[13],this.mat4[6]=c*h[2]+u*h[6]+f*h[10]+y*h[14],this.mat4[7]=c*h[3]+u*h[7]+f*h[11]+y*h[15],c=this.mat4[8],u=this.mat4[9],f=this.mat4[10],y=this.mat4[11],this.mat4[8]=c*h[0]+u*h[4]+f*h[8]+y*h[12],this.mat4[9]=c*h[1]+u*h[5]+f*h[9]+y*h[13],this.mat4[10]=c*h[2]+u*h[6]+f*h[10]+y*h[14],this.mat4[11]=c*h[3]+u*h[7]+f*h[11]+y*h[15],c=this.mat4[12],u=this.mat4[13],f=this.mat4[14],y=this.mat4[15],this.mat4[12]=c*h[0]+u*h[4]+f*h[8]+y*h[12],this.mat4[13]=c*h[1]+u*h[5]+f*h[9]+y*h[13],this.mat4[14]=c*h[2]+u*h[6]+f*h[10]+y*h[14],this.mat4[15]=c*h[3]+u*h[7]+f*h[11]+y*h[15],this}},{key:"apply",value:function(c){var h;if(c===this||c===this.mat4)h=this.copy().mat4;else if(c instanceof s.default.Matrix)h=c.mat4;else if(d(c))h=c;else{if(arguments.length!==16)return;h=arguments}var c=this.mat4,u=c[0],f=c[4],y=c[8],x=c[12],u=(c[0]=h[0]*u+h[1]*f+h[2]*y+h[3]*x,c[4]=h[4]*u+h[5]*f+h[6]*y+h[7]*x,c[8]=h[8]*u+h[9]*f+h[10]*y+h[11]*x,c[12]=h[12]*u+h[13]*f+h[14]*y+h[15]*x,c[1]),f=c[5],y=c[9],x=c[13],u=(c[1]=h[0]*u+h[1]*f+h[2]*y+h[3]*x,c[5]=h[4]*u+h[5]*f+h[6]*y+h[7]*x,c[9]=h[8]*u+h[9]*f+h[10]*y+h[11]*x,c[13]=h[12]*u+h[13]*f+h[14]*y+h[15]*x,c[2]),f=c[6],y=c[10],x=c[14],u=(c[2]=h[0]*u+h[1]*f+h[2]*y+h[3]*x,c[6]=h[4]*u+h[5]*f+h[6]*y+h[7]*x,c[10]=h[8]*u+h[9]*f+h[10]*y+h[11]*x,c[14]=h[12]*u+h[13]*f+h[14]*y+h[15]*x,c[3]),f=c[7],y=c[11],x=c[15];return c[3]=h[0]*u+h[1]*f+h[2]*y+h[3]*x,c[7]=h[4]*u+h[5]*f+h[6]*y+h[7]*x,c[11]=h[8]*u+h[9]*f+h[10]*y+h[11]*x,c[15]=h[12]*u+h[13]*f+h[14]*y+h[15]*x,this}},{key:"scale",value:function(i,h,c){return i instanceof s.default.Vector?(h=i.y,c=i.z,i=i.x):i instanceof Array&&(h=i[1],c=i[2],i=i[0]),this.mat4[0]*=i,this.mat4[1]*=i,this.mat4[2]*=i,this.mat4[3]*=i,this.mat4[4]*=h,this.mat4[5]*=h,this.mat4[6]*=h,this.mat4[7]*=h,this.mat4[8]*=c,this.mat4[9]*=c,this.mat4[10]*=c,this.mat4[11]*=c,this}},{key:"rotate",value:function(B,W,U,u){W instanceof s.default.Vector?(U=W.y,u=W.z,W=W.x):W instanceof Array&&(U=W[1],u=W[2],W=W[0]);var f=Math.sqrt(W*W+U*U+u*u),f=(W*=1/f,U*=1/f,u*=1/f,this.mat4[0]),y=this.mat4[1],x=this.mat4[2],M=this.mat4[3],w=this.mat4[4],E=this.mat4[5],C=this.mat4[6],L=this.mat4[7],k=this.mat4[8],R=this.mat4[9],P=this.mat4[10],F=this.mat4[11],I=Math.sin(B),B=Math.cos(B),V=1-B,H=W*W*V+B,z=U*W*V+u*I,G=u*W*V-U*I,Q=W*U*V-u*I,ie=U*U*V+B,T=u*U*V+W*I,D=W*u*V+U*I,U=U*u*V-W*I,W=u*u*V+B;return this.mat4[0]=f*H+w*z+k*G,this.mat4[1]=y*H+E*z+R*G,this.mat4[2]=x*H+C*z+P*G,this.mat4[3]=M*H+L*z+F*G,this.mat4[4]=f*Q+w*ie+k*T,this.mat4[5]=y*Q+E*ie+R*T,this.mat4[6]=x*Q+C*ie+P*T,this.mat4[7]=M*Q+L*ie+F*T,this.mat4[8]=f*D+w*U+k*W,this.mat4[9]=y*D+E*U+R*W,this.mat4[10]=x*D+C*U+P*W,this.mat4[11]=M*D+L*U+F*W,this}},{key:"translate",value:function(u){var h=u[0],c=u[1],u=u[2]||0;this.mat4[12]+=this.mat4[0]*h+this.mat4[4]*c+this.mat4[8]*u,this.mat4[13]+=this.mat4[1]*h+this.mat4[5]*c+this.mat4[9]*u,this.mat4[14]+=this.mat4[2]*h+this.mat4[6]*c+this.mat4[10]*u,this.mat4[15]+=this.mat4[3]*h+this.mat4[7]*c+this.mat4[11]*u}},{key:"rotateX",value:function(i){this.rotate(i,1,0,0)}},{key:"rotateY",value:function(i){this.rotate(i,0,1,0)}},{key:"rotateZ",value:function(i){this.rotate(i,0,0,1)}},{key:"perspective",value:function(f,h,c,u){var f=1/Math.tan(f/2),y=1/(c-u);return this.mat4[0]=f/h,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=f,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(u+c)*y,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*u*c*y,this.mat4[15]=0,this}},{key:"ortho",value:function(i,h,c,u,f,y){var x=1/(i-h),M=1/(c-u),w=1/(f-y);return this.mat4[0]=-2*x,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*M,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*w,this.mat4[11]=0,this.mat4[12]=(i+h)*x,this.mat4[13]=(u+c)*M,this.mat4[14]=(y+f)*w,this.mat4[15]=1,this}},{key:"multiplyVec4",value:function(i,h,c,u){var f=new Array(4),y=this.mat4;return f[0]=y[0]*i+y[4]*h+y[8]*c+y[12]*u,f[1]=y[1]*i+y[5]*h+y[9]*c+y[13]*u,f[2]=y[2]*i+y[6]*h+y[10]*c+y[14]*u,f[3]=y[3]*i+y[7]*h+y[11]*c+y[15]*u,f}},{key:"multiplyPoint",value:function(c){var u=c.x,h=c.y,c=c.z,u=this.multiplyVec4(u,h,c,1);return new s.default.Vector(u[0],u[1],u[2])}},{key:"multiplyAndNormalizePoint",value:function(c){var u=c.x,h=c.y,c=c.z,u=this.multiplyVec4(u,h,c,1);return u[0]/=u[3],u[1]/=u[3],u[2]/=u[3],new s.default.Vector(u[0],u[1],u[2])}},{key:"multiplyDirection",value:function(c){var u=c.x,h=c.y,c=c.z,u=this.multiplyVec4(u,h,c,0);return new s.default.Vector(u[0],u[1],u[2])}},{key:"mult3x3",value:function(c){var h;if(c===this||c===this.mat3)h=this.copy().mat3;else if(c instanceof s.default.Matrix)h=c.mat3;else if(d(c))h=c;else{if(arguments.length!==9)return;h=arguments}var c=this.mat3[0],u=this.mat3[1],f=this.mat3[2];return this.mat3[0]=c*h[0]+u*h[3]+f*h[6],this.mat3[1]=c*h[1]+u*h[4]+f*h[7],this.mat3[2]=c*h[2]+u*h[5]+f*h[8],c=this.mat3[3],u=this.mat3[4],f=this.mat3[5],this.mat3[3]=c*h[0]+u*h[3]+f*h[6],this.mat3[4]=c*h[1]+u*h[4]+f*h[7],this.mat3[5]=c*h[2]+u*h[5]+f*h[8],c=this.mat3[6],u=this.mat3[7],f=this.mat3[8],this.mat3[6]=c*h[0]+u*h[3]+f*h[6],this.mat3[7]=c*h[1]+u*h[4]+f*h[7],this.mat3[8]=c*h[2]+u*h[5]+f*h[8],this}},{key:"column",value:function(i){return new s.default.Vector(this.mat3[3*i],this.mat3[3*i+1],this.mat3[3*i+2])}},{key:"row",value:function(i){return new s.default.Vector(this.mat3[i],this.mat3[i+3],this.mat3[i+6])}},{key:"diagonal",value:function(){return this.mat3!==void 0?[this.mat3[0],this.mat3[4],this.mat3[8]]:[this.mat4[0],this.mat4[5],this.mat4[10],this.mat4[15]]}},{key:"multiplyVec3",value:function(i,h){return(h=h===void 0?i.copy():h).x=this.row(0).dot(i),h.y=this.row(1).dot(i),h.z=this.row(2).dot(i),h}},{key:"createSubMatrix3x3",value:function(){var i=new s.default.Matrix("mat3");return i.mat3[0]=this.mat4[0],i.mat3[1]=this.mat4[1],i.mat3[2]=this.mat4[2],i.mat3[3]=this.mat4[4],i.mat3[4]=this.mat4[5],i.mat3[5]=this.mat4[6],i.mat3[6]=this.mat4[8],i.mat3[7]=this.mat4[9],i.mat3[8]=this.mat4[10],i}}])&&l(r.prototype,o),a&&l(r,a),p}(),s.default.Matrix);b.default=m},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239}],337:[function(t,_,b){Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var s=(t=t("../core/main"))&&t.__esModule?t:{default:t};function l(n,d){for(var m=0;m<d.length;m++){var p=d[m];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(n,p.key,p)}}s.default.Quat=function(){function n(r,o,a,i){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");this.w=r,this.vec=new s.default.Vector(o,a,i)}var d,m,p;return d=n,p=[{key:"fromAxisAngle",value:function(r,c,a,i){var h=Math.cos(r/2),c=new s.default.Vector(c,a,i).normalize().mult(Math.sin(r/2));return new s.default.Quat(h,c.x,c.y,c.z)}}],(m=[{key:"conjugate",value:function(){return new s.default.Quat(this.w,-this.vec.x,-this.vec.y,-this.vec.z)}},{key:"multiply",value:function(r){return new s.default.Quat(this.w*r.w-this.vec.x*r.vec.x-this.vec.y*r.vec.y-this.vec.z-r.vec.z,this.w*r.vec.x+this.vec.x*r.w+this.vec.y*r.vec.z-this.vec.z*r.vec.y,this.w*r.vec.y-this.vec.x*r.vec.z+this.vec.y*r.w+this.vec.z*r.vec.x,this.w*r.vec.z+this.vec.x*r.vec.y-this.vec.y*r.vec.x+this.vec.z*r.w)}},{key:"rotateVector",value:function(r){return new s.default.Vector.mult(r,this.w*this.w-this.vec.dot(this.vec)).add(s.default.Vector.mult(this.vec,2*r.dot(this.vec))).add(s.default.Vector.mult(this.vec,2*this.w).cross(r)).clampToZero()}},{key:"rotateBy",value:function(r){return r.multiply(this).multiply(r.conjugate()).vec.clampToZero()}}])&&l(d.prototype,m),p&&l(d,p),n}(),t=s.default.Quat,b.default=t},{"../core/main":283}],338:[function(t,_,b){t("core-js/modules/es.array.map"),t("core-js/modules/es.array.map"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function s(l,n){for(var d=0;d<n.length;d++){var m=n[d];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(l,m.key,m)}}t.default.RenderBuffer=function(){function l(m,p,r,o,a,i){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this.size=m,this.src=p,this.dst=r,this.attr=o,this._renderer=a,this.map=i}var n,d;return n=l,(d=[{key:"_prepareBuffer",value:function(m,p){var r,o,a,c=p.attributes,i=this._renderer.GL,h=m.model||m,c=c[this.attr];c&&(r=m[this.dst],0<(o=h[this.src]).length?((a=!r)&&(m[this.dst]=r=i.createBuffer()),i.bindBuffer(i.ARRAY_BUFFER,r),!a&&h.dirtyFlags[this.src]===!1||(a=(m=this.map)?m(o):o,this._renderer._bindBuffer(r,i.ARRAY_BUFFER,a),h.dirtyFlags[this.src]=!1),p.enableAttrib(c,this.size)):(m=c.location)!==-1&&this._renderer.registerEnabled.has(m)&&(i.disableVertexAttribArray(m),this._renderer.registerEnabled.delete(m)))}}])&&s(n.prototype,d),l}(),t=t.default.RenderBuffer,b.default=t},{"../core/main":283,"core-js/modules/es.array.map":168}],339:[function(t,_,b){function s(a){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(a)}function l(a){return(l=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(i){return s(i)}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":s(i)})(a)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.map"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.map"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var n=(o=t("../core/main"))&&o.__esModule?o:{default:o},d=function(a){if(a&&a.__esModule)return a;if(a===null||l(a)!=="object"&&typeof a!="function")return{default:a};var i=m();if(i&&i.has(a))return i.get(a);var h,c={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in a){var f;Object.prototype.hasOwnProperty.call(a,h)&&((f=u?Object.getOwnPropertyDescriptor(a,h):null)&&(f.get||f.set)?Object.defineProperty(c,h,f):c[h]=a[h])}return c.default=a,i&&i.set(a,c),c}(t("../core/constants"));function m(){var a;return typeof WeakMap!="function"?null:(a=new WeakMap,m=function(){return a},a)}function p(a){return function(i){if(Array.isArray(i)){for(var h=0,c=new Array(i.length);h<i.length;h++)c[h]=i[h];return c}}(a)||function(i){if(Symbol.iterator in Object(i)||Object.prototype.toString.call(i)==="[object Arguments]")return Array.from(i)}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t("./p5.RenderBuffer"),n.default.RendererGL.prototype.beginShape=function(a){return this.immediateMode.shapeMode=a!==void 0?a:d.TESS,this.immediateMode.geometry.reset(),this.immediateMode.contourIndices=[],this};var r={vertices:1,vertexNormals:1,vertexColors:4,vertexStrokeColors:4,uvs:2},o=(n.default.RendererGL.prototype.beginContour=function(){if(this.immediateMode.shapeMode!==d.TESS)throw new Error("WebGL mode can only use contours with beginShape(TESS).");this.immediateMode.contourIndices.push(this.immediateMode.geometry.vertices.length)},n.default.RendererGL.prototype.vertex=function(a,i){if(this.immediateMode.shapeMode===d.QUADS&&this.immediateMode.geometry.vertices.length%6==3)for(var h in r){var c=r[h],h=this.immediateMode.geometry[h];h.push.apply(h,p(h.slice(h.length-3*c,h.length-2*c)).concat(p(h.slice(h.length-c,h.length))))}var u,f,y=u=f=0,x=(arguments.length===3?y=arguments[2]:arguments.length===4?(u=arguments[2],f=arguments[3]):arguments.length===5&&(y=arguments[2],u=arguments[3],f=arguments[4]),new n.default.Vector(a,i,y)),x=(this.immediateMode.geometry.vertices.push(x),this.immediateMode.geometry.vertexNormals.push(this._currentNormal),this.curFillColor||[.5,.5,.5,1]),x=(this.immediateMode.geometry.vertexColors.push(x[0],x[1],x[2],x[3]),this.curStrokeColor||[.5,.5,.5,1]);return this.immediateMode.geometry.vertexStrokeColors.push(x[0],x[1],x[2],x[3]),this.textureMode!==d.IMAGE||this.isProcessingVertices||(this._tex!==null?0<this._tex.width&&0<this._tex.height&&(u/=this._tex.width,f/=this._tex.height):this.userFillShader===void 0&&this.userStrokeShader===void 0&&this.userPointShader===void 0&&this._tex===null&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(u,f),this.immediateMode._bezierVertex[0]=a,this.immediateMode._bezierVertex[1]=i,this.immediateMode._bezierVertex[2]=y,this.immediateMode._quadraticVertex[0]=a,this.immediateMode._quadraticVertex[1]=i,this.immediateMode._quadraticVertex[2]=y,this},n.default.RendererGL.prototype.normal=function(a,i,h){return a instanceof n.default.Vector?this._currentNormal=a:this._currentNormal=new n.default.Vector(a,i,h),this},n.default.RendererGL.prototype.endShape=function(a,i,h,c,u,f){var y,x=6<arguments.length&&arguments[6]!==void 0?arguments[6]:1;return this.immediateMode.shapeMode===d.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this.immediateMode.geometry.vertices.length===3&&this.immediateMode.shapeMode===d.TESS&&(this.immediateMode.shapeMode,d.TRIANGLES),this.isProcessingVertices=!0,this._processVertices.apply(this,arguments),y=this.isProcessingVertices=!1,this.immediateMode.shapeMode!==d.LINE_STRIP&&this.immediateMode.shapeMode!==d.LINES||(this.immediateMode.shapeMode=d.TRIANGLE_FAN,y=!0),this.immediateMode.shapeMode===d.QUADS?this.immediateMode.shapeMode=d.TRIANGLES:this.immediateMode.shapeMode===d.QUAD_STRIP&&(this.immediateMode.shapeMode=d.TRIANGLE_STRIP),this._doFill&&!y&&!this.geometryBuilder&&3<=this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(x),this._doStroke&&!this.geometryBuilder&&1<=this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.geometryBuilder&&this.geometryBuilder.addImmediate(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},n.default.RendererGL.prototype._processVertices=function(a){var i;this.immediateMode.geometry.vertices.length!==0&&(i=this._doStroke,a=a===d.CLOSE,i&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,a),this.geometryBuilder||this.immediateMode.geometry._edgesToVertices()),i=this.immediateMode.shapeMode===d.TESS,a=0<this.immediateMode.contourIndices.length,this._doFill&&(this.isBezier||this.isQuadratic||this.isCurve||i||a)&&this.immediateMode.shapeMode!==d.LINES&&this._tesselateShape())},n.default.RendererGL.prototype._calculateEdges=function(a,i,h){var c=[],u=0,f=this.immediateMode.contourIndices.slice(),y=0;switch(a){case d.TRIANGLE_STRIP:for(u=0;u<i.length-2;u++)c.push([u,u+1]),c.push([u,u+2]);c.push([u,u+1]);break;case d.TRIANGLE_FAN:for(u=1;u<i.length-1;u++)c.push([0,u]),c.push([u,u+1]);c.push([0,i.length-1]);break;case d.TRIANGLES:for(u=0;u<i.length-2;u+=3)c.push([u,u+1]),c.push([u+1,u+2]),c.push([u+2,u]);break;case d.LINES:for(u=0;u<i.length-1;u+=2)c.push([u,u+1]);break;case d.QUADS:for(u=0;u<i.length-5;u+=6)c.push([u,u+1]),c.push([u+1,u+2]),c.push([u+3,u+5]),c.push([u+4,u+5]);break;case d.QUAD_STRIP:for(u=0;u<i.length-2;u+=2)c.push([u,u+1]),c.push([u,u+2]),c.push([u+1,u+3]);c.push([u,u+1]);break;default:for(u=0;u<i.length;u++)u+1<i.length&&u+1!==f[0]?c.push([u,u+1]):((h||y)&&c.push([u,y]),0<f.length&&(y=f.shift()))}return a!==d.TESS&&h&&c.push([i.length-1,0]),c},n.default.RendererGL.prototype._tesselateShape=function(){for(var a=this,i=(this.immediateMode.shapeMode=d.TRIANGLES,[[]]),h=0;h<this.immediateMode.geometry.vertices.length;h++)0<this.immediateMode.contourIndices.length&&this.immediateMode.contourIndices[0]===h&&(this.immediateMode.contourIndices.shift(),i.push([])),i[i.length-1].push(this.immediateMode.geometry.vertices[h].x,this.immediateMode.geometry.vertices[h].y,this.immediateMode.geometry.vertices[h].z,this.immediateMode.geometry.uvs[2*h],this.immediateMode.geometry.uvs[2*h+1],this.immediateMode.geometry.vertexColors[4*h],this.immediateMode.geometry.vertexColors[4*h+1],this.immediateMode.geometry.vertexColors[4*h+2],this.immediateMode.geometry.vertexColors[4*h+3],this.immediateMode.geometry.vertexNormals[h].x,this.immediateMode.geometry.vertexNormals[h].y,this.immediateMode.geometry.vertexNormals[h].z);for(var c,u=this._triangulate(i),f=this.immediateMode.geometry.vertices,y=(this.immediateMode.geometry.vertices=[],this.immediateMode.geometry.vertexNormals=[],this.immediateMode.geometry.uvs=[],[]),x=0,M=u.length;x<M;x+=n.default.RendererGL.prototype.tessyVertexSize)y.push.apply(y,p(u.slice(x+5,x+9))),this.normal.apply(this,p(u.slice(x+9,x+12))),this.vertex.apply(this,p(u.slice(x,x+5)));this.geometryBuilder&&(c=new Map,this.immediateMode.geometry.edges=this.immediateMode.geometry.edges.map(function(w){return w.map(function(E){if(!c.has(E)){var C=f[E],L=a.immediateMode.geometry.vertices.findIndex(function(V){return C.x===V.x&&C.y===V.y&&C.z===V.z});if(L===-1){for(var k=1/0,R=0,P=0;P<a.immediateMode.geometry.vertices.length;P++){var I=a.immediateMode.geometry.vertices[P],B=C.x-I.x,F=C.y-I.y,I=C.z-I.z,B=B*B+F*F+I*I;B<k&&(k=B,R=P)}L=R}c.set(E,L)}return c.get(E)})})),this.immediateMode.geometry.vertexColors=y},n.default.RendererGL.prototype._drawImmediateFill=function(){var a,i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:1,h=this.GL,c=(this._useVertexColor=0<this.immediateMode.geometry.vertexColors.length,a=this._getImmediateFillShader(),this._setFillUniforms(a),!0),u=!1,f=void 0;try{for(var y,x=this.immediateMode.buffers.fill[Symbol.iterator]();!(c=(y=x.next()).done);c=!0)y.value._prepareBuffer(this.immediateMode.geometry,a)}catch(M){u=!0,f=M}finally{try{c||x.return==null||x.return()}finally{if(u)throw f}}if(a.disableRemainingAttributes(),this._applyColorBlend(this.curFillColor,this.immediateMode.geometry.hasFillTransparency()),i===1)h.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length);else try{h.drawArraysInstanced(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length,i)}catch{console.log(" p5.js says: Instancing is only supported in WebGL2 mode")}a.unbindShader()},n.default.RendererGL.prototype._drawImmediateStroke=function(){var a=this.GL,i=(this._useLineColor=0<this.immediateMode.geometry.vertexStrokeColors.length,this._getImmediateStrokeShader()),h=(this._setStrokeUniforms(i),!0),c=!1,u=void 0;try{for(var f,y=this.immediateMode.buffers.stroke[Symbol.iterator]();!(h=(f=y.next()).done);h=!0)f.value._prepareBuffer(this.immediateMode.geometry,i)}catch(x){c=!0,u=x}finally{try{h||y.return==null||y.return()}finally{if(c)throw u}}i.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,this.immediateMode.geometry.hasFillTransparency()),a.drawArrays(a.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length/3),i.unbindShader()},n.default.RendererGL);b.default=o},{"../core/constants":272,"../core/main":283,"./p5.RenderBuffer":338,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.find-index":158,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.map":175,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],340:[function(t,_,b){function s(r){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(r)}function l(r){return(l=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(o){return s(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":s(o)})(r)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var n=(p=t("../core/main"))&&p.__esModule?p:{default:p},d=(t("./p5.RendererGL"),t("./p5.RenderBuffer"),function(r){if(r&&r.__esModule)return r;if(r===null||l(r)!=="object"&&typeof r!="function")return{default:r};var o=m();if(o&&o.has(r))return o.get(r);var a,i={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in r){var c;Object.prototype.hasOwnProperty.call(r,a)&&((c=h?Object.getOwnPropertyDescriptor(r,a):null)&&(c.get||c.set)?Object.defineProperty(i,a,c):i[a]=r[a])}return i.default=r,o&&o.set(r,i),i}(t("../core/constants")));function m(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,m=function(){return r},r)}n.default.RendererGL.prototype.freeGeometry=function(r){r.gid?this._freeBuffers(r.gid):console.warn("The model you passed to freeGeometry does not have an id!")},n.default.RendererGL.prototype._initBufferDefaults=function(r){var o;return this._freeBuffers(r),1e3<Object.keys(this.retainedMode.geometry).length&&(o=Object.keys(this.retainedMode.geometry)[0],this._freeBuffers(o)),this.retainedMode.geometry[r]={}},n.default.RendererGL.prototype._freeBuffers=function(r){var o,a=this.retainedMode.geometry[r];function i(h){var c=!0,u=!1,f=void 0;try{for(var y,x=h[Symbol.iterator]();!(c=(y=x.next()).done);c=!0){var M=y.value;a[M.dst]&&(o.deleteBuffer(a[M.dst]),a[M.dst]=null)}}catch(w){u=!0,f=w}finally{try{c||x.return==null||x.return()}finally{if(u)throw f}}}a&&(delete this.retainedMode.geometry[r],o=this.GL,a.indexBuffer&&o.deleteBuffer(a.indexBuffer),i(this.retainedMode.buffers.stroke),i(this.retainedMode.buffers.fill))},n.default.RendererGL.prototype.createBuffers=function(u,o){var a,i,h,c=this.GL,u=this._initBufferDefaults(u),f=(u.model=o,u.indexBuffer);return o.faces.length?(f=f||(u.indexBuffer=c.createBuffer()),h=(i=(a=n.default.RendererGL.prototype._flatten(o.faces)).some(function(y){return 65535<y}))?Uint32Array:Uint16Array,this._bindBuffer(f,c.ELEMENT_ARRAY_BUFFER,a,h),u.indexBufferType=i?c.UNSIGNED_INT:c.UNSIGNED_SHORT,u.vertexCount=3*o.faces.length):(f&&(c.deleteBuffer(f),u.indexBuffer=null),u.vertexCount=o.vertices?o.vertices.length:0),u.lineVertexCount=o.lineVertices?o.lineVertices.length/3:0,u},n.default.RendererGL.prototype.drawBuffers=function(r){var o=this.GL,a=this.retainedMode.geometry[r];if(!this.geometryBuilder&&this._doFill&&0<this.retainedMode.geometry[r].vertexCount){this._useVertexColor=0<a.model.vertexColors.length;var i=this._getRetainedFillShader(),h=(this._setFillUniforms(i),!0),c=!1,u=void 0;try{for(var f,y=this.retainedMode.buffers.fill[Symbol.iterator]();!(h=(f=y.next()).done);h=!0)f.value._prepareBuffer(a,i)}catch(C){c=!0,u=C}finally{try{h||y.return==null||y.return()}finally{if(c)throw u}}i.disableRemainingAttributes(),a.indexBuffer&&this._bindBuffer(a.indexBuffer,o.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor,a.model.hasFillTransparency()),this._drawElements(o.TRIANGLES,r),i.unbindShader()}if(!this.geometryBuilder&&this._doStroke&&0<a.lineVertexCount){this._useLineColor=0<a.model.vertexStrokeColors.length;var x=this._getRetainedStrokeShader(),M=(this._setStrokeUniforms(x),!0),c=!1,u=void 0;try{for(var w,E=this.retainedMode.buffers.stroke[Symbol.iterator]();!(M=(w=E.next()).done);M=!0)w.value._prepareBuffer(a,x)}catch(k){c=!0,u=k}finally{try{M||E.return==null||E.return()}finally{if(c)throw u}}x.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,a.model.hasStrokeTransparency()),this._drawArrays(o.TRIANGLES,r),x.unbindShader()}return this.geometryBuilder&&this.geometryBuilder.addRetained(a),this},n.default.RendererGL.prototype.drawBuffersScaled=function(r,o,a,i){var h=this.uModelMatrix.copy();try{this.uModelMatrix.scale(o,a,i),this.drawBuffers(r)}finally{this.uModelMatrix=h}},n.default.RendererGL.prototype._drawArrays=function(r,o){return this.GL.drawArrays(r,0,this.retainedMode.geometry[o].lineVertexCount),this},n.default.RendererGL.prototype._drawElements=function(r,a){var a=this.retainedMode.geometry[a],i=this.GL;if(a.indexBuffer){if(this._pInst.webglVersion!==d.WEBGL2&&a.indexBufferType===i.UNSIGNED_INT&&!i.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");i.drawElements(i.TRIANGLES,a.vertexCount,a.indexBufferType,0)}else i.drawArrays(r||i.TRIANGLES,0,a.vertexCount)},n.default.RendererGL.prototype._drawPoints=function(r,o){var a=this.GL,i=this._getImmediatePointShader();this._setPointUniforms(i),this._bindBuffer(o,a.ARRAY_BUFFER,this._vToNArray(r),Float32Array,a.STATIC_DRAW),i.enableAttrib(i.attributes.aPosition,3),this._applyColorBlend(this.curStrokeColor),a.drawArrays(a.Points,0,r.length),i.unbindShader()};var p=n.default.RendererGL;b.default=p},{"../core/constants":272,"../core/main":283,"./p5.RenderBuffer":338,"./p5.RendererGL":341,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.some":170,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint16-array":240,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],341:[function(P,_,b){function s(z){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G})(z)}function l(z){return(l=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(G){return s(G)}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":s(G)})(z)}P("core-js/modules/es.symbol"),P("core-js/modules/es.symbol.description"),P("core-js/modules/es.symbol.iterator"),P("core-js/modules/es.array.concat"),P("core-js/modules/es.array.copy-within"),P("core-js/modules/es.array.every"),P("core-js/modules/es.array.fill"),P("core-js/modules/es.array.flat"),P("core-js/modules/es.array.flat-map"),P("core-js/modules/es.array.from"),P("core-js/modules/es.array.includes"),P("core-js/modules/es.array.iterator"),P("core-js/modules/es.array.map"),P("core-js/modules/es.array.slice"),P("core-js/modules/es.array.some"),P("core-js/modules/es.array.unscopables.flat"),P("core-js/modules/es.array.unscopables.flat-map"),P("core-js/modules/es.map"),P("core-js/modules/es.object.assign"),P("core-js/modules/es.object.get-own-property-descriptor"),P("core-js/modules/es.object.get-prototype-of"),P("core-js/modules/es.object.to-string"),P("core-js/modules/es.reflect.construct"),P("core-js/modules/es.reflect.get"),P("core-js/modules/es.regexp.to-string"),P("core-js/modules/es.set"),P("core-js/modules/es.string.includes"),P("core-js/modules/es.string.iterator"),P("core-js/modules/es.typed-array.float32-array"),P("core-js/modules/es.typed-array.float64-array"),P("core-js/modules/es.typed-array.int16-array"),P("core-js/modules/es.typed-array.uint8-array"),P("core-js/modules/es.typed-array.uint16-array"),P("core-js/modules/es.typed-array.uint32-array"),P("core-js/modules/es.typed-array.copy-within"),P("core-js/modules/es.typed-array.every"),P("core-js/modules/es.typed-array.fill"),P("core-js/modules/es.typed-array.filter"),P("core-js/modules/es.typed-array.find"),P("core-js/modules/es.typed-array.find-index"),P("core-js/modules/es.typed-array.for-each"),P("core-js/modules/es.typed-array.includes"),P("core-js/modules/es.typed-array.index-of"),P("core-js/modules/es.typed-array.iterator"),P("core-js/modules/es.typed-array.join"),P("core-js/modules/es.typed-array.last-index-of"),P("core-js/modules/es.typed-array.map"),P("core-js/modules/es.typed-array.reduce"),P("core-js/modules/es.typed-array.reduce-right"),P("core-js/modules/es.typed-array.reverse"),P("core-js/modules/es.typed-array.set"),P("core-js/modules/es.typed-array.slice"),P("core-js/modules/es.typed-array.some"),P("core-js/modules/es.typed-array.sort"),P("core-js/modules/es.typed-array.subarray"),P("core-js/modules/es.typed-array.to-locale-string"),P("core-js/modules/es.typed-array.to-string"),P("core-js/modules/es.weak-map"),P("core-js/modules/web.dom-collections.iterator"),P("core-js/modules/es.symbol"),P("core-js/modules/es.symbol.description"),P("core-js/modules/es.symbol.iterator"),P("core-js/modules/es.array.concat"),P("core-js/modules/es.array.copy-within"),P("core-js/modules/es.array.every"),P("core-js/modules/es.array.fill"),P("core-js/modules/es.array.flat"),P("core-js/modules/es.array.flat-map"),P("core-js/modules/es.array.from"),P("core-js/modules/es.array.includes"),P("core-js/modules/es.array.iterator"),P("core-js/modules/es.array.map"),P("core-js/modules/es.array.slice"),P("core-js/modules/es.array.some"),P("core-js/modules/es.array.unscopables.flat"),P("core-js/modules/es.array.unscopables.flat-map"),P("core-js/modules/es.map"),P("core-js/modules/es.object.assign"),P("core-js/modules/es.object.to-string"),P("core-js/modules/es.set"),P("core-js/modules/es.string.includes"),P("core-js/modules/es.string.iterator"),P("core-js/modules/es.typed-array.float32-array"),P("core-js/modules/es.typed-array.float64-array"),P("core-js/modules/es.typed-array.int16-array"),P("core-js/modules/es.typed-array.uint8-array"),P("core-js/modules/es.typed-array.uint16-array"),P("core-js/modules/es.typed-array.uint32-array"),P("core-js/modules/es.typed-array.copy-within"),P("core-js/modules/es.typed-array.every"),P("core-js/modules/es.typed-array.fill"),P("core-js/modules/es.typed-array.filter"),P("core-js/modules/es.typed-array.find"),P("core-js/modules/es.typed-array.find-index"),P("core-js/modules/es.typed-array.for-each"),P("core-js/modules/es.typed-array.includes"),P("core-js/modules/es.typed-array.index-of"),P("core-js/modules/es.typed-array.iterator"),P("core-js/modules/es.typed-array.join"),P("core-js/modules/es.typed-array.last-index-of"),P("core-js/modules/es.typed-array.map"),P("core-js/modules/es.typed-array.reduce"),P("core-js/modules/es.typed-array.reduce-right"),P("core-js/modules/es.typed-array.reverse"),P("core-js/modules/es.typed-array.set"),P("core-js/modules/es.typed-array.slice"),P("core-js/modules/es.typed-array.some"),P("core-js/modules/es.typed-array.sort"),P("core-js/modules/es.typed-array.subarray"),P("core-js/modules/es.typed-array.to-locale-string"),P("core-js/modules/es.typed-array.to-string"),P("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.readPixelsWebGL=V,b.readPixelWebGL=H,b.default=void 0;var n=a(P("../core/main")),d=function(z){if(z&&z.__esModule)return z;if(z===null||l(z)!=="object"&&typeof z!="function")return{default:z};var G=o();if(G&&G.has(z))return G.get(z);var Q,ie={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(Q in z){var D;Object.prototype.hasOwnProperty.call(z,Q)&&((D=T?Object.getOwnPropertyDescriptor(z,Q):null)&&(D.get||D.set)?Object.defineProperty(ie,Q,D):ie[Q]=z[Q])}return ie.default=z,G&&G.set(z,ie),ie}(P("../core/constants")),m=a(P("./GeometryBuilder")),p=a(P("libtess")),r=(P("./p5.Shader"),P("./p5.Camera"),P("../core/p5.Renderer"),P("./p5.Matrix"),P("./p5.Framebuffer"),P("path"),P("./p5.Texture"));function o(){var z;return typeof WeakMap!="function"?null:(z=new WeakMap,o=function(){return z},z)}function a(z){return z&&z.__esModule?z:{default:z}}function i(z){return function(G){if(Array.isArray(G)){for(var Q=0,ie=new Array(G.length);Q<G.length;Q++)ie[Q]=G[Q];return ie}}(z)||function(G){if(Symbol.iterator in Object(G)||Object.prototype.toString.call(G)==="[object Arguments]")return Array.from(G)}(z)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function h(z,G){for(var Q=0;Q<G.length;Q++){var ie=G[Q];ie.enumerable=ie.enumerable||!1,ie.configurable=!0,"value"in ie&&(ie.writable=!0),Object.defineProperty(z,ie.key,ie)}}function c(z,G,Q){return(c=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(U,T,D){var U=function(W,$){for(;!Object.prototype.hasOwnProperty.call(W,$)&&(W=x(W))!==null;);return W}(U,T);if(U)return(U=Object.getOwnPropertyDescriptor(U,T)).get?U.get.call(D):U.value})(z,G,Q||z)}function u(z,G){return(u=Object.setPrototypeOf||function(Q,ie){return Q.__proto__=ie,Q})(z,G)}function f(z){return function(){var G,Q,ie=x(z);return G=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(G=x(this).constructor,Reflect.construct(ie,arguments,G)):ie.apply(this,arguments),ie=this,!(Q=G)||l(Q)!=="object"&&typeof Q!="function"?y(ie):Q}}function y(z){if(z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z}function x(z){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(G){return G.__proto__||Object.getPrototypeOf(G)})(z)}function M(z,G,Q){G in z?Object.defineProperty(z,G,{value:Q,enumerable:!0,configurable:!0,writable:!0}):z[G]=Q}function w(z,G){R+="#define STROKE_CAP_".concat(z," ").concat(G,`
`),L[d[z]]=G}function E(z,G){R+="#define STROKE_JOIN_".concat(z," ").concat(G,`
`),k[d[z]]=G}var C,L={},k={},R="",P=(w("ROUND",0),w("PROJECT",1),w("SQUARE",2),E("ROUND",0),E("MITER",1),E("BEVEL",2),`#define PI 3.141592

precision highp float;
precision highp int;

uniform mat4 uViewMatrix;

uniform bool uUseLighting;

uniform int uAmbientLightCount;
uniform vec3 uAmbientColor[5];
uniform mat3 uCameraRotation;
uniform int uDirectionalLightCount;
uniform vec3 uLightingDirection[5];
uniform vec3 uDirectionalDiffuseColors[5];
uniform vec3 uDirectionalSpecularColors[5];

uniform int uPointLightCount;
uniform vec3 uPointLightLocation[5];
uniform vec3 uPointLightDiffuseColors[5];	
uniform vec3 uPointLightSpecularColors[5];

uniform int uSpotLightCount;
uniform float uSpotLightAngle[5];
uniform float uSpotLightConc[5];
uniform vec3 uSpotLightDiffuseColors[5];
uniform vec3 uSpotLightSpecularColors[5];
uniform vec3 uSpotLightLocation[5];
uniform vec3 uSpotLightDirection[5];

uniform bool uSpecular;
uniform float uShininess;
uniform float metallic;

uniform float uConstantAttenuation;
uniform float uLinearAttenuation;
uniform float uQuadraticAttenuation;

// setting from  _setImageLightUniforms()
// boolean to initiate the calculateImageDiffuse and calculateImageSpecular
uniform bool uUseImageLight;
// texture for use in calculateImageDiffuse
uniform sampler2D environmentMapDiffused;
// texture for use in calculateImageSpecular
uniform sampler2D environmentMapSpecular;
// roughness for use in calculateImageSpecular
uniform float levelOfDetail;

const float specularFactor = 2.0;
const float diffuseFactor = 0.73;

struct LightResult {
  float specular;
  float diffuse;
};

float _phongSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float shininess) {

  vec3 R = reflect(lightDirection, surfaceNormal);
  return pow(max(0.0, dot(R, viewDirection)), shininess);
}

float _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {
  return max(0.0, dot(-lightDirection, surfaceNormal));
}

LightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector) {

  vec3 lightDir = normalize(lightVector);

  //compute our diffuse & specular terms
  LightResult lr;
  float specularIntensity = mix(1.0, 0.4, metallic);
  float diffuseIntensity = mix(1.0, 0.1, metallic);
  if (uSpecular)
    lr.specular = (_phongSpecular(lightDir, viewDirection, normal, uShininess)) * specularIntensity;
    lr.diffuse = _lambertDiffuse(lightDir, normal) * diffuseIntensity;
  return lr;
}

// converts the range of "value" from [min1 to max1] to [min2 to max2]
float map(float value, float min1, float max1, float min2, float max2) {
  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);
}

vec2 mapTextureToNormal( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( fract(theta + 0.25), 1.0 - phi );
  return angles;
}


vec3 calculateImageDiffuse( vec3 vNormal, vec3 vViewPosition ){
  // make 2 seperate builds 
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);  // hardcoded world camera position
  vec3 worldNormal = normalize(vNormal * uCameraRotation);
  vec2 newTexCoor = mapTextureToNormal( worldNormal );
  vec4 texture = TEXTURE( environmentMapDiffused, newTexCoor );
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return mix(smoothstep(vec3(0.0), vec3(1.0), texture.xyz), vec3(0.0), metallic);
}

vec3 calculateImageSpecular( vec3 vNormal, vec3 vViewPosition ){
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);
  vec3 worldNormal = normalize(vNormal);
  vec3 lightDirection = normalize( vViewPosition - worldCameraPosition );
  vec3 R = reflect(lightDirection, worldNormal) * uCameraRotation;
  vec2 newTexCoor = mapTextureToNormal( R );
#ifdef WEBGL2
  vec4 outColor = textureLod(environmentMapSpecular, newTexCoor, levelOfDetail);
#else
  vec4 outColor = TEXTURE(environmentMapSpecular, newTexCoor);
#endif
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return mix(
    pow(outColor.xyz, vec3(10)),
    pow(outColor.xyz, vec3(1.2)),
    metallic 
  );
}

void totalLight(
  vec3 modelPosition,
  vec3 normal,
  out vec3 totalDiffuse,
  out vec3 totalSpecular
) {

  totalSpecular = vec3(0.0);

  if (!uUseLighting) {
    totalDiffuse = vec3(1.0);
    return;
  }

  totalDiffuse = vec3(0.0);

  vec3 viewDirection = normalize(-modelPosition);

  for (int j = 0; j < 5; j++) {
    if (j < uDirectionalLightCount) {
      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;
      vec3 lightColor = uDirectionalDiffuseColors[j];
      vec3 specularColor = uDirectionalSpecularColors[j];
      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if (j < uPointLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
      //calculate attenuation
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);
      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];
      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];

      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if(j < uSpotLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);

      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;
      float spotDot = dot(normalize(lightVector), normalize(lightDirection));
      float spotFalloff;
      if(spotDot < uSpotLightAngle[j]) {
        spotFalloff = 0.0;
      }
      else {
        spotFalloff = pow(spotDot, uSpotLightConc[j]);
      }
      lightFalloff *= spotFalloff;

      vec3 lightColor = uSpotLightDiffuseColors[j];
      vec3 specularColor = uSpotLightSpecularColors[j];
     
      LightResult result = _light(viewDirection, normal, lightVector);
      
      totalDiffuse += result.diffuse * lightColor * lightFalloff;
      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;
    }
  }

  if( uUseImageLight ){
    totalDiffuse += calculateImageDiffuse(normal, modelPosition);
    totalSpecular += calculateImageSpecular(normal, modelPosition);
  }

  totalDiffuse *= diffuseFactor;
  totalSpecular *= specularFactor;
}
`),F={sphereMappingFrag:`#define PI 3.141592

precision highp float;
  
uniform sampler2D uSampler;
uniform mat3 uNewNormalMatrix;
uniform float uFovY;
uniform float uAspect;

varying vec2 vTexCoord;
  
void main() {
    float uFovX = uFovY * uAspect; 
    vec4 newTexColor = texture2D(uSampler, vTexCoord);
    float angleY = mix(uFovY/2.0,  -uFovY/2.0, vTexCoord.y);
    float angleX = mix(uFovX/2.0, -uFovX/2.0, vTexCoord.x);
    vec3 rotatedNormal = vec3( angleX, angleY, 1.0 );
    rotatedNormal = uNewNormalMatrix * normalize(rotatedNormal);
    vec2 suv;
    suv.y = 0.5 + 0.5 * (-rotatedNormal.y);
    suv.x = atan(rotatedNormal.z, rotatedNormal.x) / (2.0 * PI) + 0.5;
    newTexColor = texture2D(uSampler, suv.xy);
    gl_FragColor = newTexColor;
}
`,immediateVert:`IN vec3 aPosition;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uResolution;
uniform float uPointSize;

OUT vec4 vColor;
void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
  gl_PointSize = uPointSize;
}
`,vertexColorVert:`IN vec3 aPosition;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

OUT vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
}
`,vertexColorFrag:`IN vec4 vColor;
void main(void) {
  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;
}
`,normalVert:`IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform vec4 uMaterialColor;
uniform bool uUseVertexColor;

OUT vec3 vVertexNormal;
OUT highp vec2 vVertTexCoord;
OUT vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));
  vVertTexCoord = aTexCoord;
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,normalFrag:`IN vec3 vVertexNormal;
void main(void) {
  OUT_COLOR = vec4(vVertexNormal, 1.0);
}
`,basicFrag:`IN vec4 vColor;
void main(void) {
  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;
}
`,lightVert:P+`// include lighting.glgl

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT highp vec2 vVertTexCoord;
OUT vec3 vDiffuseColor;
OUT vec3 vSpecularColor;
OUT vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;

  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);
  vVertTexCoord = aTexCoord;

  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);

  for (int i = 0; i < 8; i++) {
    if (i < uAmbientLightCount) {
      vDiffuseColor += uAmbientColor[i];
    }
  }
  
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,lightTextureFrag:`uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;
uniform bool uEmissive;

IN highp vec2 vVertTexCoord;
IN vec3 vDiffuseColor;
IN vec3 vSpecularColor;
IN vec4 vColor;

void main(void) {
  if(uEmissive && !isTexture) {
    OUT_COLOR = vColor;
  }
  else {
    vec4 baseColor = isTexture
      // Textures come in with premultiplied alpha. To apply tint and still have
      // premultiplied alpha output, we need to multiply the RGB channels by the
      // tint RGB, and all channels by the tint alpha.
      ? TEXTURE(uSampler, vVertTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
      // Colors come in with unmultiplied alpha, so we need to multiply the RGB
      // channels by alpha to convert it to premultiplied alpha.
      : vec4(vColor.rgb * vColor.a, vColor.a);
    OUT_COLOR = vec4(baseColor.rgb * vDiffuseColor + vSpecularColor, baseColor.a);
  }
}
`,phongVert:`precision highp int;

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform vec3 uAmbientColor[5];

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;
uniform int uAmbientLightCount;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT vec3 vNormal;
OUT vec2 vTexCoord;
OUT vec3 vViewPosition;
OUT vec3 vAmbientColor;
OUT vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);

  // Pass varyings to fragment shader
  vViewPosition = viewModelPosition.xyz;
  gl_Position = uProjectionMatrix * viewModelPosition;  

  vNormal = uNormalMatrix * aNormal;
  vTexCoord = aTexCoord;

  // TODO: this should be a uniform
  vAmbientColor = vec3(0.0);
  for (int i = 0; i < 5; i++) {
    if (i < uAmbientLightCount) {
      vAmbientColor += uAmbientColor[i];
    }
  }
  
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,phongFrag:P+`// include lighting.glsl
precision highp int;

uniform bool uHasSetAmbient;
uniform vec4 uSpecularMatColor;
uniform vec4 uAmbientMatColor;
uniform vec4 uEmissiveMatColor;

uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;

IN vec3 vNormal;
IN vec2 vTexCoord;
IN vec3 vViewPosition;
IN vec3 vAmbientColor;
IN vec4 vColor;

void main(void) {

  vec3 diffuse;
  vec3 specular;
  totalLight(vViewPosition, normalize(vNormal), diffuse, specular);

  // Calculating final color as result of all lights (plus emissive term).

  vec4 baseColor = isTexture
    // Textures come in with premultiplied alpha. To apply tint and still have
    // premultiplied alpha output, we need to multiply the RGB channels by the
    // tint RGB, and all channels by the tint alpha.
    ? TEXTURE(uSampler, vTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
    // Colors come in with unmultiplied alpha, so we need to multiply the RGB
    // channels by alpha to convert it to premultiplied alpha.
    : vec4(vColor.rgb * vColor.a, vColor.a);
  OUT_COLOR = vec4(diffuse * baseColor.rgb + 
                    vAmbientColor * (
                      uHasSetAmbient ? uAmbientMatColor.rgb : baseColor.rgb
                    ) + 
                    specular * uSpecularMatColor.rgb + 
                    uEmissiveMatColor.rgb, baseColor.a);
}
`,fontVert:`IN vec3 aPosition;
IN vec2 aTexCoord;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

uniform vec4 uGlyphRect;
uniform float uGlyphOffset;

OUT vec2 vTexCoord;
OUT float w;

void main() {
  vec4 positionVec4 = vec4(aPosition, 1.0);

  // scale by the size of the glyph's rectangle
  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;

  // Expand glyph bounding boxes by 1px on each side to give a bit of room
  // for antialiasing
  vec3 newOrigin = (uModelViewMatrix * vec4(0., 0., 0., 1.)).xyz;
  vec3 newDX = (uModelViewMatrix * vec4(1., 0., 0., 1.)).xyz;
  vec3 newDY = (uModelViewMatrix * vec4(0., 1., 0., 1.)).xyz;
  vec2 pixelScale = vec2(
    1. / length(newOrigin - newDX),
    1. / length(newOrigin - newDY)
  );
  vec2 offset = pixelScale * normalize(aTexCoord - vec2(0.5, 0.5)) * vec2(1., -1.);
  vec2 textureOffset = offset * (1. / vec2(
    uGlyphRect.z - uGlyphRect.x,
    uGlyphRect.w - uGlyphRect.y
  ));

  // move to the corner of the glyph
  positionVec4.xy += uGlyphRect.xy;

  // move to the letter's line offset
  positionVec4.x += uGlyphOffset;

  positionVec4.xy += offset;
  
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vTexCoord = aTexCoord + textureOffset;
  w = gl_Position.w;
}
`,fontFrag:`#ifndef WEBGL2
#extension GL_OES_standard_derivatives : enable
#endif

#if 0
  // simulate integer math using floats
	#define int float
	#define ivec2 vec2
	#define INT(x) float(x)

	int ifloor(float v) { return floor(v); }
	ivec2 ifloor(vec2 v) { return floor(v); }

#else
  // use native integer math
	precision highp int;
	#define INT(x) x

	int ifloor(float v) { return int(v); }
	int ifloor(int v) { return v; }
	ivec2 ifloor(vec2 v) { return ivec2(v); }

#endif

uniform sampler2D uSamplerStrokes;
uniform sampler2D uSamplerRowStrokes;
uniform sampler2D uSamplerRows;
uniform sampler2D uSamplerColStrokes;
uniform sampler2D uSamplerCols;

uniform ivec2 uStrokeImageSize;
uniform ivec2 uCellsImageSize;
uniform ivec2 uGridImageSize;

uniform ivec2 uGridOffset;
uniform ivec2 uGridSize;
uniform vec4 uMaterialColor;

IN vec2 vTexCoord;

// some helper functions
int ROUND(float v) { return ifloor(v + 0.5); }
ivec2 ROUND(vec2 v) { return ifloor(v + 0.5); }
float saturate(float v) { return clamp(v, 0.0, 1.0); }
vec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }

int mul(float v1, int v2) {
  return ifloor(v1 * float(v2));
}

ivec2 mul(vec2 v1, ivec2 v2) {
  return ifloor(v1 * vec2(v2) + 0.5);
}

// unpack a 16-bit integer from a float vec2
int getInt16(vec2 v) {
  ivec2 iv = ROUND(v * 255.0);
  return iv.x * INT(128) + iv.y;
}

vec2 pixelScale;
vec2 coverage = vec2(0.0);
vec2 weight = vec2(0.5);
const float minDistance = 1.0/8192.0;
const float hardness = 1.05; // amount of antialias

// the maximum number of curves in a glyph
const int N = INT(250);

// retrieves an indexed pixel from a sampler
vec4 getTexel(sampler2D sampler, int pos, ivec2 size) {
  int width = size.x;
  int y = ifloor(pos / width);
  int x = pos - y * width;  // pos % width

  return TEXTURE(sampler, (vec2(x, y) + 0.5) / vec2(size));
}

void calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {

  // get the coefficients of the quadratic in t
  vec2 a = p0 - p1 * 2.0 + p2;
  vec2 b = p0 - p1;
  vec2 c = p0 - vTexCoord;

  // found out which values of 't' it crosses the axes
  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));
  vec2 t1 = ((b - surd) / a).yx;
  vec2 t2 = ((b + surd) / a).yx;

  // approximate straight lines to avoid rounding errors
  if (abs(a.y) < 0.001)
    t1.x = t2.x = c.y / (2.0 * b.y);

  if (abs(a.x) < 0.001)
    t1.y = t2.y = c.x / (2.0 * b.x);

  // plug into quadratic formula to find the corrdinates of the crossings
  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;
  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;
}

void coverageX(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  // determine on which side of the x-axis the points lie
  bool y0 = p0.y > vTexCoord.y;
  bool y1 = p1.y > vTexCoord.y;
  bool y2 = p2.y > vTexCoord.y;

  // could web be under the curve (after t1)?
  if (y1 ? !y2 : y0) {
    // add the coverage for t1
    coverage.x += saturate(C1.x + 0.5);
    // calculate the anti-aliasing for t1
    weight.x = min(weight.x, abs(C1.x));
  }

  // are we outside the curve (after t2)?
  if (y1 ? !y0 : y2) {
    // subtract the coverage for t2
    coverage.x -= saturate(C2.x + 0.5);
    // calculate the anti-aliasing for t2
    weight.x = min(weight.x, abs(C2.x));
  }
}

// this is essentially the same as coverageX, but with the axes swapped
void coverageY(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  bool x0 = p0.x > vTexCoord.x;
  bool x1 = p1.x > vTexCoord.x;
  bool x2 = p2.x > vTexCoord.x;

  if (x1 ? !x2 : x0) {
    coverage.y -= saturate(C1.y + 0.5);
    weight.y = min(weight.y, abs(C1.y));
  }

  if (x1 ? !x0 : x2) {
    coverage.y += saturate(C2.y + 0.5);
    weight.y = min(weight.y, abs(C2.y));
  }
}

void main() {

  // calculate the pixel scale based on screen-coordinates
  pixelScale = hardness / fwidth(vTexCoord);

  // which grid cell is this pixel in?
  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));

  // intersect curves in this row
  {
    // the index into the row info bitmap
    int rowIndex = gridCoord.y + uGridOffset.y;
    // fetch the info texel
    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);
    // unpack the rowInfo
    int rowStrokeIndex = getInt16(rowInfo.xy);
    int rowStrokeCount = getInt16(rowInfo.zw);

    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {
      if (iRowStroke >= rowStrokeCount)
        break;

      // each stroke is made up of 3 points: the start and control point
      // and the start of the next curve.
      // fetch the indices of this pair of strokes:
      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);

      // unpack the stroke index
      int strokePos = getInt16(strokeIndices.xy);

      // fetch the two strokes
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);

      // calculate the coverage
      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  // intersect curves in this column
  {
    int colIndex = gridCoord.x + uGridOffset.x;
    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);
    int colStrokeIndex = getInt16(colInfo.xy);
    int colStrokeCount = getInt16(colInfo.zw);
    
    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {
      if (iColStroke >= colStrokeCount)
        break;

      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);

      int strokePos = getInt16(strokeIndices.xy);
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);
      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  weight = saturate(1.0 - weight * 2.0);
  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.
  float antialias = abs(dot(coverage, weight) / distance);
  float cover = min(abs(coverage.x), abs(coverage.y));
  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
  OUT_COLOR *= saturate(max(antialias, cover));
}
`,lineVert:R+`/*
  Part of the Processing project - http://processing.org
  Copyright (c) 2012-15 The Processing Foundation
  Copyright (c) 2004-12 Ben Fry and Casey Reas
  Copyright (c) 2001-04 Massachusetts Institute of Technology
  This library is free software; you can redistribute it and/or
  modify it under the terms of the GNU Lesser General Public
  License as published by the Free Software Foundation, version 2.1.
  This library is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  Lesser General Public License for more details.
  You should have received a copy of the GNU Lesser General
  Public License along with this library; if not, write to the
  Free Software Foundation, Inc., 59 Temple Place, Suite 330,
  Boston, MA  02111-1307  USA
*/

#define PROCESSING_LINE_SHADER

precision mediump int;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uStrokeWeight;

uniform bool uUseLineColor;
uniform vec4 uMaterialColor;

uniform vec4 uViewport;
uniform int uPerspective;
uniform int uStrokeJoin;

IN vec4 aPosition;
IN vec3 aTangentIn;
IN vec3 aTangentOut;
IN float aSide;
IN vec4 aVertexColor;

OUT vec4 vColor;
OUT vec2 vTangent;
OUT vec2 vCenter;
OUT vec2 vPosition;
OUT float vMaxDist;
OUT float vCap;
OUT float vJoin;

vec2 lineIntersection(vec2 aPoint, vec2 aDir, vec2 bPoint, vec2 bDir) {
  // Rotate and translate so a starts at the origin and goes out to the right
  bPoint -= aPoint;
  vec2 rotatedBFrom = vec2(
    bPoint.x*aDir.x + bPoint.y*aDir.y,
    bPoint.y*aDir.x - bPoint.x*aDir.y
  );
  vec2 bTo = bPoint + bDir;
  vec2 rotatedBTo = vec2(
    bTo.x*aDir.x + bTo.y*aDir.y,
    bTo.y*aDir.x - bTo.x*aDir.y
  );
  float intersectionDistance =
    rotatedBTo.x + (rotatedBFrom.x - rotatedBTo.x) * rotatedBTo.y /
    (rotatedBTo.y - rotatedBFrom.y);
  return aPoint + aDir * intersectionDistance;
}

void main() {
  // Caps have one of either the in or out tangent set to 0
  vCap = (aTangentIn == vec3(0.)) != (aTangentOut == (vec3(0.)))
    ? 1. : 0.;

  // Joins have two unique, defined tangents
  vJoin = (
    aTangentIn != vec3(0.) &&
    aTangentOut != vec3(0.) &&
    aTangentIn != aTangentOut
  ) ? 1. : 0.;

  vec4 posp = uModelViewMatrix * aPosition;
  vec4 posqIn = uModelViewMatrix * (aPosition + vec4(aTangentIn, 0));
  vec4 posqOut = uModelViewMatrix * (aPosition + vec4(aTangentOut, 0));

  float facingCamera = pow(
    // The word space tangent's z value is 0 if it's facing the camera
    abs(normalize(posqIn-posp).z),

    // Using pow() here to ramp \`facingCamera\` up from 0 to 1 really quickly
    // so most lines get scaled and don't get clipped
    0.25
  );

  // Moving vertices slightly toward the camera
  // to avoid depth-fighting with the fill triangles.
  // This prevents popping effects due to half of
  // the line disappearing behind the geometry faces.
  
  float zOffset = mix(-0.00045, -1., facingCamera);
  posp.z -= zOffset;
  posqIn.z -= zOffset;
  posqOut.z -= zOffset;
  
  vec4 p = uProjectionMatrix * posp;
  vec4 qIn = uProjectionMatrix * posqIn;
  vec4 qOut = uProjectionMatrix * posqOut;
  vCenter = p.xy;

  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])
  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw

  // prevent division by W by transforming the tangent formula (div by 0 causes
  // the line to disappear, see https://github.com/processing/processing/issues/5183)
  // t = screen_q - screen_p
  //
  // tangent is normalized and we don't care which aDirection it points to (+-)
  // t = +- normalize( screen_q - screen_p )
  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )
  //
  // extract common factor, <1,1> - <1,1> cancels out
  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )
  //
  // convert to common divisor
  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )
  //
  // remove the common scalar divisor/factor, not needed due to normalize and +-
  // (keep uViewport - can't remove because it has different components for x and y
  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)
  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )

  vec2 tangentIn = normalize((qIn.xy*p.w - p.xy*qIn.w) * uViewport.zw);
  vec2 tangentOut = normalize((qOut.xy*p.w - p.xy*qOut.w) * uViewport.zw);

  vec2 curPerspScale;
  if(uPerspective == 1) {
    // Perspective ---
    // convert from world to clip by multiplying with projection scaling factor
    // to get the right thickness (see https://github.com/processing/processing/issues/5182)

    // The y value of the projection matrix may be flipped if rendering to a Framebuffer.
    // Multiplying again by its sign here negates the flip to get just the scale.
    curPerspScale = (uProjectionMatrix * vec4(1, sign(uProjectionMatrix[1][1]), 0, 0)).xy;
  } else {
    // No Perspective ---
    // multiply by W (to cancel out division by W later in the pipeline) and
    // convert from screen to clip (derived from clip to screen above)
    curPerspScale = p.w / (0.5 * uViewport.zw);
  }

  vec2 offset;
  if (vJoin == 1.) {
    vTangent = normalize(tangentIn + tangentOut);
    vec2 normalIn = vec2(-tangentIn.y, tangentIn.x);
    vec2 normalOut = vec2(-tangentOut.y, tangentOut.x);
    float side = sign(aSide);
    float sideEnum = abs(aSide);

    // We generate vertices for joins on either side of the centerline, but
    // the "elbow" side is the only one needing a join. By not setting the
    // offset for the other side, all its vertices will end up in the same
    // spot and not render, effectively discarding it.
    if (sign(dot(tangentOut, vec2(-tangentIn.y, tangentIn.x))) != side) {
      // Side enums:
      //   1: the side going into the join
      //   2: the middle of the join
      //   3: the side going out of the join
      if (sideEnum == 2.) {
        // Calculate the position + tangent on either side of the join, and
        // find where the lines intersect to find the elbow of the join
        vec2 c = (posp.xy/posp.w + vec2(1.,1.)) * 0.5 * uViewport.zw;
        vec2 intersection = lineIntersection(
          c + (side * normalIn * uStrokeWeight / 2.),
          tangentIn,
          c + (side * normalOut * uStrokeWeight / 2.),
          tangentOut
        );
        offset = (intersection - c);

        // When lines are thick and the angle of the join approaches 180, the
        // elbow might be really far from the center. We'll apply a limit to
        // the magnitude to avoid lines going across the whole screen when this
        // happens.
        float mag = length(offset);
        float maxMag = 3. * uStrokeWeight;
        if (mag > maxMag) {
          offset *= maxMag / mag;
        }
      } else if (sideEnum == 1.) {
        offset = side * normalIn * uStrokeWeight / 2.;
      } else if (sideEnum == 3.) {
        offset = side * normalOut * uStrokeWeight / 2.;
      }
    }
    if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 avgNormal = vec2(-vTangent.y, vTangent.x);
      vMaxDist = abs(dot(avgNormal, normalIn * uStrokeWeight / 2.));
    } else {
      vMaxDist = uStrokeWeight / 2.;
    }
  } else {
    vec2 tangent = aTangentIn == vec3(0.) ? tangentOut : tangentIn;
    vTangent = tangent;
    vec2 normal = vec2(-tangent.y, tangent.x);

    float normalOffset = sign(aSide);
    // Caps will have side values of -2 or 2 on the edge of the cap that
    // extends out from the line
    float tangentOffset = abs(aSide) - 1.;
    offset = (normal * normalOffset + tangent * tangentOffset) *
      uStrokeWeight * 0.5;
    vMaxDist = uStrokeWeight / 2.;
  }
  vPosition = vCenter + offset;

  gl_Position.xy = p.xy + offset.xy * curPerspScale;
  gl_Position.zw = p.zw;
  
  vColor = (uUseLineColor ? aVertexColor : uMaterialColor);
}
`,lineFrag:R+`precision mediump int;

uniform vec4 uMaterialColor;
uniform int uStrokeCap;
uniform int uStrokeJoin;
uniform float uStrokeWeight;

IN vec4 vColor;
IN vec2 vTangent;
IN vec2 vCenter;
IN vec2 vPosition;
IN float vMaxDist;
IN float vCap;
IN float vJoin;

float distSquared(vec2 a, vec2 b) {
  vec2 aToB = b - a;
  return dot(aToB, aToB);
}

void main() {
  if (vCap > 0.) {
    if (
      uStrokeCap == STROKE_CAP_ROUND &&
      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25
    ) {
      discard;
    } else if (
      uStrokeCap == STROKE_CAP_SQUARE &&
      dot(vPosition - vCenter, vTangent) > 0.
    ) {
      discard;
    }
    // Use full area for PROJECT
  } else if (vJoin > 0.) {
    if (
      uStrokeJoin == STROKE_JOIN_ROUND &&
      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25
    ) {
      discard;
    } else if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 normal = vec2(-vTangent.y, vTangent.x);
      if (abs(dot(vPosition - vCenter, normal)) > vMaxDist) {
        discard;
      }
    }
    // Use full area for MITER
  }
  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;
}
`,pointVert:`IN vec3 aPosition;
uniform float uPointSize;
OUT float vStrokeWeight;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
void main() {
	vec4 positionVec4 =  vec4(aPosition, 1.0);
	gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
	gl_PointSize = uPointSize;
	vStrokeWeight = uPointSize;
}
`,pointFrag:`precision mediump int;
uniform vec4 uMaterialColor;
IN float vStrokeWeight;

void main(){
  float mask = 0.0;

  // make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)
  // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant

  mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));

  // if strokeWeight is 1 or less lets just draw a square
  // this prevents weird artifacting from carving circles when our points are really small
  // if strokeWeight is larger than 1, we just use it as is

  mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));

  // throw away the borders of the mask
  // otherwise we get weird alpha blending issues

  if(mask > 0.98){
    discard;
  }

  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
}
`,imageLightVert:`precision highp float;
attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

varying vec3 localPos;
varying vec3 vWorldNormal;
varying vec3 vWorldPosition;
varying vec2 vTexCoord;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

void main() {
  // Multiply the position by the matrix.
  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;  
  
  // orient the normals and pass to the fragment shader
  vWorldNormal = uNormalMatrix * aNormal;
  
  // send the view position to the fragment shader
  vWorldPosition = (uModelViewMatrix * vec4(aPosition, 1.0)).xyz;
  
  localPos = vWorldPosition;
  vTexCoord = aTexCoord;
}


/*
in the vertex shader we'll compute the world position and world oriented normal of the vertices and pass those to the fragment shader as varyings.
*/
`,imageLightDiffusedFrag:`precision highp float;
varying vec3 localPos;

// the HDR cubemap converted (can be from an equirectangular environment map.)
uniform sampler2D environmentMap;
varying vec2 vTexCoord;

const float PI = 3.14159265359;

vec2 nTOE( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( phi, theta );
  return angles;
}

float random(vec2 p) {
  vec3 p3  = fract(vec3(p.xyx) * .1031);
  p3 += dot(p3, p3.yzx + 33.33);
  return fract((p3.x + p3.y) * p3.z);
}

void main()
{   	 
	// the sample direction equals the hemisphere's orientation
  float phi = vTexCoord.x * 2.0 * PI;
  float theta = vTexCoord.y * PI;
  float x = sin(theta) * cos(phi);
  float y = sin(theta) * sin(phi);
  float z = cos(theta);
  vec3 normal = vec3( x, y, z);

	// Discretely sampling the hemisphere given the integral's
  // spherical coordinates translates to the following fragment code:
	vec3 irradiance = vec3(0.0);  
	vec3 up	= vec3(0.0, 1.0, 0.0);
	vec3 right = normalize(cross(up, normal));
	up = normalize(cross(normal, right));

	//  We specify a fixed sampleDelta delta value to traverse
  // the hemisphere; decreasing or increasing the sample delta
  // will increase or decrease the accuracy respectively.
	const float sampleDelta = 0.100;
	float nrSamples = 0.0;
  float randomOffset = random(gl_FragCoord.xy) * sampleDelta;
	for(float rawPhi = 0.0; rawPhi < 2.0 * PI; rawPhi += sampleDelta)
	{
    float phi = rawPhi + randomOffset;
    for(float rawTheta = 0.0; rawTheta < ( 0.5 ) * PI; rawTheta += sampleDelta)
    {
      float theta = rawTheta + randomOffset;
      // spherical to cartesian (in tangent space) // tangent space to world // add each sample result to irradiance
      float x = sin(theta) * cos(phi);
      float y = sin(theta) * sin(phi);
      float z = cos(theta);
      vec3 tangentSample = vec3( x, y, z);
      
      vec3 sampleVec = tangentSample.x * right + tangentSample.y * up + tangentSample.z * normal;
        irradiance += (texture2D(environmentMap, nTOE(sampleVec)).xyz) * cos(theta) * sin(theta);
      nrSamples++;
    }
	}
	// divide by the total number of samples taken, giving us the average sampled irradiance.
	irradiance = PI * irradiance * (1.0 / float(nrSamples )) ;
  
 
	gl_FragColor = vec4(irradiance, 1.0);
}`,imageLightSpecularFrag:`precision highp float;\r
varying vec3 localPos;\r
varying vec2 vTexCoord;\r
\r
// our texture\r
uniform sampler2D environmentMap;\r
uniform float roughness;\r
\r
const float PI = 3.14159265359;\r
\r
float VanDerCorput(int bits);\r
vec2 HammersleyNoBitOps(int i, int N);\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness);\r
\r
\r
vec2 nTOE( vec3 v ){\r
  // x = r sin(phi) cos(theta)   \r
  // y = r cos(phi)  \r
  // z = r sin(phi) sin(theta)\r
  float phi = acos( v.y );\r
  // if phi is 0, then there are no x, z components\r
  float theta = 0.0;\r
  // else \r
  theta = acos(v.x / sin(phi));\r
  float sinTheta = v.z / sin(phi);\r
  if (sinTheta < 0.0) {\r
    // Turn it into -theta, but in the 0-2PI range\r
    theta = 2.0 * PI - theta;\r
  }\r
  theta = theta / (2.0 * 3.14159);\r
  phi = phi / 3.14159 ;\r
  \r
  vec2 angles = vec2( phi, theta );\r
  return angles;\r
}\r
\r
\r
void main(){\r
  const int SAMPLE_COUNT = 400; // 4096\r
  int lowRoughnessLimit = int(pow(2.0,(roughness+0.1)*20.0));\r
  float totalWeight = 0.0;\r
  vec3 prefilteredColor = vec3(0.0);\r
  float phi = vTexCoord.x * 2.0 * PI;\r
  float theta = vTexCoord.y * PI;\r
  float x = sin(theta) * cos(phi);\r
  float y = sin(theta) * sin(phi);\r
  float z = cos(theta);\r
  vec3 N = vec3(x,y,z);\r
  vec3 V = N;\r
  for (int i = 0; i < SAMPLE_COUNT; ++i)\r
  {\r
    // break at smaller sample numbers for low roughness levels\r
    if(i == lowRoughnessLimit)\r
    {\r
      break;\r
    }\r
    vec2 Xi = HammersleyNoBitOps(i, SAMPLE_COUNT);\r
    vec3 H = ImportanceSampleGGX(Xi, N, roughness);\r
    vec3 L = normalize(2.0 * dot(V, H) * H - V);\r
\r
    float NdotL = max(dot(N, L), 0.0);\r
    if (NdotL > 0.0)\r
    {\r
      prefilteredColor += texture2D(environmentMap, nTOE(L)).xyz * NdotL;\r
      totalWeight += NdotL;\r
    }\r
  }\r
  prefilteredColor = prefilteredColor / totalWeight;\r
\r
  gl_FragColor = vec4(prefilteredColor, 1.0);\r
}\r
\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness){\r
  float a = roughness * roughness;\r
\r
  float phi = 2.0 * PI * Xi.x;\r
  float cosTheta = sqrt((1.0 - Xi.y) / (1.0 + (a * a - 1.0) * Xi.y));\r
  float sinTheta = sqrt(1.0 - cosTheta * cosTheta);\r
  // from spherical coordinates to cartesian coordinates\r
  vec3 H;\r
  H.x = cos(phi) * sinTheta;\r
  H.y = sin(phi) * sinTheta;\r
  H.z = cosTheta;\r
\r
  // from tangent-space vector to world-space sample vector\r
  vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);\r
  vec3 tangent = normalize(cross(up, N));\r
  vec3 bitangent = cross(N, tangent);\r
\r
  vec3 sampleVec = tangent * H.x + bitangent * H.y + N * H.z;\r
  return normalize(sampleVec);\r
}\r
\r
\r
float VanDerCorput(int n, int base)\r
{\r
#ifdef WEBGL2\r
\r
    uint bits = uint(n);\r
    bits = (bits << 16u) | (bits >> 16u);\r
    bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);\r
    bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);\r
    bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);\r
    bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);\r
    return float(bits) * 2.3283064365386963e-10; // / 0x100000000\r
\r
#else\r
\r
  float invBase = 1.0 / float(base);\r
  float denom = 1.0;\r
  float result = 0.0;\r
\r
\r
  for (int i = 0; i < 32; ++i)\r
  {\r
        if (n > 0)\r
        {\r
        denom = mod(float(n), 2.0);\r
        result += denom * invBase;\r
        invBase = invBase / 2.0;\r
        n = int(float(n) / 2.0);\r
        }\r
  }\r
\r
\r
  return result;\r
\r
#endif\r
}\r
\r
vec2 HammersleyNoBitOps(int i, int N)\r
{\r
  return vec2(float(i) / float(N), VanDerCorput(i, 2));\r
}\r
`},I=F.sphereMappingFrag;for(C in F)F[C]=`#ifdef WEBGL2

#define IN in
#define OUT out

#ifdef FRAGMENT_SHADER
out vec4 outColor;
#define OUT_COLOR outColor
#endif
#define TEXTURE texture

#else

#ifdef FRAGMENT_SHADER
#define IN varying
#else
#define IN attribute
#endif
#define OUT varying
#define TEXTURE texture2D

#ifdef FRAGMENT_SHADER
#define OUT_COLOR gl_FragColor
#endif

#endif
`+F[C];M(P={},d.GRAY,`precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 tex = texture2D(tex0, vTexCoord);
  float gray = luma(tex.rgb);
  gl_FragColor = vec4(gray, gray, gray, tex.a);
}
`),M(P,d.ERODE,`// Reduces the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the darkest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum < lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`),M(P,d.DILATE,`// Increase the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the brightest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum > lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`),M(P,d.BLUR,`precision highp float;

// Two-pass blur filter, unweighted kernel.
// See also a similar blur at Adam Ferriss' repo of shader examples:
// https://github.com/aferriss/p5jsShaderExamples/blob/gh-pages/4_image-effects/4-9_single-pass-blur/effect.frag


uniform sampler2D tex0;
varying vec2 vTexCoord;
uniform vec2 direction;
uniform vec2 canvasSize;
uniform float radius;

float random(vec2 p) {
  vec3 p3  = fract(vec3(p.xyx) * .1031);
  p3 += dot(p3, p3.yzx + 33.33);
  return fract((p3.x + p3.y) * p3.z);
}

// This isn't a real Gaussian weight, it's a quadratic weight. It's what the
// CPU mode's blur uses though, so we also use it here to match.
float quadWeight(float x, float e) {
  return pow(e-abs(x), 2.);
}

void main(){
  vec2 uv = vTexCoord;

  // A reasonable maximum number of samples
  const float maxSamples = 64.0;

  float numSamples = floor(7. * radius);
  if (fract(numSamples / 2.) == 0.) {
    numSamples++;
  }
  vec4 avg = vec4(0.0);
  float total = 0.0;

  // Calculate the spacing to avoid skewing if numSamples > maxSamples
  float spacing = 1.0;
  if (numSamples > maxSamples) {
    spacing = numSamples / maxSamples;
    numSamples = maxSamples;
  }

  float randomOffset = (spacing - 1.0) * mix(-0.5, 0.5, random(gl_FragCoord.xy));
  for (float i = 0.0; i < maxSamples; i++) {
    if (i >= numSamples) break;

    float sample = i * spacing - (numSamples - 1.0) * 0.5 * spacing + randomOffset;
    vec2 sampleCoord = uv + vec2(sample, sample) / canvasSize * direction;
    float weight = quadWeight(sample, (numSamples - 1.0) * 0.5 * spacing);

    avg += weight * texture2D(tex0, sampleCoord);
    total += weight;
  }

  avg /= total;
  gl_FragColor = avg;
}
`),M(P,d.POSTERIZE,`// Limit color space for a stylized cartoon / poster effect

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

vec3 quantize(vec3 color, float n) {
  // restrict values to N options/bins
  // and floor each channel to nearest value
  //
  // eg. when N = 5, values = 0.0, 0.25, 0.50, 0.75, 1.0
  // then quantize (0.1, 0.7, 0.9) -> (0.0, 0.5, 1.0)

  color = color * n;
  color = floor(color);
  color = color / (n - 1.0);
  return color;
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);

  vec3 restrictedColor = quantize(color.rgb / color.a, filterParameter);

  gl_FragColor = vec4(restrictedColor.rgb * color.a, color.a);
}
`),M(P,d.OPAQUE,`// Set alpha channel to entirely opaque

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  gl_FragColor = vec4(color.rgb / color.a, 1.0);
}
`),M(P,d.INVERT,`// Set each pixel to inverse value
// Note that original INVERT does not change the opacity, so this follows suit

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
vec4 color = texture2D(tex0, vTexCoord);
vec3 origColor = color.rgb / color.a;
vec3 invertedColor = vec3(1.0) - origColor;
gl_FragColor = vec4(invertedColor * color.a, color.a);
}
`),M(P,d.THRESHOLD,`// Convert pixels to either white or black, 
// depending on if their luma is above or below filterParameter

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float gray = luma(color.rgb / color.a);
  // floor() used to match src/image/filters.js
  float threshold = floor(filterParameter * 255.0) / 255.0;
  float blackOrWhite = step(threshold, gray);
  gl_FragColor = vec4(vec3(blackOrWhite) * color.a, color.a);
}
`);var B=P;function V(z,G,fe,ie,T,D,U,W,$,ee){var ne=G.getParameter(G.FRAMEBUFFER_BINDING),fe=(G.bindFramebuffer(G.FRAMEBUFFER,fe),W===G.RGBA?4:3),se=D*U*fe,he=$===G.UNSIGNED_BYTE?Uint8Array:Float32Array;if(z instanceof he&&z.length===se||(z=new he(se)),G.readPixels(ie,ee?ee-T-U:T,D,U,W,$,z),G.bindFramebuffer(G.FRAMEBUFFER,ne),ee)for(var ae=Math.floor(U/2),J=new he(D*fe),le=0;le<ae;le++){var ye=le*D*4,ue=(U-le-1)*D*4;J.set(z.subarray(ye,ye+4*D)),z.copyWithin(ye,ue,ue+4*D),z.set(J,ue)}return z}function H(z,$,Q,ie,T,D,U){var W=z.getParameter(z.FRAMEBUFFER_BINDING),$=(z.bindFramebuffer(z.FRAMEBUFFER,$),T===z.RGBA?4:3),$=new(D===z.UNSIGNED_BYTE?Uint8Array:Float32Array)($);return z.readPixels(Q,U?U-ie-1:ie,1,1,T,D,$),z.bindFramebuffer(z.FRAMEBUFFER,W),Array.from($)}n.default.prototype.setAttributes=function(z,G){if(this._glAttributes===void 0)console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");else{var Q=!0;if(G!==void 0?(this._glAttributes===null&&(this._glAttributes={}),this._glAttributes[z]!==G&&(this._glAttributes[z]=G,Q=!1)):z instanceof Object&&this._glAttributes!==z&&(this._glAttributes=z,Q=!1),this._renderer.isP3D&&!Q){if(!this._setupDone){for(var ie in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(ie))return void n.default._friendlyError("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()")}this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}},n.default.RendererGL=function(z){var G=ie;if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function");G.prototype=Object.create(z&&z.prototype,{constructor:{value:G,writable:!0,configurable:!0}}),z&&u(G,z);var Q=f(ie);function ie(T,D,U,W){if(this instanceof ie)return(T=Q.call(this,T,D,U))._setAttributeDefaults(D),T._initContext(),T.isP3D=!0,T.geometryBuilder=void 0,T.GL=T.drawingContext,T._pInst._setProperty("drawingContext",T.drawingContext),T._isErasing=!1,T._clipDepths=[],T._isClipApplied=!1,T._stencilTestOn=!1,T._enableLighting=!1,T.ambientLightColors=[],T.mixedAmbientLight=[],T.mixedSpecularColor=[],T.specularColors=[1,1,1],T.directionalLightDirections=[],T.directionalLightDiffuseColors=[],T.directionalLightSpecularColors=[],T.pointLightPositions=[],T.pointLightDiffuseColors=[],T.pointLightSpecularColors=[],T.spotLightPositions=[],T.spotLightDirections=[],T.spotLightDiffuseColors=[],T.spotLightSpecularColors=[],T.spotLightAngle=[],T.spotLightConc=[],T.activeImageLight=null,T.diffusedTextures=new Map,T.specularTextures=new Map,T.drawMode=d.FILL,T.curFillColor=T._cachedFillStyle=[1,1,1,1],T.curAmbientColor=T._cachedFillStyle=[1,1,1,1],T.curSpecularColor=T._cachedFillStyle=[0,0,0,0],T.curEmissiveColor=T._cachedFillStyle=[0,0,0,0],T.curStrokeColor=T._cachedStrokeStyle=[0,0,0,1],T.curBlendMode=d.BLEND,T.preEraseBlend=void 0,T._cachedBlendMode=void 0,T.webglVersion===d.WEBGL2?T.blendExt=T.GL:T.blendExt=T.GL.getExtension("EXT_blend_minmax"),T._isBlending=!1,T._hasSetAmbient=!1,T._useSpecularMaterial=!1,T._useEmissiveMaterial=!1,T._useNormalMaterial=!1,T._useShininess=1,T._useMetalness=0,T._useLineColor=!1,T._useVertexColor=!1,T.registerEnabled=new Set,T._tint=[255,255,255,255],T.constantAttenuation=1,T.linearAttenuation=0,T.quadraticAttenuation=0,T.uModelMatrix=new n.default.Matrix,T.uViewMatrix=new n.default.Matrix,T.uMVMatrix=new n.default.Matrix,T.uPMatrix=new n.default.Matrix,T.uNMatrix=new n.default.Matrix("mat3"),T.curMatrix=new n.default.Matrix("mat3"),T._currentNormal=new n.default.Vector(0,0,1),T._curCamera=new n.default.Camera(y(T)),T._curCamera._computeCameraDefaultSettings(),T._curCamera._setDefaultCamera(),T.filterCamera=new n.default.Camera(y(T)),T.filterCamera._computeCameraDefaultSettings(),T.filterCamera._setDefaultCamera(),T.prevTouches=[],T.zoomVelocity=0,T.rotateVelocity=new n.default.Vector(0,0),T.moveVelocity=new n.default.Vector(0,0),T.executeZoom=!1,T.executeRotateAndMove=!1,T.specularShader=void 0,T.sphereMapping=void 0,T.diffusedShader=void 0,T._defaultLightShader=void 0,T._defaultImmediateModeShader=void 0,T._defaultNormalShader=void 0,T._defaultColorShader=void 0,T._defaultPointShader=void 0,T.userFillShader=void 0,T.userStrokeShader=void 0,T.userPointShader=void 0,T.retainedMode={geometry:{},buffers:{stroke:[new n.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",y(T)),new n.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",y(T)),new n.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",y(T)),new n.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",y(T)),new n.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",y(T))],fill:[new n.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",y(T),T._vToNArray),new n.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",y(T),T._vToNArray),new n.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",y(T)),new n.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",y(T)),new n.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",y(T),T._flatten)],text:[new n.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",y(T),T._vToNArray),new n.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",y(T),T._flatten)]}},T.immediateMode={geometry:new n.default.Geometry,shapeMode:d.TRIANGLE_FAN,contourIndices:[],_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new n.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",y(T),T._vToNArray),new n.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",y(T),T._vToNArray),new n.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",y(T)),new n.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",y(T)),new n.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",y(T),T._flatten)],stroke:[new n.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",y(T)),new n.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",y(T)),new n.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",y(T)),new n.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",y(T)),new n.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",y(T))],point:T.GL.createBuffer()}},T.pointSize=5,T.curStrokeWeight=1,T.curStrokeCap=d.ROUND,T.curStrokeJoin=d.ROUND,T.textures=new Map,T.framebuffers=new Set,T.activeFramebuffers=[],T.filterShader=void 0,T.filterLayer=void 0,T.filterLayerTemp=void 0,T.defaultFilterShaders={},T.textureMode=d.IMAGE,T.textureWrapX=d.CLAMP,T.textureWrapY=d.CLAMP,T._tex=null,T._curveTightness=6,T._lookUpTableBezier=[],T._lookUpTableQuadratic=[],T._lutBezierDetail=0,T._lutQuadraticDetail=0,T.isProcessingVertices=!1,T._tessy=T._initTessy(),T.fontInfos={},T._curShader=void 0,T;throw new TypeError("Cannot call a class as a function")}return G=ie,(z=[{key:"beginGeometry",value:function(){if(this.geometryBuilder)throw new Error("It looks like `beginGeometry()` is being called while another p5.Geometry is already being build.");this.geometryBuilder=new m.default(this)}},{key:"endGeometry",value:function(){var T;if(this.geometryBuilder)return T=this.geometryBuilder.finish(),this.geometryBuilder=void 0,T;throw new Error("Make sure you call beginGeometry() before endGeometry()!")}},{key:"buildGeometry",value:function(T){return this.beginGeometry(),T(),this.endGeometry()}},{key:"_setAttributeDefaults",value:function(T){var D={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!0,preserveDrawingBuffer:!0,perPixelLighting:!0,version:2};T._glAttributes===null?T._glAttributes=D:T._glAttributes=Object.assign(D,T._glAttributes)}},{key:"_initContext",value:function(){if(this._pInst._glAttributes.version!==1&&(this.drawingContext=this.canvas.getContext("webgl2",this._pInst._glAttributes)),this.webglVersion=this.drawingContext?d.WEBGL2:d.WEBGL,this._pInst._setProperty("webglVersion",this.webglVersion),this.drawingContext||(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes)),this.drawingContext===null)throw new Error("Error creating webgl context");var T=this.drawingContext;T.enable(T.DEPTH_TEST),T.depthFunc(T.LEQUAL),T.viewport(0,0,T.drawingBufferWidth,T.drawingBufferHeight),T.pixelStorei(T.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}},{key:"_getParam",value:function(){var T=this.drawingContext;return T.getParameter(T.MAX_TEXTURE_SIZE)}},{key:"_adjustDimensions",value:function(T,D){this._maxTextureSize||(this._maxTextureSize=this._getParam());var W=this._maxTextureSize,W=(n.default.prototype._maxAllowedPixelDimensions,Math.floor(W/this.pixelDensity())),U=Math.min(T,W),W=Math.min(D,W);return U===T&&W===D||console.warn("Warning: The requested width/height exceeds hardware limits. "+"Adjusting dimensions to width: ".concat(U,", height: ").concat(W,".")),{adjustedWidth:U,adjustedHeight:W}}},{key:"_resetContext",value:function(T,D){var U,W=this.width,$=this.height,ne=this.canvas.id,ee=this._pInst instanceof n.default.Graphics,ne=(ee?((U=this._pInst).canvas.parentNode.removeChild(U.canvas),U.canvas=document.createElement("canvas"),(U._pInst._userNode||document.body).appendChild(U.canvas),n.default.Element.call(U,U.canvas,U._pInst),U.width=W,U.height=$):((U=this.canvas)&&U.parentNode.removeChild(U),(U=document.createElement("canvas")).id=ne,(this._pInst._userNode||document.body).appendChild(U),this._pInst.canvas=U,this.canvas=U),new n.default.RendererGL(this._pInst.canvas,this._pInst,!ee));this._pInst._setProperty("_renderer",ne),ne.resize(W,$),ne._applyDefaults(),ee||this._pInst._elements.push(ne),typeof D=="function"&&setTimeout(function(){D.apply(window._renderer,T)},0)}},{key:"_update",value:function(){this.uModelMatrix.reset(),this.uViewMatrix.set(this._curCamera.cameraMatrix),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clearStencil(0),this.GL.clear(this.GL.DEPTH_BUFFER_BIT|this.GL.STENCIL_BUFFER_BIT),this.GL.disable(this.GL.STENCIL_TEST)}},{key:"background",value:function(){var W=(W=this._pInst).color.apply(W,arguments),T=W.levels[0]/255,D=W.levels[1]/255,U=W.levels[2]/255,W=W.levels[3]/255;this.clear(T,D,U,W)}},{key:"fill",value:function(T,D,U,W){var $=n.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=$._array,this.drawMode=d.FILL,this._useNormalMaterial=!1,this._tex=null}},{key:"stroke",value:function(T,D,U,W){var $=n.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=$._array}},{key:"strokeCap",value:function(T){this.curStrokeCap=T}},{key:"strokeJoin",value:function(T){this.curStrokeJoin=T}},{key:"getFilterLayer",value:function(){return this.filterLayer||(this.filterLayer=this._pInst.createFramebuffer()),this.filterLayer}},{key:"getFilterLayerTemp",value:function(){return this.filterLayerTemp||(this.filterLayerTemp=this._pInst.createFramebuffer()),this.filterLayerTemp}},{key:"matchSize",value:function(T,D){T.width===D.width&&T.height===D.height||T.resize(D.width,D.height),T.pixelDensity()!==D.pixelDensity()&&T.pixelDensity(D.pixelDensity())}},{key:"filter",value:function(){var T,D,U=this,W=this.getFilterLayer(),$=void 0,ee=void 0,ne=(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(ee=arguments.length<=0?void 0:arguments[0],M(T={},d.BLUR,3),M(T,d.POSTERIZE,4),M(T,d.THRESHOLD,.5),$=ee in(T=T)&&(arguments.length<=1?void 0:arguments[1])===void 0?T[ee]:arguments.length<=1?void 0:arguments[1],ee in this.defaultFilterShaders||(this.defaultFilterShaders[ee]=new n.default.Shader(W._renderer,`uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

attribute vec3 aPosition;
// texcoords only come from p5 to vertex shader
// so pass texcoords on to the fragment shader in a varying variable
attribute vec2 aTexCoord;
varying vec2 vTexCoord;

void main() {
  // transferring texcoords for the frag shader
  vTexCoord = aTexCoord;

  // copy position with a fourth coordinate for projection (1.0 is normal)
  vec4 positionVec4 = vec4(aPosition, 1.0);

  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
}
`,B[ee])),this.filterShader=this.defaultFilterShaders[ee]):this.filterShader=arguments.length<=0?void 0:arguments[0],this.activeFramebuffer()||this),fe=(this.matchSize(W,ne),W.draw(function(){return U._pInst.clear()}),[1/(ne.width*ne.pixelDensity()),1/(ne.height*ne.pixelDensity())]);ee===d.BLUR?(D=this.getFilterLayerTemp(),this.matchSize(D,ne),this._pInst.push(),this._pInst.noStroke(),this._pInst.blendMode(d.BLEND),this._pInst.shader(this.filterShader),this.filterShader.setUniform("texelSize",fe),this.filterShader.setUniform("canvasSize",[ne.width,ne.height]),this.filterShader.setUniform("radius",Math.max(1,$)),D.draw(function(){U.filterShader.setUniform("direction",[1,0]),U.filterShader.setUniform("tex0",ne),U._pInst.clear(),U._pInst.shader(U.filterShader),U._pInst.noLights(),U._pInst.plane(ne.width,ne.height)}),W.draw(function(){U.filterShader.setUniform("direction",[0,1]),U.filterShader.setUniform("tex0",D),U._pInst.clear(),U._pInst.shader(U.filterShader),U._pInst.noLights(),U._pInst.plane(ne.width,ne.height)}),this._pInst.pop()):W.draw(function(){U._pInst.noStroke(),U._pInst.blendMode(d.BLEND),U._pInst.shader(U.filterShader),U.filterShader.setUniform("tex0",ne),U.filterShader.setUniform("texelSize",fe),U.filterShader.setUniform("canvasSize",[ne.width,ne.height]),U.filterShader.setUniform("filterParameter",$),U._pInst.noLights(),U._pInst.plane(ne.width,ne.height)}),this._pInst.push(),this._pInst.noStroke(),this.clear(),this._pInst.push(),this._pInst.imageMode(d.CORNER),this._pInst.blendMode(d.BLEND),ne.filterCamera._resize(),this._pInst.setCamera(ne.filterCamera),this._pInst.resetMatrix(),this._pInst.image(W,-ne.width/2,-ne.height/2,ne.width,ne.height),this._pInst.clearDepth(),this._pInst.pop(),this._pInst.pop()}},{key:"pixelDensity",value:function(T){return T?this._pInst.pixelDensity(T):this._pInst.pixelDensity()}},{key:"blendMode",value:function(T){T===d.DARKEST||T===d.LIGHTEST||T===d.ADD||T===d.BLEND||T===d.SUBTRACT||T===d.SCREEN||T===d.EXCLUSION||T===d.REPLACE||T===d.MULTIPLY||T===d.REMOVE?this.curBlendMode=T:T!==d.BURN&&T!==d.OVERLAY&&T!==d.HARD_LIGHT&&T!==d.SOFT_LIGHT&&T!==d.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")}},{key:"erase",value:function(T,D){this._isErasing||(this.preEraseBlend=this.curBlendMode,this._isErasing=!0,this.blendMode(d.REMOVE),this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,T/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,D/255])}},{key:"noErase",value:function(){this._isErasing&&(this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.curBlendMode=this.preEraseBlend,this.blendMode(this.preEraseBlend),this._isErasing=!1,this._applyBlendMode())}},{key:"drawTarget",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||this}},{key:"beginClip",value:function(){var T=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},T=(c(x(ie.prototype),"beginClip",this).call(this,T),this.drawTarget()._isClipApplied=!0,this.GL);T.clearStencil(0),T.clear(T.STENCIL_BUFFER_BIT),T.enable(T.STENCIL_TEST),this._stencilTestOn=!0,T.stencilFunc(T.ALWAYS,1,255),T.stencilOp(T.KEEP,T.KEEP,T.REPLACE),T.disable(T.DEPTH_TEST),this._pInst.push(),this._pInst.resetShader(),this._doFill&&this._pInst.fill(0,0),this._doStroke&&this._pInst.stroke(0,0)}},{key:"endClip",value:function(){this._pInst.pop();var T=this.GL;T.stencilOp(T.KEEP,T.KEEP,T.KEEP),T.stencilFunc(this._clipInvert?T.EQUAL:T.NOTEQUAL,0,255),T.enable(T.DEPTH_TEST),this._clipDepths.push(this._pushPopDepth),c(x(ie.prototype),"endClip",this).call(this)}},{key:"_clearClip",value:function(){this.GL.clearStencil(1),this.GL.clear(this.GL.STENCIL_BUFFER_BIT),0<this._clipDepths.length&&this._clipDepths.pop(),this.drawTarget()._isClipApplied=!1}},{key:"strokeWeight",value:function(T){this.curStrokeWeight!==T&&(this.pointSize=T,this.curStrokeWeight=T)}},{key:"_getPixel",value:function(T,D){var U=this.GL;return H(U,null,T,D,U.RGBA,U.UNSIGNED_BYTE,this._pInst.height*this._pInst.pixelDensity())}},{key:"loadPixels",value:function(){var T,D,U=this._pixelsState;this._pInst._glAttributes.preserveDrawingBuffer!==!0?console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true."):(T=this._pInst._pixelDensity,D=this.GL,U._setProperty("pixels",V(U.pixels,D,null,0,0,this.width*T,this.height*T,D.RGBA,D.UNSIGNED_BYTE,this.height*T)))}},{key:"updatePixels",value:function(){var T=this._getTempFramebuffer();T.pixels=this._pixelsState.pixels,T.updatePixels(),this._pInst.push(),this._pInst.resetMatrix(),this._pInst.clear(),this._pInst.imageMode(d.CENTER),this._pInst.image(T,0,0),this._pInst.pop(),this.GL.clearDepth(1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"_getTempFramebuffer",value:function(){return this._tempFramebuffer||(this._tempFramebuffer=this._pInst.createFramebuffer({format:d.UNSIGNED_BYTE,useDepth:this._pInst._glAttributes.depth,depthFormat:d.UNSIGNED_INT,antialias:this._pInst._glAttributes.antialias})),this._tempFramebuffer}},{key:"geometryInHash",value:function(T){return this.retainedMode.geometry[T]!==void 0}},{key:"viewport",value:function(T,D){this._viewport=[0,0,T,D],this.GL.viewport(0,0,T,D)}},{key:"resize",value:function($,W){n.default.Renderer.prototype.resize.call(this,$,W),this._origViewport={width:this.GL.drawingBufferWidth,height:this.GL.drawingBufferHeight},this.viewport(this._origViewport.width,this._origViewport.height),this._curCamera._resize();var $=this._pixelsState,U=($.pixels!==void 0&&$._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4)),!0),W=!1,$=void 0;try{for(var ee,ne=this.framebuffers[Symbol.iterator]();!(U=(ee=ne.next()).done);U=!0)ee.value._canvasSizeChanged()}catch(fe){W=!0,$=fe}finally{try{U||ne.return==null||ne.return()}finally{if(W)throw $}}}},{key:"clear",value:function(){var T=(arguments.length<=0?void 0:arguments[0])||0,D=(arguments.length<=1?void 0:arguments[1])||0,U=(arguments.length<=2?void 0:arguments[2])||0,W=(arguments.length<=3?void 0:arguments[3])||0,$=this.activeFramebuffer();$&&$.format===d.UNSIGNED_BYTE&&!$.antialias&&W===0&&(W=1e-10),this.GL.clearColor(T*W,D*W,U*W,W),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)}},{key:"clearDepth",value:function(){this.GL.clearDepth(0<arguments.length&&arguments[0]!==void 0?arguments[0]:1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"applyMatrix",value:function(T,D,U,W,$,ee){arguments.length===16?n.default.Matrix.prototype.apply.apply(this.uModelMatrix,arguments):this.uModelMatrix.apply([T,D,0,0,U,W,0,0,0,0,1,0,$,ee,0,1])}},{key:"translate",value:function(T,D,U){return T instanceof n.default.Vector&&(U=T.z,D=T.y,T=T.x),this.uModelMatrix.translate([T,D,U]),this}},{key:"scale",value:function(T,D,U){return this.uModelMatrix.scale(T,D,U),this}},{key:"rotate",value:function(T,D){return D===void 0?this.rotateZ(T):(n.default.Matrix.prototype.rotate.apply(this.uModelMatrix,arguments),this)}},{key:"rotateX",value:function(T){return this.rotate(T,1,0,0),this}},{key:"rotateY",value:function(T){return this.rotate(T,0,1,0),this}},{key:"rotateZ",value:function(T){return this.rotate(T,0,0,1),this}},{key:"push",value:function(){var T=n.default.Renderer.prototype.push.apply(this),D=T.properties;return D.uModelMatrix=this.uModelMatrix.copy(),D.uViewMatrix=this.uViewMatrix.copy(),D.uPMatrix=this.uPMatrix.copy(),D._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),D.ambientLightColors=this.ambientLightColors.slice(),D.specularColors=this.specularColors.slice(),D.directionalLightDirections=this.directionalLightDirections.slice(),D.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),D.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),D.pointLightPositions=this.pointLightPositions.slice(),D.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),D.pointLightSpecularColors=this.pointLightSpecularColors.slice(),D.spotLightPositions=this.spotLightPositions.slice(),D.spotLightDirections=this.spotLightDirections.slice(),D.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),D.spotLightSpecularColors=this.spotLightSpecularColors.slice(),D.spotLightAngle=this.spotLightAngle.slice(),D.spotLightConc=this.spotLightConc.slice(),D.userFillShader=this.userFillShader,D.userStrokeShader=this.userStrokeShader,D.userPointShader=this.userPointShader,D.pointSize=this.pointSize,D.curStrokeWeight=this.curStrokeWeight,D.curStrokeColor=this.curStrokeColor,D.curFillColor=this.curFillColor,D.curAmbientColor=this.curAmbientColor,D.curSpecularColor=this.curSpecularColor,D.curEmissiveColor=this.curEmissiveColor,D._hasSetAmbient=this._hasSetAmbient,D._useSpecularMaterial=this._useSpecularMaterial,D._useEmissiveMaterial=this._useEmissiveMaterial,D._useShininess=this._useShininess,D._useMetalness=this._useMetalness,D.constantAttenuation=this.constantAttenuation,D.linearAttenuation=this.linearAttenuation,D.quadraticAttenuation=this.quadraticAttenuation,D._enableLighting=this._enableLighting,D._useNormalMaterial=this._useNormalMaterial,D._tex=this._tex,D.drawMode=this.drawMode,D._currentNormal=this._currentNormal,D.curBlendMode=this.curBlendMode,D.activeImageLight=this.activeImageLight,T}},{key:"pop",value:function(){var T;0<this._clipDepths.length&&this._pushPopDepth===this._clipDepths[this._clipDepths.length-1]&&this._clearClip();for(var D=arguments.length,U=new Array(D),W=0;W<D;W++)U[W]=arguments[W];(T=c(x(ie.prototype),"pop",this)).call.apply(T,[this].concat(U)),this._applyStencilTestIfClipping()}},{key:"_applyStencilTestIfClipping",value:function(){var T=this.drawTarget();T._isClipApplied!==this._stencilTestOn&&(T._isClipApplied?(this.GL.enable(this.GL.STENCIL_TEST),this._stencilTestOn=!0):(this.GL.disable(this.GL.STENCIL_TEST),this._stencilTestOn=!1))}},{key:"resetMatrix",value:function(){return this.uModelMatrix.reset(),this.uViewMatrix.set(this._curCamera.cameraMatrix),this}},{key:"_getImmediateStrokeShader",value:function(){var T=this.userStrokeShader;return T&&T.isStrokeShader()?T:this._getLineShader()}},{key:"_getRetainedStrokeShader",value:function(){return this._getImmediateStrokeShader()}},{key:"_getSphereMapping",value:function(T){return this.sphereMapping||(this.sphereMapping=this._pInst.createFilterShader(I)),this.uNMatrix.inverseTranspose(this.uViewMatrix),this.uNMatrix.invert3x3(this.uNMatrix),this.sphereMapping.setUniform("uFovY",this._curCamera.cameraFOV),this.sphereMapping.setUniform("uAspect",this._curCamera.aspectRatio),this.sphereMapping.setUniform("uNewNormalMatrix",this.uNMatrix.mat3),this.sphereMapping.setUniform("uSampler",T),this.sphereMapping}},{key:"_getImmediateFillShader",value:function(){var T=this.userFillShader;if(this._useNormalMaterial&&(!T||!T.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!T||!T.isLightShader())return this._getLightShader()}else if(this._tex){if(!T||!T.isTextureShader())return this._getLightShader()}else if(!T)return this._getImmediateModeShader();return T}},{key:"_getRetainedFillShader",value:function(){if(this._useNormalMaterial)return this._getNormalShader();var T=this.userFillShader;if(this._enableLighting){if(!T||!T.isLightShader())return this._getLightShader()}else if(this._tex){if(!T||!T.isTextureShader())return this._getLightShader()}else if(!T)return this._getColorShader();return T}},{key:"_getImmediatePointShader",value:function(){var T=this.userPointShader;return T&&T.isPointShader()?T:this._getPointShader()}},{key:"_getRetainedLineShader",value:function(){return this._getImmediateLineShader()}},{key:"_getLightShader",value:function(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new n.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+F.phongVert,this._webGL2CompatibilityPrefix("frag","highp")+F.phongFrag):this._defaultLightShader=new n.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+F.lightVert,this._webGL2CompatibilityPrefix("frag","highp")+F.lightTextureFrag)),this._defaultLightShader}},{key:"_getImmediateModeShader",value:function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new n.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+F.immediateVert,this._webGL2CompatibilityPrefix("frag","mediump")+F.vertexColorFrag)),this._defaultImmediateModeShader}},{key:"_getNormalShader",value:function(){return this._defaultNormalShader||(this._defaultNormalShader=new n.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+F.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+F.normalFrag)),this._defaultNormalShader}},{key:"_getColorShader",value:function(){return this._defaultColorShader||(this._defaultColorShader=new n.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+F.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+F.basicFrag)),this._defaultColorShader}},{key:"_getPointShader",value:function(){return this._defaultPointShader||(this._defaultPointShader=new n.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+F.pointVert,this._webGL2CompatibilityPrefix("frag","mediump")+F.pointFrag)),this._defaultPointShader}},{key:"_getLineShader",value:function(){return this._defaultLineShader||(this._defaultLineShader=new n.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+F.lineVert,this._webGL2CompatibilityPrefix("frag","mediump")+F.lineFrag)),this._defaultLineShader}},{key:"_getFontShader",value:function(){return this._defaultFontShader||(this.webglVersion===d.WEBGL&&this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new n.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+F.fontVert,this._webGL2CompatibilityPrefix("frag","mediump")+F.fontFrag)),this._defaultFontShader}},{key:"_webGL2CompatibilityPrefix",value:function(T,D){var U="";return this.webglVersion===d.WEBGL2&&(U+=`#version 300 es
#define WEBGL2
`),T==="vert"?U+=`#define VERTEX_SHADER
`:T==="frag"&&(U+=`#define FRAGMENT_SHADER
`),D&&(U+="precision ".concat(D,` float;
`)),U}},{key:"_getEmptyTexture",value:function(){var T;return this._emptyTexture||((T=new n.default.Image(1,1)).set(0,0,255),this._emptyTexture=new n.default.Texture(this,T)),this._emptyTexture}},{key:"getTexture",value:function(T){T instanceof n.default.Framebuffer&&(T=T.color);var D=this.textures.get(T);return D||(D=new n.default.Texture(this,T),this.textures.set(T,D),D)}},{key:"getDiffusedTexture",value:function(T){var D,U,W=this;return this.diffusedTextures.get(T)!=null?this.diffusedTextures.get(T):(D=Math.floor(T.height/T.width*200),U=this._pInst.createFramebuffer({width:200,height:D,density:1}),this.diffusedShader||(this.diffusedShader=this._pInst.createShader(F.imageLightVert,F.imageLightDiffusedFrag)),U.draw(function(){W._pInst.shader(W.diffusedShader),W.diffusedShader.setUniform("environmentMap",T),W._pInst.noStroke(),W._pInst.rectMode(d.CENTER),W._pInst.noLights(),W._pInst.rect(0,0,200,D)}),this.diffusedTextures.set(T,U),U)}},{key:"getSpecularTexture",value:function(T){var D=this;if(this.specularTextures.get(T)!=null)return this.specularTextures.get(T);for(var U,W=[],$=this._pInst.createFramebuffer({width:512,height:512,density:1}),ee=Math.log(512)/Math.log(2),ne=(this.specularShader||(this.specularShader=this._pInst.createShader(F.imageLightVert,F.imageLightSpecularFrag)),512);1<=ne;ne/=2)(function(fe){$.resize(fe,fe);var se=1-Math.log(fe)/Math.log(2)/ee;$.draw(function(){D._pInst.shader(D.specularShader),D._pInst.clear(),D.specularShader.setUniform("environmentMap",T),D.specularShader.setUniform("roughness",se),D._pInst.noStroke(),D._pInst.noLights(),D._pInst.plane(fe,fe)}),W.push($.get().drawingContext.getImageData(0,0,fe,fe))})(ne);return $.remove(),U=new r.MipmapTexture(this,W,{}),this.specularTextures.set(T,U),U}},{key:"activeFramebuffer",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||null}},{key:"createFramebuffer",value:function(T){return new n.default.Framebuffer(this,T)}},{key:"_setStrokeUniforms",value:function(T){T.bindShader(),T.setUniform("uUseLineColor",this._useLineColor),T.setUniform("uMaterialColor",this.curStrokeColor),T.setUniform("uStrokeWeight",this.curStrokeWeight),T.setUniform("uStrokeCap",L[this.curStrokeCap]),T.setUniform("uStrokeJoin",k[this.curStrokeJoin])}},{key:"_setFillUniforms",value:function(T){var D=this,U=(T.bindShader(),this.mixedSpecularColor=i(this.curSpecularColor),0<this._useMetalness&&(this.mixedSpecularColor=this.mixedSpecularColor.map(function(W,$){return D.curFillColor[$]*D._useMetalness+W*(1-D._useMetalness)})),T.setUniform("uUseVertexColor",this._useVertexColor),T.setUniform("uMaterialColor",this.curFillColor),T.setUniform("isTexture",!!this._tex),this._tex&&T.setUniform("uSampler",this._tex),T.setUniform("uTint",this._tint),T.setUniform("uHasSetAmbient",this._hasSetAmbient),T.setUniform("uAmbientMatColor",this.curAmbientColor),T.setUniform("uSpecularMatColor",this.mixedSpecularColor),T.setUniform("uEmissiveMatColor",this.curEmissiveColor),T.setUniform("uSpecular",this._useSpecularMaterial),T.setUniform("uEmissive",this._useEmissiveMaterial),T.setUniform("uShininess",this._useShininess),T.setUniform("metallic",this._useMetalness),this._setImageLightUniforms(T),T.setUniform("uUseLighting",this._enableLighting),this.pointLightDiffuseColors.length/3),U=(T.setUniform("uPointLightCount",U),T.setUniform("uPointLightLocation",this.pointLightPositions),T.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),T.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors),this.directionalLightDiffuseColors.length/3),U=(T.setUniform("uDirectionalLightCount",U),T.setUniform("uLightingDirection",this.directionalLightDirections),T.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),T.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors),this.ambientLightColors.length/3),U=(this.mixedAmbientLight=i(this.ambientLightColors),0<this._useMetalness&&(this.mixedAmbientLight=this.mixedAmbientLight.map(function(W){return W-=D._useMetalness,Math.max(0,W)})),T.setUniform("uAmbientLightCount",U),T.setUniform("uAmbientColor",this.mixedAmbientLight),this.spotLightDiffuseColors.length/3);T.setUniform("uSpotLightCount",U),T.setUniform("uSpotLightAngle",this.spotLightAngle),T.setUniform("uSpotLightConc",this.spotLightConc),T.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),T.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),T.setUniform("uSpotLightLocation",this.spotLightPositions),T.setUniform("uSpotLightDirection",this.spotLightDirections),T.setUniform("uConstantAttenuation",this.constantAttenuation),T.setUniform("uLinearAttenuation",this.linearAttenuation),T.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),T.bindTextures()}},{key:"_setImageLightUniforms",value:function(T){var D,U;T.setUniform("uUseImageLight",this.activeImageLight!=null),this.activeImageLight&&(D=this.getDiffusedTexture(this.activeImageLight),T.setUniform("environmentMapDiffused",D),D=this.getSpecularTexture(this.activeImageLight),U=20/this._useShininess,T.setUniform("levelOfDetail",8*U),T.setUniform("environmentMapSpecular",D))}},{key:"_setPointUniforms",value:function(T){T.bindShader(),T.setUniform("uMaterialColor",this.curStrokeColor),T.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)}},{key:"_bindBuffer",value:function(T,D,U,W,$){D=D||this.GL.ARRAY_BUFFER,this.GL.bindBuffer(D,T),U!==void 0&&((T=U)instanceof n.default.DataArray?T=U.dataArray():T instanceof(W||Float32Array)||(T=new(W||Float32Array)(T)),this.GL.bufferData(D,T,$||this.GL.STATIC_DRAW))}},{key:"_arraysEqual",value:function(T,D){return T.length===D.length&&T.every(function(U,W){return U===D[W]})}},{key:"_isTypedArray",value:function(T){return[Float32Array,Float64Array,Int16Array,Uint16Array,Uint32Array].some(function(D){return T instanceof D})}},{key:"_flatten",value:function(T){return T.flat()}},{key:"_vToNArray",value:function(T){return T.flatMap(function(D){return[D.x,D.y,D.z]})}},{key:"_bezierCoefficients",value:function(T){var D=T*T,U=1-T,W=U*U;return[W*U,3*W*T,3*U*D,D*T]}},{key:"_quadraticCoefficients",value:function(T){var D=1-T;return[D*D,2*D*T,T*T]}},{key:"_bezierToCatmull",value:function(T){return[T[1],T[1]+(T[2]-T[0])/this._curveTightness,T[2]-(T[3]-T[1])/this._curveTightness,T[2]]}},{key:"_initTessy",value:function(){var T=new p.default.GluTesselator;return T.gluTessCallback(p.default.gluEnum.GLU_TESS_VERTEX_DATA,function(D,U){var W=!0,$=!1,ee=void 0;try{for(var ne,fe=D[Symbol.iterator]();!(W=(ne=fe.next()).done);W=!0){var se=ne.value;U.push(se)}}catch(he){$=!0,ee=he}finally{try{W||fe.return==null||fe.return()}finally{if($)throw ee}}}),T.gluTessCallback(p.default.gluEnum.GLU_TESS_BEGIN,function(D){D!==p.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(D))}),T.gluTessCallback(p.default.gluEnum.GLU_TESS_ERROR,function(D){console.log("error callback"),console.log("error number: ".concat(D))}),T.gluTessCallback(p.default.gluEnum.GLU_TESS_COMBINE,function(D,U,W){for(var $=new Array(n.default.RendererGL.prototype.tessyVertexSize).fill(0),ee=0;ee<W.length;ee++)for(var ne=0;ne<$.length;ne++)W[ee]!==0&&U[ee]&&($[ne]+=U[ee][ne]*W[ee]);return $}),T.gluTessCallback(p.default.gluEnum.GLU_TESS_EDGE_FLAG,function(D){}),T.gluTessProperty(p.default.gluEnum.GLU_TESS_WINDING_RULE,p.default.windingRule.GLU_TESS_WINDING_NONZERO),T}},{key:"_triangulate",value:function(T){var D=T[0]?T[0][2]:void 0,U=!0,W=!0,se=!1,ae=void 0;try{for(var $,ee=T[Symbol.iterator]();!(W=($=ee.next()).done);W=!0)for(var ne=$.value,fe=0;fe<ne.length;fe+=n.default.RendererGL.prototype.tessyVertexSize)if(ne[fe+2]!==D){U=!1;break}}catch(Se){se=!0,ae=Se}finally{try{W||ee.return==null||ee.return()}finally{if(se)throw ae}}U?this._tessy.gluTessNormal(0,0,1):this._tessy.gluTessNormal(0,0,0);var se=[],he=(this._tessy.gluTessBeginPolygon(se),!0),ae=!1,J=void 0;try{for(var le,ye=T[Symbol.iterator]();!(he=(le=ye.next()).done);he=!0){var ue=le.value;this._tessy.gluTessBeginContour();for(var ge=0;ge<ue.length;ge+=n.default.RendererGL.prototype.tessyVertexSize){var be=ue.slice(ge,ge+n.default.RendererGL.prototype.tessyVertexSize);this._tessy.gluTessVertex(be,be)}this._tessy.gluTessEndContour()}}catch(Se){ae=!0,J=Se}finally{try{he||ye.return==null||ye.return()}finally{if(ae)throw J}}return this._tessy.gluTessEndPolygon(),se}}])&&h(G.prototype,z),ie}(n.default.Renderer),n.default.prototype._assert3d=function(z){if(!this._renderer.isP3D)throw new Error("".concat(z,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},n.default.RendererGL.prototype.tessyVertexSize=12,P=n.default.RendererGL,b.default=P},{"../core/constants":272,"../core/main":283,"../core/p5.Renderer":286,"./GeometryBuilder":327,"./p5.Camera":332,"./p5.Framebuffer":334,"./p5.Matrix":336,"./p5.Shader":342,"./p5.Texture":343,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.copy-within":154,"core-js/modules/es.array.every":155,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.flat":160,"core-js/modules/es.array.flat-map":159,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.array.unscopables.flat":173,"core-js/modules/es.array.unscopables.flat-map":172,"core-js/modules/es.map":175,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.float64-array":220,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.int16-array":224,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint16-array":240,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,libtess:255,path:258}],342:[function(t,_,b){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var s=(t=t("../core/main"))&&t.__esModule?t:{default:t};function l(n,d){for(var m=0;m<d.length;m++){var p=d[m];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(n,p.key,p)}}s.default.Shader=function(){function n(p,r,o){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");this._renderer=p,this._vertSrc=r,this._fragSrc=o,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[]}var d,m;return d=n,(m=[{key:"init",value:function(){if(this._glProgram===0){var p=this._renderer.GL;if(this._vertShader=p.createShader(p.VERTEX_SHADER),p.shaderSource(this._vertShader,this._vertSrc),p.compileShader(this._vertShader),!p.getShaderParameter(this._vertShader,p.COMPILE_STATUS))return s.default._friendlyError("Yikes! An error occurred compiling the vertex shader:".concat(p.getShaderInfoLog(this._vertShader))),null;if(this._fragShader=p.createShader(p.FRAGMENT_SHADER),p.shaderSource(this._fragShader,this._fragSrc),p.compileShader(this._fragShader),!p.getShaderParameter(this._fragShader,p.COMPILE_STATUS))return s.default._friendlyError("Darn! An error occurred compiling the fragment shader:".concat(p.getShaderInfoLog(this._fragShader))),null;this._glProgram=p.createProgram(),p.attachShader(this._glProgram,this._vertShader),p.attachShader(this._glProgram,this._fragShader),p.linkProgram(this._glProgram),p.getProgramParameter(this._glProgram,p.LINK_STATUS)||s.default._friendlyError("Snap! Error linking shader program: ".concat(p.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this}},{key:"copyToContext",value:function(p){var r=new s.default.Shader(p._renderer,this._vertSrc,this._fragSrc);return r.ensureCompiledOnContext(p),r}},{key:"ensureCompiledOnContext",value:function(p){if(this._glProgram!==0&&this._renderer!==p._renderer)throw new Error("The shader being run is attached to a different context. Do you need to copy it to this context first with .copyToContext()?");this._glProgram===0&&(this._renderer=p._renderer,this.init())}},{key:"_loadAttributes",value:function(){if(!this._loadedAttributes){this.attributes={};for(var p=this._renderer.GL,r=p.getProgramParameter(this._glProgram,p.ACTIVE_ATTRIBUTES),o=0;o<r;++o){var a=p.getActiveAttrib(this._glProgram,o),i=a.name,h=p.getAttribLocation(this._glProgram,i),c={};c.name=i,c.location=h,c.index=o,c.type=a.type,c.size=a.size,this.attributes[i]=c}this._loadedAttributes=!0}}},{key:"_loadUniforms",value:function(){if(!this._loadedUniforms){for(var p=this._renderer.GL,r=p.getProgramParameter(this._glProgram,p.ACTIVE_UNIFORMS),o=0,a=0;a<r;++a){var i=p.getActiveUniform(this._glProgram,a),h={},c=(h.location=p.getUniformLocation(this._glProgram,i.name),h.size=i.size,i.name);1<i.size&&(c=c.substring(0,c.indexOf("[0]"))),h.name=c,h.type=i.type,h._cachedData=void 0,h.type===p.SAMPLER_2D&&(h.samplerIndex=o,o++,this.samplers.push(h)),h.isArray=1<i.size||h.type===p.FLOAT_MAT3||h.type===p.FLOAT_MAT4||h.type===p.FLOAT_VEC2||h.type===p.FLOAT_VEC3||h.type===p.FLOAT_VEC4||h.type===p.INT_VEC2||h.type===p.INT_VEC4||h.type===p.INT_VEC3,this.uniforms[c]=h}this._loadedUniforms=!0}}},{key:"compile",value:function(){}},{key:"bindShader",value:function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))}},{key:"unbindShader",value:function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this}},{key:"bindTextures",value:function(){var p=this._renderer.GL,r=!0,o=!1,a=void 0;try{for(var i,h=this.samplers[Symbol.iterator]();!(r=(i=h.next()).done);r=!0){var c=i.value,u=c.texture;u===void 0&&(u=this._renderer._getEmptyTexture()),p.activeTexture(p.TEXTURE0+c.samplerIndex),u.bindTexture(),u.update(),p.uniform1i(c.location,c.samplerIndex)}}catch(f){o=!0,a=f}finally{try{r||h.return==null||h.return()}finally{if(o)throw a}}}},{key:"updateTextures",value:function(){var p=!0,r=!1,o=void 0;try{for(var a,i=this.samplers[Symbol.iterator]();!(p=(a=i.next()).done);p=!0){var h=a.value.texture;h&&h.update()}}catch(c){r=!0,o=c}finally{try{p||i.return==null||i.return()}finally{if(r)throw o}}}},{key:"unbindTextures",value:function(){var p=!0,r=!1,o=void 0;try{for(var a,i=this.samplers[Symbol.iterator]();!(p=(a=i.next()).done);p=!0){var h=a.value;this.setUniform(h.name,this._renderer._getEmptyTexture())}}catch(c){r=!0,o=c}finally{try{p||i.return==null||i.return()}finally{if(r)throw o}}}},{key:"_setMatrixUniforms",value:function(){var p=this._renderer.uModelMatrix,r=this._renderer.uViewMatrix,o=this._renderer.uPMatrix,a=p.copy().mult(r),i=(this._renderer.uMVMatrix=a).copy();i.mult(o),this.isStrokeShader()&&this.setUniform("uPerspective",this._renderer._curCamera.useLinePerspective?1:0),this.setUniform("uViewMatrix",r.mat4),this.setUniform("uProjectionMatrix",o.mat4),this.setUniform("uModelMatrix",p.mat4),this.setUniform("uModelViewMatrix",a.mat4),this.setUniform("uModelViewProjectionMatrix",i.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3)),this.uniforms.uCameraRotation&&(this._renderer.curMatrix.inverseTranspose(this._renderer.uViewMatrix),this.setUniform("uCameraRotation",this._renderer.curMatrix.mat3))}},{key:"useProgram",value:function(){var p=this._renderer.GL;return this._renderer._curShader!==this&&(p.useProgram(this._glProgram),this._renderer._curShader=this),this}},{key:"setUniform",value:function(p,r){var o=this.uniforms[p];if(o){var a=this._renderer.GL;if(o.isArray){if(o._cachedData&&this._renderer._arraysEqual(o._cachedData,r))return;o._cachedData=r.slice(0)}else{if(o._cachedData&&o._cachedData===r)return;Array.isArray(r)?o._cachedData=r.slice(0):o._cachedData=r}var i=o.location;switch(this.useProgram(),o.type){case a.BOOL:r===!0?a.uniform1i(i,1):a.uniform1i(i,0);break;case a.INT:1<o.size?r.length&&a.uniform1iv(i,r):a.uniform1i(i,r);break;case a.FLOAT:1<o.size?r.length&&a.uniform1fv(i,r):a.uniform1f(i,r);break;case a.FLOAT_MAT3:a.uniformMatrix3fv(i,!1,r);break;case a.FLOAT_MAT4:a.uniformMatrix4fv(i,!1,r);break;case a.FLOAT_VEC2:1<o.size?r.length&&a.uniform2fv(i,r):a.uniform2f(i,r[0],r[1]);break;case a.FLOAT_VEC3:1<o.size?r.length&&a.uniform3fv(i,r):a.uniform3f(i,r[0],r[1],r[2]);break;case a.FLOAT_VEC4:1<o.size?r.length&&a.uniform4fv(i,r):a.uniform4f(i,r[0],r[1],r[2],r[3]);break;case a.INT_VEC2:1<o.size?r.length&&a.uniform2iv(i,r):a.uniform2i(i,r[0],r[1]);break;case a.INT_VEC3:1<o.size?r.length&&a.uniform3iv(i,r):a.uniform3i(i,r[0],r[1],r[2]);break;case a.INT_VEC4:1<o.size?r.length&&a.uniform4iv(i,r):a.uniform4i(i,r[0],r[1],r[2],r[3]);break;case a.SAMPLER_2D:a.activeTexture(a.TEXTURE0+o.samplerIndex),o.texture=r instanceof s.default.Texture?r:this._renderer.getTexture(r),a.uniform1i(i,o.samplerIndex),o.texture.src.gifProperties&&o.texture.src._animateGif(this._renderer._pInst)}return this}}},{key:"isLightShader",value:function(){return[this.attributes.aNormal,this.uniforms.uUseLighting,this.uniforms.uAmbientLightCount,this.uniforms.uDirectionalLightCount,this.uniforms.uPointLightCount,this.uniforms.uAmbientColor,this.uniforms.uDirectionalDiffuseColors,this.uniforms.uDirectionalSpecularColors,this.uniforms.uPointLightLocation,this.uniforms.uPointLightDiffuseColors,this.uniforms.uPointLightSpecularColors,this.uniforms.uLightingDirection,this.uniforms.uSpecular].some(function(p){return p!==void 0})}},{key:"isNormalShader",value:function(){return this.attributes.aNormal!==void 0}},{key:"isTextureShader",value:function(){return 0<this.samplers.length}},{key:"isColorShader",value:function(){return this.attributes.aVertexColor!==void 0||this.uniforms.uMaterialColor!==void 0}},{key:"isTexLightShader",value:function(){return this.isLightShader()&&this.isTextureShader()}},{key:"isStrokeShader",value:function(){return this.uniforms.uStrokeWeight!==void 0}},{key:"enableAttrib",value:function(p,r,o,a,i,h){var c;return p&&(p=p.location)!==-1&&(c=this._renderer.GL,this._renderer.registerEnabled.has(p)||(c.enableVertexAttribArray(p),this._renderer.registerEnabled.add(p)),this._renderer.GL.vertexAttribPointer(p,r,o||c.FLOAT,a||!1,i||0,h||0)),this}},{key:"disableRemainingAttributes",value:function(){var p=this,r=!0,o=!1,a=void 0;try{for(var i,h=this._renderer.registerEnabled.values()[Symbol.iterator]();!(r=(i=h.next()).done);r=!0)(function(){var c=i.value;Object.keys(p.attributes).some(function(u){return p.attributes[u].location===c})||(p._renderer.GL.disableVertexAttribArray(c),p._renderer.registerEnabled.delete(c))})()}catch(c){o=!0,a=c}finally{try{r||h.return==null||h.return()}finally{if(o)throw a}}}}])&&l(d.prototype,m),n}(),t=s.default.Shader,b.default=t},{"../core/main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.function.name":174,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],343:[function(t,_,b){function s(f){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(f)}function l(f){return(l=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(y){return s(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":s(y)})(f)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(b,"__esModule",{value:!0}),b.checkWebGLCapabilities=u,b.default=b.MipmapTexture=void 0;var n=(c=t("../core/main"))&&c.__esModule?c:{default:c},d=function(f){if(f&&f.__esModule)return f;if(f===null||l(f)!=="object"&&typeof f!="function")return{default:f};var y=m();if(y&&y.has(f))return y.get(f);var x,M={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(x in f){var E;Object.prototype.hasOwnProperty.call(f,x)&&((E=w?Object.getOwnPropertyDescriptor(f,x):null)&&(E.get||E.set)?Object.defineProperty(M,x,E):M[x]=f[x])}return M.default=f,y&&y.set(f,M),M}(t("../core/constants"));function m(){var f;return typeof WeakMap!="function"?null:(f=new WeakMap,m=function(){return f},f)}function p(f,y){return(p=Object.setPrototypeOf||function(x,M){return x.__proto__=M,x})(f,y)}function r(f){return function(){var y,x=o(f),x=(y=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(y=o(this).constructor,Reflect.construct(x,arguments,y)):x.apply(this,arguments),this);if(!y||l(y)!=="object"&&typeof y!="function"){if(x!==void 0)return x;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return y}}function o(f){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(y){return y.__proto__||Object.getPrototypeOf(y)})(f)}function a(f,y){if(!(f instanceof y))throw new TypeError("Cannot call a class as a function")}function i(f,y){for(var x=0;x<y.length;x++){var M=y[x];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(f,M.key,M)}}function h(f,y,x){y&&i(f.prototype,y)}n.default.Texture=function(){function f(C,x,E){a(this,f),this._renderer=C;var w=this._renderer.GL,E=(E=E||{},this.src=x,this.glTex=void 0,this.glTarget=w.TEXTURE_2D,this.glFormat=E.format||w.RGBA,this.mipmaps=!1,this.glMinFilter=E.minFilter||w.LINEAR,this.glMagFilter=E.magFilter||w.LINEAR,this.glWrapS=E.wrapS||w.CLAMP_TO_EDGE,this.glWrapT=E.wrapT||w.CLAMP_TO_EDGE,this.glDataType=E.dataType||w.UNSIGNED_BYTE,u(C)),C=(this.glFormat!==w.HALF_FLOAT||E.halfFloat||(console.log("This device does not support dataType HALF_FLOAT. Falling back to FLOAT."),this.glDataType=w.FLOAT),this.glFormat!==w.HALF_FLOAT||this.glMinFilter!==w.LINEAR&&this.glMagFilter!==w.LINEAR||E.halfFloatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===w.LINEAR&&(this.glMinFilter=w.NEAREST),this.glMagFilter===w.LINEAR&&(this.glMagFilter=w.NEAREST)),this.glFormat!==w.FLOAT||E.float||(console.log("This device does not support dataType FLOAT. Falling back to UNSIGNED_BYTE."),this.glDataType=w.UNSIGNED_BYTE),this.glFormat!==w.FLOAT||this.glMinFilter!==w.LINEAR&&this.glMagFilter!==w.LINEAR||E.floatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===w.LINEAR&&(this.glMinFilter=w.NEAREST),this.glMagFilter===w.LINEAR&&(this.glMagFilter=w.NEAREST)),this.isSrcMediaElement=n.default.MediaElement!==void 0&&x instanceof n.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=n.default.Element!==void 0&&x instanceof n.default.Element&&!(x instanceof n.default.Graphics)&&!(x instanceof n.default.Renderer),this.isSrcP5Image=x instanceof n.default.Image,this.isSrcP5Graphics=x instanceof n.default.Graphics,this.isSrcP5Renderer=x instanceof n.default.Renderer,this.isImageData=typeof ImageData<"u"&&x instanceof ImageData,this.isFramebufferTexture=x instanceof n.default.FramebufferTexture,this._getTextureDataFromSource());return this.width=C.width,this.height=C.height,this.init(C),this}return h(f,[{key:"_getTextureDataFromSource",value:function(){var y;return this.isFramebufferTexture?y=this.src.rawTexture():this.isSrcP5Image?y=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcP5Renderer||this.isSrcHTMLElement?y=this.src.elt:this.isImageData&&(y=this.src),y}},{key:"init",value:function(y){var x,M=this._renderer.GL;this.isFramebufferTexture||(this.glTex=M.createTexture()),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_MAG_FILTER,this.glMagFilter),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_MIN_FILTER,this.glMinFilter),this.isFramebufferTexture||(this.width===0||this.height===0||this.isSrcMediaElement&&!this.src.loadedmetadata?(x=new Uint8Array([1,1,1,1]),M.texImage2D(this.glTarget,0,M.RGBA,1,1,0,this.glFormat,this.glDataType,x)):M.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,y))}},{key:"update",value:function(){var y,x,M,w=this.src;return w.width!==0&&w.height!==0&&!this.isFramebufferTexture&&(y=this._getTextureDataFromSource(),x=!1,M=this._renderer.GL,y.width!==this.width||y.height!==this.height?(x=!0,this.width=y.width||w.width,this.height=y.height||w.height,this.isSrcP5Image?w.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&w.setModified(!0)):this.isSrcP5Image?w.isModified()&&w.setModified(!(x=!0)):this.isSrcMediaElement?w.isModified()?w.setModified(!(x=!0)):w.loadedmetadata&&this._videoPrevUpdateTime!==w.time()&&(this._videoPrevUpdateTime=w.time(),x=!0):this.isImageData?w._dirty&&(x=!(w._dirty=!1)):x=!0,x&&(this.bindTexture(),M.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,y)),x)}},{key:"bindTexture",value:function(){return this._renderer.GL.bindTexture(this.glTarget,this.getTexture()),this}},{key:"unbindTexture",value:function(){this._renderer.GL.bindTexture(this.glTarget,null)}},{key:"getTexture",value:function(){return this.isFramebufferTexture?this.src.rawTexture():this.glTex}},{key:"setInterpolation",value:function(y,x){var M=this._renderer.GL;this.glMinFilter=this.glFilter(y),this.glMagFilter=this.glFilter(x),this.bindTexture(),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_MIN_FILTER,this.glMinFilter),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()}},{key:"glFilter",value:function(y){var x=this._renderer.GL;return y===d.NEAREST?x.NEAREST:x.LINEAR}},{key:"setWrapMode",value:function(y,x){function M(L){return(L&L-1)==0}var w=this._renderer.GL,C=this._getTextureDataFromSource(),C=C.naturalWidth&&C.naturalHeight?(E=C.naturalWidth,C.naturalHeight):(E=this.width,this.height),E=M(E),C=M(C);y===d.REPEAT?this._renderer.webglVersion===d.WEBGL2||E&&C?this.glWrapS=w.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=w.CLAMP_TO_EDGE):y===d.MIRROR?this._renderer.webglVersion===d.WEBGL2||E&&C?this.glWrapS=w.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=w.CLAMP_TO_EDGE):this.glWrapS=w.CLAMP_TO_EDGE,x===d.REPEAT?this._renderer.webglVersion===d.WEBGL2||E&&C?this.glWrapT=w.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=w.CLAMP_TO_EDGE):x===d.MIRROR?this._renderer.webglVersion===d.WEBGL2||E&&C?this.glWrapT=w.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=w.CLAMP_TO_EDGE):this.glWrapT=w.CLAMP_TO_EDGE,this.bindTexture(),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_WRAP_S,this.glWrapS),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()}}]),f}();var c=function(f){var y=M;if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(f&&f.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),f&&p(y,f);var x=r(M);function M(w,E,C){return a(this,M),E=(w=x.call(this,w,E,C))._renderer.GL,w.glMinFilter===E.LINEAR&&(w.glMinFilter=E.LINEAR_MIPMAP_LINEAR),w}return h(M,[{key:"glFilter",value:function(w){return this._renderer.GL.LINEAR_MIPMAP_LINEAR}},{key:"_getTextureDataFromSource",value:function(){return this.src}},{key:"init",value:function(w){var E=this._renderer.GL;this.glTex=E.createTexture(),this.bindTexture();for(var C=0;C<w.length;C++)E.texImage2D(this.glTarget,C,this.glFormat,this.glFormat,this.glDataType,w[C]);this.glMinFilter=E.LINEAR_MIPMAP_LINEAR,E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MAG_FILTER,this.glMagFilter),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MIN_FILTER,this.glMinFilter),this.unbindTexture()}},{key:"update",value:function(){}}]),M}(n.default.Texture);function u(w){var y=w.GL,w=w.webglVersion,x=w===d.WEBGL2?y.getExtension("EXT_color_buffer_float")&&y.getExtension("EXT_float_blend"):y.getExtension("OES_texture_float"),M=x&&y.getExtension("OES_texture_float_linear"),w=w===d.WEBGL2?y.getExtension("EXT_color_buffer_float"):y.getExtension("OES_texture_half_float");return{float:x,floatLinear:M,halfFloat:w,halfFloatLinear:w&&y.getExtension("OES_texture_half_float_linear")}}b.MipmapTexture=c,t=n.default.Texture,b.default=t},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],344:[function(t,_,b){function s(f){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(f)}function l(f){return(l=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(y){return s(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":s(y)})(f)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.sub"),t("core-js/modules/web.dom-collections.iterator");var n,d=(n=t("../core/main"))&&n.__esModule?n:{default:n},m=function(f){if(f&&f.__esModule)return f;if(f===null||l(f)!=="object"&&typeof f!="function")return{default:f};var y=p();if(y&&y.has(f))return y.get(f);var x,M={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(x in f){var E;Object.prototype.hasOwnProperty.call(f,x)&&((E=w?Object.getOwnPropertyDescriptor(f,x):null)&&(E.get||E.set)?Object.defineProperty(M,x,E):M[x]=f[x])}return M.default=f,y&&y.set(f,M),M}(t("../core/constants"));function p(){var f;return typeof WeakMap!="function"?null:(f=new WeakMap,p=function(){return f},f)}function r(f,y){if(!(f instanceof y))throw new TypeError("Cannot call a class as a function")}function o(f,y){for(var x=0;x<y.length;x++){var M=y[x];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(f,M.key,M)}}function a(f,y,x){y&&o(f.prototype,y)}t("./p5.Shader"),t("./p5.RendererGL.Retained"),d.default.RendererGL.prototype._applyTextProperties=function(){},d.default.RendererGL.prototype.textWidth=function(f){return this._isOpenType()?this._textFont._textWidth(f,this._textSize):0};var i=function(){function f(y,x){r(this,f),this.width=y,this.height=x,this.infos=[]}return a(f,[{key:"findImage",value:function(y){var x,M,w=this.width*this.height;if(w<y)throw new Error("font is too complex to render in 3D");for(var E=this.infos.length-1;0<=E;--E){var C=this.infos[E];if(C.index+y<w){M=(x=C).imageData;break}}if(!x){try{M=new ImageData(this.width,this.height)}catch{var L=document.getElementsByTagName("canvas")[0],k=!L,R=(L||((L=document.createElement("canvas")).style.display="none",document.body.appendChild(L)),L.getContext("2d"));R&&(M=R.createImageData(this.width,this.height)),k&&document.body.removeChild(L)}this.infos.push(x={index:0,imageData:M})}return R=x.index,x.index+=y,M._dirty=!0,{imageData:M,index:R}}}]),f}();function h(C,y,x,M,w){var E=C.imageData.data,C=4*C.index++;E[C++]=y,E[C++]=x,E[C++]=M,E[+C]=w}var c=Math.sqrt(3),u=function(){function f(y){r(this,f),this.font=y,this.strokeImageInfos=new i(64,64),this.colDimImageInfos=new i(64,64),this.rowDimImageInfos=new i(64,64),this.colCellImageInfos=new i(64,64),this.rowCellImageInfos=new i(64,64),this.glyphInfos={}}return a(f,[{key:"getGlyphInfo",value:function(y){var x=this.glyphInfos[y.index];if(!x){var M=y.getBoundingBox(),w=M.x1,E=M.y1,C=M.x2-w,L=M.y2-E,k=y.path.commands;if(C==0||L==0||!k.length)return this.glyphInfos[y.index]={};for(var R=[],P=[],F=[],I=8;0<=I;--I)F.push([]);for(I=8;0<=I;--I)P.push([]);var B,V,H,z,G=function(){function qe(Ge,Ze,ze,xe){r(this,qe),this.p0=Ge,this.c0=Ze,this.c1=ze,this.p1=xe}return a(qe,[{key:"toQuadratic",value:function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}}},{key:"quadError",value:function(){return d.default.Vector.sub(d.default.Vector.sub(this.p1,this.p0),d.default.Vector.mult(d.default.Vector.sub(this.c1,this.c0),3)).mag()/2}},{key:"split",value:function(Le){var Ze=d.default.Vector.lerp(this.p0,this.c0,Le),xe=d.default.Vector.lerp(this.c0,this.c1,Le),ze=d.default.Vector.lerp(Ze,xe,Le),xe=(this.c1=d.default.Vector.lerp(this.c1,this.p1,Le),this.c0=d.default.Vector.lerp(xe,this.c1,Le),d.default.Vector.lerp(ze,this.c0,Le)),Le=new qe(this.p0,Ze,ze,xe);return this.p0=xe,Le}},{key:"splitInflections",value:function(){var Ge=d.default.Vector.sub(this.c0,this.p0),Ze=d.default.Vector.sub(d.default.Vector.sub(this.c1,this.c0),Ge),ze=d.default.Vector.sub(d.default.Vector.sub(d.default.Vector.sub(this.p1,this.c1),Ge),d.default.Vector.mult(Ze,2)),xe=[],Le=Ze.x*ze.y-Ze.y*ze.x;return Le!==0&&0<=(Ge=(ze=Ge.x*ze.y-Ge.y*ze.x)*ze-4*Le*(Ge.x*Ze.y-Ge.y*Ze.x))&&(Le<0&&(Le=-Le,ze=-ze),Ge=(-ze+(Ze=Math.sqrt(Ge)))/(2*Le),0<(ze=(-ze-Ze)/(2*Le))&&ze<1&&(xe.push(this.split(ze)),Ge=1-(1-Ge)/(1-ze)),0<Ge&&Ge<1&&xe.push(this.split(Ge))),xe.push(this),xe}}]),qe}(),Q=!0,ie=!1,T=void 0;try{for(var D,U=k[Symbol.iterator]();!(Q=(D=U.next()).done);Q=!0){var W=D.value,$=(W.x-w)/C,ee=(W.y-E)/L;if(!Me(B,V,$,ee)){switch(W.type){case"M":H=$,z=ee;break;case"L":Ie(B,V,$,ee);break;case"Q":var ne=(W.x1-w)/C,fe=(W.y1-E)/L;be([B,$,ne],[V,ee,fe],{x:B,y:V,cx:ne,cy:fe});break;case"Z":Me(B,V,H,z)?R.push({x:B,y:V}):(Ie(B,V,H,z),R.push({x:H,y:z}));break;case"C":for(var se=function(te,we,Oe,ze,xe,Le,Te,K){var te=new G(new d.default.Vector(te,we),new d.default.Vector(Oe,ze),new d.default.Vector(xe,Le),new d.default.Vector(Te,K)).splitInflections(),Z=[],oe=30/c,ve=!0,we=!1,Oe=void 0;try{for(var Be,De=te[Symbol.iterator]();!(ve=(Be=De.next()).done);ve=!0){for(var He=Be.value,Xe=[],ct=void 0;!(.125<=(ct=oe/He.quadError()));){var rt=Math.pow(ct,.3333333333333333),Je=He.split(rt),ft=He.split(1-rt/(1-rt));Z.push(Je),Xe.push(He),He=ft}ct<1&&Z.push(He.split(.5)),Z.push(He),Array.prototype.push.apply(Z,Xe.reverse())}}catch(ot){we=!0,Oe=ot}finally{try{ve||De.return==null||De.return()}finally{if(we)throw Oe}}return Z}(B,V,(W.x1-w)/C,(W.y1-E)/L,(W.x2-w)/C,(W.y2-E)/L,$,ee),he=0;he<se.length;he++){var ae=se[he].toQuadratic();be([ae.x,ae.x1,ae.cx],[ae.y,ae.y1,ae.cy],ae)}break;default:throw new Error("unknown command type: ".concat(W.type))}B=$,V=ee}}}catch(qe){ie=!0,T=qe}finally{try{Q||U.return==null||U.return()}finally{if(ie)throw T}}for(var J=R.length,le=this.strokeImageInfos.findImage(J),ye=le.index,ue=0;ue<J;++ue){var ge=R[ue];h(le,Se(ge.x),Se(ge.y),Se(ge.cx),Se(ge.cy))}(x=this.glyphInfos[y.index]={glyph:y,uGlyphRect:[M.x1,-M.y1,M.x2,-M.y2],strokeImageInfo:le,strokes:R,colInfo:$e(F,this.colDimImageInfos,this.colCellImageInfos),rowInfo:$e(P,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[x.colInfo.dimOffset,x.rowInfo.dimOffset]}return x;function be(qe,Ge,Ze){var ze=R.length;function xe(Z,oe,ve){for(var we=Z.length;0<we--;){var Oe=Z[we];Oe<oe&&(oe=Oe),ve<Oe&&(ve=Oe)}return{min:oe,max:ve}}R.push(Ze);for(var Ze=xe(qe,1,0),qe=Math.max(Math.floor(9*Ze.min-.5),0),Le=Math.min(Math.ceil(9*Ze.max+.5),9),Te=qe;Te<Le;++Te)F[Te].push(ze);for(var Ze=xe(Ge,1,0),qe=Math.max(Math.floor(9*Ze.min-.5),0),K=Math.min(Math.ceil(9*Ze.max+.5),9),te=qe;te<K;++te)P[te].push(ze)}function Se(qe){return(qe=(Ze=255)*qe)<(Ge=0)?Ge:Ze<qe?Ze:qe;var Ge,Ze}function Ie(qe,Ge,Ze,ze){be([qe,Ze],[Ge,ze],{x:qe,y:Ge,cx:(qe+Ze)/2,cy:(Ge+ze)/2})}function Me(qe,Ge,Ze,ze){return Math.abs(Ze-qe)<1e-5&&Math.abs(ze-Ge)<1e-5}function $e(qe,Ge,Ze){for(var ze=qe.length,xe=Ge.findImage(ze),Ge=xe.index,Le=0,Te=0;Te<ze;++Te)Le+=qe[Te].length;for(var K=Ze.findImage(Le),te=0;te<ze;++te){var Z=qe[te],oe=Z.length,ve=K.index;h(xe,ve>>7,127&ve,oe>>7,127&oe);for(var we=0;we<oe;++we){var Oe=Z[we]+ye;h(K,Oe>>7,127&Oe,0,0)}}return{cellImageInfo:K,dimOffset:Ge,dimImageInfo:xe}}}}]),f}();d.default.RendererGL.prototype._renderText=function(f,y,x,M,w){if(this._textFont&&typeof this._textFont!="string"){if(!(w<=M)&&this._doFill){if(this._isOpenType()){f.push();var w=this._doStroke,E=this.drawMode,C=(this._doStroke=!1,this.drawMode=m.TEXTURE,this._textFont.font),L=(L=this._textFont._fontInfo)||(this._textFont._fontInfo=new u(C)),x=this._textFont._handleAlignment(this,y,x,M),M=this._textSize/C.unitsPerEm,k=(this.translate(x.x,x.y,0),this.scale(M,M,1),this.GL),x=!this._defaultFontShader,R=this._getFontShader(),P=(R.init(),R.bindShader(),x&&(R.setUniform("uGridImageSize",[64,64]),R.setUniform("uCellsImageSize",[64,64]),R.setUniform("uStrokeImageSize",[64,64]),R.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor),this.retainedMode.geometry.glyph),F=(P||((M=this._textGeom=new d.default.Geometry(1,1,function(){for(var he=0;he<=1;he++)for(var ae=0;ae<=1;ae++)this.vertices.push(new d.default.Vector(ae,he,0)),this.uvs.push(ae,he)})).computeFaces().computeNormals(),P=this.createBuffers("glyph",M)),!0),x=!1,M=void 0;try{for(var I,B=this.retainedMode.buffers.text[Symbol.iterator]();!(F=(I=B.next()).done);F=!0)I.value._prepareBuffer(P,R)}catch(he){x=!0,M=he}finally{try{F||B.return==null||B.return()}finally{if(x)throw M}}this._bindBuffer(P.indexBuffer,k.ELEMENT_ARRAY_BUFFER),R.setUniform("uMaterialColor",this.curFillColor),k.pixelStorei(k.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);try{var V=0,H=null,z=C.stringToGlyphs(y),G=!0,Q=!1,ie=void 0;try{for(var T,D=z[Symbol.iterator]();!(G=(T=D.next()).done);G=!0){var U,W,$=T.value,ee=(H&&(V+=C.getKerningValue(H,$)),L.getGlyphInfo($));ee.uGlyphRect&&(U=ee.rowInfo,W=ee.colInfo,R.setUniform("uSamplerStrokes",ee.strokeImageInfo.imageData),R.setUniform("uSamplerRowStrokes",U.cellImageInfo.imageData),R.setUniform("uSamplerRows",U.dimImageInfo.imageData),R.setUniform("uSamplerColStrokes",W.cellImageInfo.imageData),R.setUniform("uSamplerCols",W.dimImageInfo.imageData),R.setUniform("uGridOffset",ee.uGridOffset),R.setUniform("uGlyphRect",ee.uGlyphRect),R.setUniform("uGlyphOffset",V),R.bindTextures(),k.drawElements(k.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)),V+=$.advanceWidth,H=$}}catch(he){Q=!0,ie=he}finally{try{G||D.return==null||D.return()}finally{if(Q)throw ie}}}finally{R.unbindShader(),this._doStroke=w,this.drawMode=E,k.pixelStorei(k.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),f.pop()}}else console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported");return f}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":272,"../core/main":283,"./p5.RendererGL.Retained":340,"./p5.Shader":342,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}]},{},[267])(267)})})(ld);var op=ld.exports;const ud=np(op);let sp=4,ip="#2C2C2C",ap="#198F51",lp=.2,up=4,Pu=.05;class cp{constructor(g){this.p=g,this.position=g.createVector(g.random(g.width),g.random(g.height)),this.velocity=ud.Vector.random2D(),this.velocity.setMag(g.random(2,10)),this.acceleration=g.createVector(),this.maxForce=lp,this.maxSpeed=up,this.highlighted=!1,this.transition=0}edges(){const{p:g}=this;this.position.x>g.width?this.position.x=0:this.position.x<0&&(this.position.x=g.width),this.position.y>g.height?this.position.y=0:this.position.y<0&&(this.position.y=g.height)}update(){this.position.add(this.velocity),this.velocity.add(this.acceleration),this.velocity.limit(this.maxSpeed),this.acceleration.mult(0),this.highlighted?(this.transition+=Pu,this.transition>1&&(this.transition=1)):(this.transition-=Pu,this.transition<0&&(this.transition=0))}show(){const{p:g}=this,S=g.lerpColor(g.color(ip),g.color(ap),this.transition);g.strokeWeight(sp),g.stroke(S),g.point(this.position.x,this.position.y)}}var dp=Sn("<div></div>");function hp(X,g){_o(g,!0);let S,t=ia(()=>g.numOfHighlightedBug>0?Array.from({length:g.numOfHighlightedBug},(s,l)=>l):[]),_=s=>{let l=Ia([]);s.setup=()=>{s.createCanvas(s.windowWidth,s.windowHeight)},s.draw=()=>{s.background(g.bgColor),d(g.numOfBugs),n(l,$t(t)),l.forEach(m=>{m.edges(),m.update(),m.show()})},s.windowResized=()=>{s.resizeCanvas(s.windowWidth,s.windowHeight)};const n=(m,p)=>{m.forEach(r=>{r.highlighted=!1}),p==null||p.forEach(r=>{l[r]&&(l[r].highlighted=!0)})},d=m=>{let p,r=l.length;if(m>r){p=m-r;for(let o=0;o<p;o++)l.push(new cp(s))}else if(m<r){p=r-m;for(let o=0;o<p;o++)l.splice(-p,p)}else return}};wo(()=>{new ud(_,S)});var b=dp();Ro(b,s=>S=s,()=>S),Yr(X,b),xo()}const fp=['<span class="text-[1.25rem] font-[700] font-serif text-[#198F51]">41%</span> of ecosystems are on the brink of collapse, and biodiversity is closely linked to this crisis.<br><br>We employ computer vision to monitor the <span class="text-[1.25rem] font-[600] font-serif text-[#198F51]">abundance</span> and <span class="text-[1.25rem] font-[600] font-serif text-[#198F51]">diversity</span> of insects as biodiversity proxies.','<span id="40" >While existing models can detect up to <span id="40-num" class="text-[1.25rem] font-[700] font-serif text-[#198F51]">40</span> insect species,</span> <span id="2584" class="text-[#383838]">our model significantly extends this capability to <span id="2584-num"class="text-[1.25rem] font-[700] font-serif text-[#383838]">2,584</span> species.</span>'];var pp=Sn('<div id="step" class=" h-[70vh] w-[80vw] mobile:w-[600px] tablet:w-[600px] laptop:w-[600px]"><div class="step-bg step-content h-auto px-[1rem] py-[1rem] svelte-10j716y"><p class="step-text svelte-10j716y"><!></p></div></div>'),mp=Sn('<div id="punchline-box" class=" h-[40vh] w-[80vw] mobile:w-[600px] tablet:w-[600px] laptop:w-[600px]"><div id="punchline" class="step-content step-bg h-auto px-[1rem] py-[1rem] svelte-10j716y"><p class="step-text svelte-10j716y"><!></p></div></div> <div id="placeholder" class=" h-[50vh] w-[80vw] mobile:w-[600px] tablet:w-[600px] laptop:w-[600px]"></div> <div id="placeholder-end" class=" h-0 w-[80vw] mobile:w-[600px] tablet:w-[600px] laptop:w-[600px]"></div>',1),yp=Sn('<section id="storyline" class="relative w-full"><div class="letf-0 fixed top-0 z-[-10] min-h-[100vh] w-full bg-orange-300"><!></div> <div id="steps" class="relative z-[10] flex w-full justify-center pt-[10vh] mobile:pb-[100vh]"><!></div></section>');function gp(X,g){_o(g,!0);let S=Ms(null),t=ia(()=>{if($t(S)===null||$t(S)===void 0||$t(S)===0)return 500;if($t(S)===1||$t(S)===2)return 1500}),_=ia(()=>{let p=5;return $t(S)===1?p=40:$t(S)===2&&(p=600),p}),b="#000000";wo(()=>{wt.create({trigger:"#punchline-box",start:"top 40%",end:()=>`+=${window.innerHeight*.9-punchline.offsetHeight}px`,pin:"#punchline",toggleActions:"play none none reverse",onEnter:()=>{console.log("enter")},onLeaveBack:()=>{console.log("leave")}})}),eh(()=>{rr.to('[id="40"]',{duration:1,color:"#383838",ease:"power3.inOut",scrollTrigger:{trigger:"#placeholder",start:"top 50%",end:"bottom 50%",toggleActions:"play none none reverse"}}),rr.to('[id="40-num"]',{duration:1,color:"#383838",ease:"power3.inOut",scrollTrigger:{trigger:"#placeholder",start:"top 50%",end:"bottom 50%",toggleActions:"play none none reverse"}}),rr.to('[id="2584"]',{duration:1,color:"#f8f8f8",ease:"power3.inOut",scrollTrigger:{trigger:"#placeholder",start:"top 50%",end:"bottom 50%",toggleActions:"play none none reverse"}}),rr.to('[id="2584-num"]',{duration:1,color:"#198F51",ease:"power3.inOut",scrollTrigger:{trigger:"#placeholder",start:"top 50%",end:"bottom 50%",toggleActions:"play none none reverse"}})});var s=yp(),l=Pt(s),n=Pt(l);hp(n,{get numOfBugs(){return $t(t)},get numOfHighlightedBugs(){return $t(_)},get bgColor(){return b}}),xt(l);var d=gt(gt(l,!0)),m=Pt(d);rp(m,{get value(){return $t(S)},set value(p){qo(S,Ia(p))},children:(p,r)=>{var o=Fi(),a=is(o);oh(a,65,()=>fp,rh,(i,h,c)=>{var u=Fi(),f=is(u);aa(f,()=>Nn(c)<1,y=>{var x=pp(),M=Pt(x),w=Pt(M),E=Pt(w);Ql(E,()=>Nn(h)),xt(w),xt(M),xt(x),sa(()=>Io(x,"active",$t(S)===Nn(c))),Yr(y,x)},y=>{var x=Fi(),M=is(x);aa(M,()=>Nn(c)>=1,w=>{var E=mp(),C=is(E),L=Pt(C),k=Pt(L),R=Pt(k);Ql(R,()=>Nn(h)),xt(k),xt(L),xt(C);var P=gt(gt(C,!0)),F=gt(gt(P,!0));sa(()=>{Io(C,"active",$t(S)===Nn(c)),Io(P,"active",$t(S)===Nn(c)+1),Io(F,"active",$t(S)===Nn(c)+1)}),Yr(w,E)},null,!0),Yr(y,x)}),Yr(i,u)}),Yr(p,o)},$$slots:{default:!0}}),xt(d),xt(s),Yr(X,s),xo()}const vp=""+new URL("../assets/ams_logo_dark.D0lQsnmx.svg",import.meta.url).href,bp=""+new URL("../assets/mit-scl_logo_dark.D1MG_wVA.svg",import.meta.url).href;var _p=Sn(`<footer id="footer" class="footer-not-mobile footer-mobile z-50 w-full select-text overflow-y-auto bg-[#f8f8f8] opacity-0 mix-blend-difference svelte-1fey909"><div class="grid-ctn columns note-body h-auto w-full py-[4rem] svelte-1fey909"><div class="left-section hrchy-1 svelte-1fey909"><div class="hrchy-2 svelte-1fey909"><p class="note-header svelte-1fey909">Description</p> <p>The loss of biodiversity is a global crisis with profound ecological
          and economic consequences. Among the numerous threats to biodiversity,
          the rapid decline in insect populations is particularly concerning, as
          around 65% of insect species could go extinct over the next one
          hundred years. This could have disastrous consequences, as insects
          play critical roles in pollination and nutrient cycling, and act as a
          food source for other species. In B++ we propose a computer vision
          model to insect species on a large scaleincrease in more than 60
          folds species detected in existing models. We make available an image
          data source and a recent improvement in the YOLO computer vision
          architecture to present a quick and open-access method to develop
          visual AI models to monitor insect species across climatic regions.</p></div> <div class="hrchy-2 w-auto svelte-1fey909"><p class="note-header svelte-1fey909">Team</p> <div class="hrchy-2 svelte-1fey909"><p>Carlo Ratti, Director</p> <div class="hrchy-3 svelte-1fey909"><p class="note-subtitle svelte-1fey909">Research</p> <div><p>Titus Venverloo, Lead</p> <p>Fbio Duarte</p></div></div> <div class="hrchy-3 svelte-1fey909"><p class="note-subtitle svelte-1fey909">Web & Visualization</p> <p>Muxing Chen</p></div></div></div></div> <div class="right-section hrchy-1 svelte-1fey909"><div class="hrchy-2 svelte-1fey909"><p class="note-header svelte-1fey909">Publication</p> <p>Venverloo, T., Duarte, F. (2024) <a class="underline svelte-1fey909" href="https://senseable.mit.edu/papers/pdf/20240815_Venvenloo-Duarte_InsectSpecies_ScientificReports.pdf">Towards realtime monitoring of insect species populations.</a> Scientific Reports (Nature).</p></div> <div class="hrchy-2 svelte-1fey909"><p class="note-header svelte-1fey909">Press</p> <p><a class="underline svelte-1fey909">Download the Press Material</a><br><br>The
          material on this website can be used freely in any publication
          provided that:<br>1. it is duly credited as a project by the MIT
          Senseable City Lab.<br> 2. a PDF copy of the publication is sent to <a class="svelte-1fey909">senseable-press@mit.edu.</a></p></div> <div class="hrchy-2 svelte-1fey909"><p class="note-header svelte-1fey909">In collaboration with</p> <a href="https://www.ams-institute.org/" class="svelte-1fey909"><img class="note-logo origin-top-left scale-[1.25] stroke-black svelte-1fey909" alt="ams_logo"></a></div> <div class="hrchy-1 svelte-1fey909"><div class="hrchy-2 svelte-1fey909"><p>For more information,<br> senseable-contacts@mit.edu</p> <a href="https://senseable.mit.edu/" class="svelte-1fey909"><img class="note-logo svelte-1fey909" alt="mit-scl_logo"></a></div> <a class="underline svelte-1fey909" href="https://accessibility.mit.edu/">Accessibility</a></div></div></div></footer>`);function xp(X,g){_o(g,!1),wo(()=>{rr.registerPlugin(wt),rr.fromTo("#footer",{y:100,duration:1.6,ease:"linear"},{y:0,autoAlpha:1,duration:1,ease:"linear",scrollTrigger:{trigger:"#placeholder",start:"bottom 20%",end:"bottom top",scrub:1,toggleActions:"restart none none reverse",onScrubComplete:()=>{console.log("Scrub complete")}}})}),Fa();var S=_p(),t=Pt(S),_=Pt(t),b=Pt(_);xt(b);var s=gt(gt(b,!0)),l=Pt(s),n=gt(gt(l,!0)),d=Pt(n),m=gt(gt(d,!0)),p=Pt(m),r=gt(gt(p,!0));xt(r),xt(m);var o=gt(gt(m,!0));xt(o),xt(n),xt(s),xt(_);var a=gt(gt(_,!0)),i=Pt(a),h=Pt(i),c=gt(gt(h,!0));oa(),xt(c),xt(i);var u=gt(gt(i,!0)),f=Pt(u),y=gt(gt(f,!0));xt(y),xt(u);var x=gt(gt(u,!0)),M=Pt(x),w=gt(gt(M,!0)),E=Pt(w);Do(E,"src",vp),xt(w),xt(x);var C=gt(gt(x,!0)),L=Pt(C),k=Pt(L);uh(k,""),oa(),xt(k);var R=gt(gt(k,!0)),P=Pt(R);Do(P,"src",bp),xt(R),xt(L),xt(C),xt(a),xt(t),xt(S),Yr(X,S),xo()}function cd(X,g,S){return Math.max(X,Math.min(g,S))}class wp{advance(g){var l;if(!this.isRunning)return;let S=!1;if(this.lerp)this.value=(t=this.value,_=this.to,b=60*this.lerp,s=g,function(n,d,m){return(1-m)*n+m*d}(t,_,1-Math.exp(-b*s))),Math.round(this.value)===this.to&&(this.value=this.to,S=!0);else{this.currentTime+=g;const n=cd(0,this.currentTime/this.duration,1);S=n>=1;const d=S?1:this.easing(n);this.value=this.from+(this.to-this.from)*d}var t,_,b,s;(l=this.onUpdate)==null||l.call(this,this.value,S),S&&this.stop()}stop(){this.isRunning=!1}fromTo(g,S,{lerp:t=.1,duration:_=1,easing:b=n=>n,onStart:s,onUpdate:l}){this.from=this.value=g,this.to=S,this.lerp=t,this.duration=_,this.easing=b,this.currentTime=0,this.isRunning=!0,s==null||s(),this.onUpdate=l}}class jp{constructor({wrapper:g,content:S,autoResize:t=!0,debounce:_=250}={}){Mn(this,"resize",()=>{this.onWrapperResize(),this.onContentResize()});Mn(this,"onWrapperResize",()=>{this.wrapper===window?(this.width=window.innerWidth,this.height=window.innerHeight):(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)});Mn(this,"onContentResize",()=>{this.wrapper===window?(this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth):(this.scrollHeight=this.wrapper.scrollHeight,this.scrollWidth=this.wrapper.scrollWidth)});this.wrapper=g,this.content=S,t&&(this.debouncedResize=function(b,s){let l;return function(){let n=arguments,d=this;clearTimeout(l),l=setTimeout(function(){b.apply(d,n)},s)}}(this.resize,_),this.wrapper===window?window.addEventListener("resize",this.debouncedResize,!1):(this.wrapperResizeObserver=new ResizeObserver(this.debouncedResize),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(this.debouncedResize),this.contentResizeObserver.observe(this.content)),this.resize()}destroy(){var g,S;(g=this.wrapperResizeObserver)==null||g.disconnect(),(S=this.contentResizeObserver)==null||S.disconnect(),window.removeEventListener("resize",this.debouncedResize,!1)}get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}}class dd{constructor(){this.events={}}emit(g,...S){let t=this.events[g]||[];for(let _=0,b=t.length;_<b;_++)t[_](...S)}on(g,S){var t;return(t=this.events[g])!=null&&t.push(S)||(this.events[g]=[S]),()=>{var _;this.events[g]=(_=this.events[g])==null?void 0:_.filter(b=>S!==b)}}off(g,S){var t;this.events[g]=(t=this.events[g])==null?void 0:t.filter(_=>S!==_)}destroy(){this.events={}}}const Au=100/6;class Sp{constructor(g,{wheelMultiplier:S=1,touchMultiplier:t=1}){Mn(this,"onTouchStart",g=>{const{clientX:S,clientY:t}=g.targetTouches?g.targetTouches[0]:g;this.touchStart.x=S,this.touchStart.y=t,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:g})});Mn(this,"onTouchMove",g=>{const{clientX:S,clientY:t}=g.targetTouches?g.targetTouches[0]:g,_=-(S-this.touchStart.x)*this.touchMultiplier,b=-(t-this.touchStart.y)*this.touchMultiplier;this.touchStart.x=S,this.touchStart.y=t,this.lastDelta={x:_,y:b},this.emitter.emit("scroll",{deltaX:_,deltaY:b,event:g})});Mn(this,"onTouchEnd",g=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:g})});Mn(this,"onWheel",g=>{let{deltaX:S,deltaY:t,deltaMode:_}=g;S*=_===1?Au:_===2?this.windowWidth:1,t*=_===1?Au:_===2?this.windowHeight:1,S*=this.wheelMultiplier,t*=this.wheelMultiplier,this.emitter.emit("scroll",{deltaX:S,deltaY:t,event:g})});Mn(this,"onWindowResize",()=>{this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight});this.element=g,this.wheelMultiplier=S,this.touchMultiplier=t,this.touchStart={x:null,y:null},this.emitter=new dd,window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.element.addEventListener("wheel",this.onWheel,{passive:!1}),this.element.addEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.addEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.addEventListener("touchend",this.onTouchEnd,{passive:!1})}on(g,S){return this.emitter.on(g,S)}destroy(){this.emitter.destroy(),window.removeEventListener("resize",this.onWindowResize,!1),this.element.removeEventListener("wheel",this.onWheel,{passive:!1}),this.element.removeEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.removeEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.removeEventListener("touchend",this.onTouchEnd,{passive:!1})}}class Tp{constructor({wrapper:g=window,content:S=document.documentElement,wheelEventsTarget:t=g,eventsTarget:_=t,smoothWheel:b=!0,syncTouch:s=!1,syncTouchLerp:l=.075,touchInertiaMultiplier:n=35,duration:d,easing:m=f=>Math.min(1,1.001-Math.pow(2,-10*f)),lerp:p=!d&&.1,infinite:r=!1,orientation:o="vertical",gestureOrientation:a="vertical",touchMultiplier:i=1,wheelMultiplier:h=1,autoResize:c=!0,__experimental__naiveDimensions:u=!1}={}){this.__isSmooth=!1,this.__isScrolling=!1,this.__isStopped=!1,this.__isLocked=!1,this.onVirtualScroll=({deltaX:f,deltaY:y,event:x})=>{if(x.ctrlKey)return;const M=x.type.includes("touch"),w=x.type.includes("wheel");if(this.options.syncTouch&&M&&x.type==="touchstart"&&!this.isStopped&&!this.isLocked)return void this.reset();const E=f===0&&y===0,C=this.options.gestureOrientation==="vertical"&&y===0||this.options.gestureOrientation==="horizontal"&&f===0;if(E||C)return;let L=x.composedPath();if(L=L.slice(0,L.indexOf(this.rootElement)),L.find(F=>{var I,B,V,H,z;return((I=F.hasAttribute)===null||I===void 0?void 0:I.call(F,"data-lenis-prevent"))||M&&((B=F.hasAttribute)===null||B===void 0?void 0:B.call(F,"data-lenis-prevent-touch"))||w&&((V=F.hasAttribute)===null||V===void 0?void 0:V.call(F,"data-lenis-prevent-wheel"))||((H=F.classList)===null||H===void 0?void 0:H.contains("lenis"))&&!(!((z=F.classList)===null||z===void 0)&&z.contains("lenis-stopped"))}))return;if(this.isStopped||this.isLocked)return void x.preventDefault();if(this.isSmooth=this.options.syncTouch&&M||this.options.smoothWheel&&w,!this.isSmooth)return this.isScrolling=!1,void this.animate.stop();x.preventDefault();let k=y;this.options.gestureOrientation==="both"?k=Math.abs(y)>Math.abs(f)?y:f:this.options.gestureOrientation==="horizontal"&&(k=f);const R=M&&this.options.syncTouch,P=M&&x.type==="touchend"&&Math.abs(k)>5;P&&(k=this.velocity*this.options.touchInertiaMultiplier),this.scrollTo(this.targetScroll+k,Object.assign({programmatic:!1},R?{lerp:P?this.options.syncTouchLerp:1}:{lerp:this.options.lerp,duration:this.options.duration,easing:this.options.easing}))},this.onNativeScroll=()=>{if(!this.__preventNextScrollEvent&&!this.isScrolling){const f=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.velocity=0,this.direction=Math.sign(this.animatedScroll-f),this.emit()}},window.lenisVersion="1.0.42",g!==document.documentElement&&g!==document.body||(g=window),this.options={wrapper:g,content:S,wheelEventsTarget:t,eventsTarget:_,smoothWheel:b,syncTouch:s,syncTouchLerp:l,touchInertiaMultiplier:n,duration:d,easing:m,lerp:p,infinite:r,gestureOrientation:a,orientation:o,touchMultiplier:i,wheelMultiplier:h,autoResize:c,__experimental__naiveDimensions:u},this.animate=new wp,this.emitter=new dd,this.dimensions=new jp({wrapper:g,content:S,autoResize:c}),this.toggleClassName("lenis",!0),this.velocity=0,this.isLocked=!1,this.isStopped=!1,this.isSmooth=s||b,this.isScrolling=!1,this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,!1),this.virtualScroll=new Sp(_,{touchMultiplier:i,wheelMultiplier:h}),this.virtualScroll.on("scroll",this.onVirtualScroll)}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,!1),this.virtualScroll.destroy(),this.dimensions.destroy(),this.toggleClassName("lenis",!1),this.toggleClassName("lenis-smooth",!1),this.toggleClassName("lenis-scrolling",!1),this.toggleClassName("lenis-stopped",!1),this.toggleClassName("lenis-locked",!1)}on(g,S){return this.emitter.on(g,S)}off(g,S){return this.emitter.off(g,S)}setScroll(g){this.isHorizontal?this.rootElement.scrollLeft=g:this.rootElement.scrollTop=g}resize(){this.dimensions.resize()}emit(){this.emitter.emit("scroll",this)}reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.velocity=0,this.animate.stop()}start(){this.isStopped&&(this.isStopped=!1,this.reset())}stop(){this.isStopped||(this.isStopped=!0,this.animate.stop(),this.reset())}raf(g){const S=g-(this.time||g);this.time=g,this.animate.advance(.001*S)}scrollTo(g,{offset:S=0,immediate:t=!1,lock:_=!1,duration:b=this.options.duration,easing:s=this.options.easing,lerp:l=!b&&this.options.lerp,onComplete:n,force:d=!1,programmatic:m=!0}={}){if(!this.isStopped&&!this.isLocked||d){if(["top","left","start"].includes(g))g=0;else if(["bottom","right","end"].includes(g))g=this.limit;else{let p;if(typeof g=="string"?p=document.querySelector(g):g!=null&&g.nodeType&&(p=g),p){if(this.options.wrapper!==window){const o=this.options.wrapper.getBoundingClientRect();S-=this.isHorizontal?o.left:o.top}const r=p.getBoundingClientRect();g=(this.isHorizontal?r.left:r.top)+this.animatedScroll}}if(typeof g=="number"){if(g+=S,g=Math.round(g),this.options.infinite?m&&(this.targetScroll=this.animatedScroll=this.scroll):g=cd(0,g,this.limit),t)return this.animatedScroll=this.targetScroll=g,this.setScroll(this.scroll),this.reset(),void(n==null||n(this));if(!m){if(g===this.targetScroll)return;this.targetScroll=g}this.animate.fromTo(this.animatedScroll,g,{duration:b,easing:s,lerp:l,onStart:()=>{_&&(this.isLocked=!0),this.isScrolling=!0},onUpdate:(p,r)=>{this.isScrolling=!0,this.velocity=p-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=p,this.setScroll(this.scroll),m&&(this.targetScroll=p),r||this.emit(),r&&(this.reset(),this.emit(),n==null||n(this),this.__preventNextScrollEvent=!0,requestAnimationFrame(()=>{delete this.__preventNextScrollEvent}))}})}}}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.options.__experimental__naiveDimensions?this.isHorizontal?this.rootElement.scrollWidth-this.rootElement.clientWidth:this.rootElement.scrollHeight-this.rootElement.clientHeight:this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return this.options.orientation==="horizontal"}get actualScroll(){return this.isHorizontal?this.rootElement.scrollLeft:this.rootElement.scrollTop}get scroll(){return this.options.infinite?(g=this.animatedScroll,S=this.limit,(g%S+S)%S):this.animatedScroll;var g,S}get progress(){return this.limit===0?1:this.scroll/this.limit}get isSmooth(){return this.__isSmooth}set isSmooth(g){this.__isSmooth!==g&&(this.__isSmooth=g,this.toggleClassName("lenis-smooth",g))}get isScrolling(){return this.__isScrolling}set isScrolling(g){this.__isScrolling!==g&&(this.__isScrolling=g,this.toggleClassName("lenis-scrolling",g))}get isStopped(){return this.__isStopped}set isStopped(g){this.__isStopped!==g&&(this.__isStopped=g,this.toggleClassName("lenis-stopped",g))}get isLocked(){return this.__isLocked}set isLocked(g){this.__isLocked!==g&&(this.__isLocked=g,this.toggleClassName("lenis-locked",g))}get className(){let g="lenis";return this.isStopped&&(g+=" lenis-stopped"),this.isLocked&&(g+=" lenis-locked"),this.isScrolling&&(g+=" lenis-scrolling"),this.isSmooth&&(g+=" lenis-smooth"),g}toggleClassName(g,S){this.rootElement.classList.toggle(g,S),this.emitter.emit("className change",this)}}rr.registerPlugin(wt);let ta;function Ep(){ta=new Tp,ta.on("scroll",wt.update),rr.ticker.add(X=>{ta.raf(X*1e3)}),rr.ticker.lagSmoothing(0)}var Mp=Sn('<main class="overflow-x: hidden; pd-[100vh] relative"><!> <!> <!></main>');function Dp(X){var g=Mp(),S=Pt(g);ep(S,{$$legacy:!0});var t=gt(gt(S,!0));gp(t,{$$legacy:!0});var _=gt(gt(t,!0));xp(_,{$$legacy:!0}),xt(g),lh(g,b=>Ep()),Yr(X,g)}export{Dp as component,Rp as universal};
